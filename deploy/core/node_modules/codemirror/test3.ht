<!doctype html>

<meta charset="utf-8">
<script src="lib/codemirror.js"></script>
<link rel=stylesheet href="lib/codemirror.css">
<script src="addon/mode/simple.js"></script>

<ol>
    <li>In the box, type "(" and hit enter.</li>
    <li>Type "test)" and hit shift-tab to auto-indent.</li>
</ol>
The line dedents, but it should remain indented.

<div id='editor' style='border: 1px solid black'>

<script>
/* Example definition of a simple mode that understands a subset of
 * JavaScript:
 */

CodeMirror.defineSimpleMode("simplemode", {
  // The start state contains the rules that are intially used
  start: [
    // indent and dedent properties guide autoindentation
    {regex: /[\{\[\(]/, indent: true},
    {regex: /[\}\]\)]/, dedent: true},
    {regex: /[a-z$][\w$]*/, token: "variable"}
  ]
});

CodeMirror(document.querySelector('#editor'), {
    mode: 'simplemode',
    value: "(\n  test)"
});
</script>
