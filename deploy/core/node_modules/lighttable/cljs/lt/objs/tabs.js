// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.objs.tabs');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.editor');
goog.require('lt.objs.canvas');
goog.require('lt.objs.command');
goog.require('lt.objs.animations');
goog.require('lt.objs.context');
goog.require('lt.objs.menu');
goog.require('lt.util.load');
goog.require('lt.util.dom');
goog.require('lt.util.style');
goog.require('lt.util.js');
goog.require('singultus.core');
goog.require('singultus.binding');
lt.util.load.js.call(null,"core/node_modules/lighttable/ui/dragdrop.js",new cljs.core.Keyword(null,"sync","sync",-624148946));
lt.objs.tabs.multi_def = lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","multi-editor2","lt.objs.tabs/multi-editor2",-1442267821),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tabs","tabs",-779855354),null], null), null),new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"left","left",-399115937),(0),new cljs.core.Keyword(null,"right","right",-452581833),(0),new cljs.core.Keyword(null,"bottom","bottom",-1550509018),(0),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
var tabsets = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tabsets","div.tabsets",1775084695),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"bottom","bottom",-1550509018),singultus.binding.bound.call(null,singultus.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"tabset-bottom","tabset-bottom",-1366151689)),lt.util.style.__GT_px)], null)], null)], null));
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tabsets-elem","tabsets-elem",54132282),tabsets], null));

lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"tabs","tabs",-779855354),this$);

return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#multi","div#multi",1712435508),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"left","left",-399115937),singultus.binding.bound.call(null,singultus.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"left","left",-399115937)),lt.util.style.__GT_px),new cljs.core.Keyword(null,"right","right",-452581833),singultus.binding.bound.call(null,singultus.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"right","right",-452581833)),lt.util.style.__GT_px),new cljs.core.Keyword(null,"bottom","bottom",-1550509018),singultus.binding.bound.call(null,singultus.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"bottom","bottom",-1550509018)),lt.util.style.__GT_px)], null)], null),tabsets], null);
}));
lt.objs.tabs.multi = lt.object.create.call(null,lt.objs.tabs.multi_def);
lt.objs.tabs.ensure_visible = (function lt$objs$tabs$ensure_visible(idx,tabset){
var temp__5753__auto__ = (lt.util.dom.$$.call(null,".list li",lt.object.__GT_content.call(null,tabset))[idx]);
if(cljs.core.truth_(temp__5753__auto__)){
var cur = temp__5753__auto__;
var left = cur.offsetLeft;
var width = cur.clientWidth;
var right = (left + width);
var gp = lt.util.dom.parent.call(null,lt.util.dom.parent.call(null,cur));
var pwidth = gp.clientWidth;
var pleft = gp.scrollLeft;
var pright = (pleft + pwidth);
var inside = (((left >= pleft)) && ((right <= pright)));
if(inside){
return null;
} else {
if((pleft > left)){
return (gp.scrollLeft = (left - (50)));
} else {
return (gp.scrollLeft = ((right - pwidth) + (50)));
}
}
} else {
return null;
}
});
lt.objs.tabs.__GT_index = (function lt$objs$tabs$__GT_index(obj){
if(cljs.core.truth_((function (){var and__4149__auto__ = obj;
if(cljs.core.truth_(and__4149__auto__)){
var and__4149__auto____$1 = cljs.core.deref.call(null,obj);
if(cljs.core.truth_(and__4149__auto____$1)){
return new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));
} else {
return and__4149__auto____$1;
}
} else {
return and__4149__auto__;
}
})())){
return cljs.core.first.call(null,cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__8247_SHARP_){
return cljs.core._EQ_.call(null,obj,cljs.core.second.call(null,p1__8247_SHARP_));
}),cljs.core.map_indexed.call(null,cljs.core.vector,new cljs.core.Keyword(null,"objs","objs",-1810725634).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj))))))));
} else {
return null;
}
});
lt.objs.tabs.active_BANG_ = (function lt$objs$tabs$active_BANG_(obj){
if(cljs.core.truth_((function (){var and__4149__auto__ = obj;
if(cljs.core.truth_(and__4149__auto__)){
return new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));
} else {
return and__4149__auto__;
}
})())){
lt.object.merge_BANG_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999),obj], null));

lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"show","show",-576705889));

return lt.objs.tabs.ensure_visible.call(null,lt.objs.tabs.__GT_index.call(null,obj),new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj)));
} else {
return null;
}
});
lt.objs.tabs.update_tab_order = (function lt$objs$tabs$update_tab_order(multi,children){
var ser = ((cljs.core.vector_QMARK_.call(null,children))?children:cljs.core.map.call(null,(function (p1__8248_SHARP_){
return lt.util.dom.attr.call(null,p1__8248_SHARP_,new cljs.core.Keyword(null,"pos","pos",-864607220));
}),children));
var prev_active = new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,multi));
lt.object.merge_BANG_.call(null,multi,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"objs","objs",-1810725634),cljs.core.mapv.call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,multi)),ser),new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999),null], null));

return lt.objs.tabs.active_BANG_.call(null,prev_active);
});
lt.objs.tabs.__GT_name = (function lt$objs$tabs$__GT_name(e){
var or__4160__auto__ = cljs.core.get_in.call(null,cljs.core.deref.call(null,e),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"info","info",-317069002),new cljs.core.Keyword(null,"name","name",1843675177)], null));
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
var or__4160__auto____$1 = new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,e));
if(cljs.core.truth_(or__4160__auto____$1)){
return or__4160__auto____$1;
} else {
return "unknown";
}
}
});
lt.objs.tabs.__GT_path = (function lt$objs$tabs$__GT_path(e){
var or__4160__auto__ = cljs.core.get_in.call(null,cljs.core.deref.call(null,e),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"info","info",-317069002),new cljs.core.Keyword(null,"path","path",-188191168)], null));
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
var or__4160__auto____$1 = new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,e));
if(cljs.core.truth_(or__4160__auto____$1)){
return or__4160__auto____$1;
} else {
return "";
}
}
});
lt.objs.tabs.active_QMARK_ = (function lt$objs$tabs$active_QMARK_(c,e,multi){
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(c),((cljs.core._EQ_.call(null,cljs.core.deref.call(null,multi).call(null,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999)),e))?" active":null)].join('');
});
lt.objs.tabs.dirty_QMARK_ = (function lt$objs$tabs$dirty_QMARK_(c,e){
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(c),(cljs.core.truth_(new cljs.core.Keyword(null,"dirty","dirty",729553281).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,e)))?" dirty":null)].join('');
});
/**
 * 
 */
lt.objs.tabs.close_tab = (function lt$objs$tabs$close_tab(obj){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tab-close","span.tab-close",-1995978636),"x"], null));
var seq__8249_8265 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1835149582));
});})(e__992__auto__))
], null)));
var chunk__8250_8266 = null;
var count__8251_8267 = (0);
var i__8252_8268 = (0);
while(true){
if((i__8252_8268 < count__8251_8267)){
var vec__8259_8269 = cljs.core._nth.call(null,chunk__8250_8266,i__8252_8268);
var ev__993__auto___8270 = cljs.core.nth.call(null,vec__8259_8269,(0),null);
var func__994__auto___8271 = cljs.core.nth.call(null,vec__8259_8269,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8270,func__994__auto___8271);


var G__8272 = seq__8249_8265;
var G__8273 = chunk__8250_8266;
var G__8274 = count__8251_8267;
var G__8275 = (i__8252_8268 + (1));
seq__8249_8265 = G__8272;
chunk__8250_8266 = G__8273;
count__8251_8267 = G__8274;
i__8252_8268 = G__8275;
continue;
} else {
var temp__5753__auto___8276 = cljs.core.seq.call(null,seq__8249_8265);
if(temp__5753__auto___8276){
var seq__8249_8277__$1 = temp__5753__auto___8276;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8249_8277__$1)){
var c__4591__auto___8278 = cljs.core.chunk_first.call(null,seq__8249_8277__$1);
var G__8279 = cljs.core.chunk_rest.call(null,seq__8249_8277__$1);
var G__8280 = c__4591__auto___8278;
var G__8281 = cljs.core.count.call(null,c__4591__auto___8278);
var G__8282 = (0);
seq__8249_8265 = G__8279;
chunk__8250_8266 = G__8280;
count__8251_8267 = G__8281;
i__8252_8268 = G__8282;
continue;
} else {
var vec__8262_8283 = cljs.core.first.call(null,seq__8249_8277__$1);
var ev__993__auto___8284 = cljs.core.nth.call(null,vec__8262_8283,(0),null);
var func__994__auto___8285 = cljs.core.nth.call(null,vec__8262_8283,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8284,func__994__auto___8285);


var G__8286 = cljs.core.next.call(null,seq__8249_8277__$1);
var G__8287 = null;
var G__8288 = (0);
var G__8289 = (0);
seq__8249_8265 = G__8286;
chunk__8250_8266 = G__8287;
count__8251_8267 = G__8288;
i__8252_8268 = G__8289;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.tabs.item = (function lt$objs$tabs$item(label,multi,e,pos){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"class","class",-2030961996),lt.objs.tabs.dirty_QMARK_.call(null,lt.objs.tabs.active_QMARK_.call(null," ",e,multi),e),new cljs.core.Keyword(null,"draggable","draggable",1676206163),"true",new cljs.core.Keyword(null,"title","title",636505583),lt.objs.tabs.__GT_path.call(null,e),new cljs.core.Keyword(null,"obj-id","obj-id",1871733713),lt.object.__GT_id.call(null,e),new cljs.core.Keyword(null,"pos","pos",-864607220),pos], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.file-name","span.file-name",-605410282),lt.objs.tabs.__GT_name.call(null,e)], null),(cljs.core.truth_(lt.object.raise_reduce.call(null,e,new cljs.core.Keyword(null,"close-button+","close-button+",242728201),false))?lt.objs.tabs.close_tab.call(null,label):null)], null));
var seq__8290_8306 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"mouseup","mouseup",350619456),((function (e__992__auto__){
return (function (ev){
if(cljs.core.truth_((function (){var or__4160__auto__ = cljs.core._EQ_.call(null,(1),ev.button);
if(or__4160__auto__){
return or__4160__auto__;
} else {
return ev.metaKey;
}
})())){
return lt.util.dom.prevent.call(null,ev);
} else {
return null;
}
});})(e__992__auto__))
,new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (ev){
if(cljs.core.truth_((function (){var or__4160__auto__ = cljs.core._EQ_.call(null,(1),ev.button);
if(or__4160__auto__){
return or__4160__auto__;
} else {
return ev.metaKey;
}
})())){
return lt.object.raise.call(null,label,new cljs.core.Keyword(null,"close","close",1835149582));
} else {
return lt.objs.tabs.active_BANG_.call(null,e);
}
});})(e__992__auto__))
,new cljs.core.Keyword(null,"contextmenu","contextmenu",-15887481),((function (e__992__auto__){
return (function (ev){
return lt.object.raise.call(null,label,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),ev);
});})(e__992__auto__))
], null)));
var chunk__8291_8307 = null;
var count__8292_8308 = (0);
var i__8293_8309 = (0);
while(true){
if((i__8293_8309 < count__8292_8308)){
var vec__8300_8310 = cljs.core._nth.call(null,chunk__8291_8307,i__8293_8309);
var ev__993__auto___8311 = cljs.core.nth.call(null,vec__8300_8310,(0),null);
var func__994__auto___8312 = cljs.core.nth.call(null,vec__8300_8310,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8311,func__994__auto___8312);


var G__8313 = seq__8290_8306;
var G__8314 = chunk__8291_8307;
var G__8315 = count__8292_8308;
var G__8316 = (i__8293_8309 + (1));
seq__8290_8306 = G__8313;
chunk__8291_8307 = G__8314;
count__8292_8308 = G__8315;
i__8293_8309 = G__8316;
continue;
} else {
var temp__5753__auto___8317 = cljs.core.seq.call(null,seq__8290_8306);
if(temp__5753__auto___8317){
var seq__8290_8318__$1 = temp__5753__auto___8317;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8290_8318__$1)){
var c__4591__auto___8319 = cljs.core.chunk_first.call(null,seq__8290_8318__$1);
var G__8320 = cljs.core.chunk_rest.call(null,seq__8290_8318__$1);
var G__8321 = c__4591__auto___8319;
var G__8322 = cljs.core.count.call(null,c__4591__auto___8319);
var G__8323 = (0);
seq__8290_8306 = G__8320;
chunk__8291_8307 = G__8321;
count__8292_8308 = G__8322;
i__8293_8309 = G__8323;
continue;
} else {
var vec__8303_8324 = cljs.core.first.call(null,seq__8290_8318__$1);
var ev__993__auto___8325 = cljs.core.nth.call(null,vec__8303_8324,(0),null);
var func__994__auto___8326 = cljs.core.nth.call(null,vec__8303_8324,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8325,func__994__auto___8326);


var G__8327 = cljs.core.next.call(null,seq__8290_8318__$1);
var G__8328 = null;
var G__8329 = (0);
var G__8330 = (0);
seq__8290_8306 = G__8327;
chunk__8291_8307 = G__8328;
count__8292_8308 = G__8329;
i__8293_8309 = G__8330;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-label","lt.objs.tabs/tab-label",1309036251),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab-label","tab-label",-1508854643),null], null), null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$,multi,e,pos){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("lt.objs.tabs","tab-object","lt.objs.tabs/tab-object",-1393652919),e,new cljs.core.Keyword(null,"tabset","tabset",-939965333),multi], null));

return lt.objs.tabs.item.call(null,this$,multi,e,pos);
}));
lt.objs.tabs.objs_list = (function lt$objs$tabs$objs_list(multi,objs){
var prev_tabs = cljs.core.filter.call(null,(function (p1__8331_SHARP_){
return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,p1__8331_SHARP_)),multi);
}),lt.object.by_tag.call(null,new cljs.core.Keyword(null,"tab-label","tab-label",-1508854643)));
var item = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),(function (){var iter__4564__auto__ = (function lt$objs$tabs$objs_list_$_iter__8332(s__8333){
return (new cljs.core.LazySeq(null,(function (){
var s__8333__$1 = s__8333;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__8333__$1);
if(temp__5753__auto__){
var s__8333__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__8333__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__8333__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__8335 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__8334 = (0);
while(true){
if((i__8334 < size__4563__auto__)){
var vec__8336 = cljs.core._nth.call(null,c__4562__auto__,i__8334);
var idx = cljs.core.nth.call(null,vec__8336,(0),null);
var o = cljs.core.nth.call(null,vec__8336,(1),null);
if(cljs.core.truth_(cljs.core.deref.call(null,o))){
cljs.core.chunk_append.call(null,b__8335,lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-label","lt.objs.tabs/tab-label",1309036251),multi,o,idx)));

var G__8348 = (i__8334 + (1));
i__8334 = G__8348;
continue;
} else {
var G__8349 = (i__8334 + (1));
i__8334 = G__8349;
continue;
}
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__8335),lt$objs$tabs$objs_list_$_iter__8332.call(null,cljs.core.chunk_rest.call(null,s__8333__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__8335),null);
}
} else {
var vec__8339 = cljs.core.first.call(null,s__8333__$2);
var idx = cljs.core.nth.call(null,vec__8339,(0),null);
var o = cljs.core.nth.call(null,vec__8339,(1),null);
if(cljs.core.truth_(cljs.core.deref.call(null,o))){
return cljs.core.cons.call(null,lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-label","lt.objs.tabs/tab-label",1309036251),multi,o,idx)),lt$objs$tabs$objs_list_$_iter__8332.call(null,cljs.core.rest.call(null,s__8333__$2)));
} else {
var G__8350 = cljs.core.rest.call(null,s__8333__$2);
s__8333__$1 = G__8350;
continue;
}
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,cljs.core.map.call(null,cljs.core.vector,cljs.core.range.call(null),objs));
})()], null));
var seq__8342_8351 = cljs.core.seq.call(null,prev_tabs);
var chunk__8343_8352 = null;
var count__8344_8353 = (0);
var i__8345_8354 = (0);
while(true){
if((i__8345_8354 < count__8344_8353)){
var tab_8355 = cljs.core._nth.call(null,chunk__8343_8352,i__8345_8354);
lt.object.destroy_BANG_.call(null,tab_8355);


var G__8356 = seq__8342_8351;
var G__8357 = chunk__8343_8352;
var G__8358 = count__8344_8353;
var G__8359 = (i__8345_8354 + (1));
seq__8342_8351 = G__8356;
chunk__8343_8352 = G__8357;
count__8344_8353 = G__8358;
i__8345_8354 = G__8359;
continue;
} else {
var temp__5753__auto___8360 = cljs.core.seq.call(null,seq__8342_8351);
if(temp__5753__auto___8360){
var seq__8342_8361__$1 = temp__5753__auto___8360;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8342_8361__$1)){
var c__4591__auto___8362 = cljs.core.chunk_first.call(null,seq__8342_8361__$1);
var G__8363 = cljs.core.chunk_rest.call(null,seq__8342_8361__$1);
var G__8364 = c__4591__auto___8362;
var G__8365 = cljs.core.count.call(null,c__4591__auto___8362);
var G__8366 = (0);
seq__8342_8351 = G__8363;
chunk__8343_8352 = G__8364;
count__8344_8353 = G__8365;
i__8345_8354 = G__8366;
continue;
} else {
var tab_8367 = cljs.core.first.call(null,seq__8342_8361__$1);
lt.object.destroy_BANG_.call(null,tab_8367);


var G__8368 = cljs.core.next.call(null,seq__8342_8361__$1);
var G__8369 = null;
var G__8370 = (0);
var G__8371 = (0);
seq__8342_8351 = G__8368;
chunk__8343_8352 = G__8369;
count__8344_8353 = G__8370;
i__8345_8354 = G__8371;
continue;
}
} else {
}
}
break;
}

sortable(item,(function (){var obj8347 = ({"axis":"x","distance":(10),"scroll":false,"opacity":0.9,"connectWith":".list"});
return obj8347;
})());

lt.util.dom.on.call(null,item,"contextmenu",(function (e){
return lt.object.raise.call(null,multi,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),e);
}));

lt.util.dom.on.call(null,item,"moved",(function (e){
return lt.objs.tabs.move_tab.call(null,multi,e.opts);
}));

lt.util.dom.on.call(null,item,"sortupdate",(function (e){
return lt.objs.tabs.update_tab_order.call(null,multi,e.opts);
}));

return item;
});
/**
 * 
 */
lt.objs.tabs.tabbed_item = (function lt$objs$tabs$tabbed_item(active,item){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.content","div.content",-298042649),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"visibility","visibility",1338380893),singultus.binding.bound.call(null,active,(function (p1__8372_SHARP_){
if(cljs.core._EQ_.call(null,p1__8372_SHARP_,cljs.core.deref.call(null,item))){
return "visible";
} else {
return "hidden";
}
}))], null)], null),singultus.binding.bound.call(null,item,(function (p1__8373_SHARP_){
if(cljs.core.truth_(p1__8373_SHARP_)){
return lt.object.__GT_content.call(null,p1__8373_SHARP_);
} else {
return null;
}
}))], null));
var seq__8374_8390 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__8375_8391 = null;
var count__8376_8392 = (0);
var i__8377_8393 = (0);
while(true){
if((i__8377_8393 < count__8376_8392)){
var vec__8384_8394 = cljs.core._nth.call(null,chunk__8375_8391,i__8377_8393);
var ev__993__auto___8395 = cljs.core.nth.call(null,vec__8384_8394,(0),null);
var func__994__auto___8396 = cljs.core.nth.call(null,vec__8384_8394,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8395,func__994__auto___8396);


var G__8397 = seq__8374_8390;
var G__8398 = chunk__8375_8391;
var G__8399 = count__8376_8392;
var G__8400 = (i__8377_8393 + (1));
seq__8374_8390 = G__8397;
chunk__8375_8391 = G__8398;
count__8376_8392 = G__8399;
i__8377_8393 = G__8400;
continue;
} else {
var temp__5753__auto___8401 = cljs.core.seq.call(null,seq__8374_8390);
if(temp__5753__auto___8401){
var seq__8374_8402__$1 = temp__5753__auto___8401;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8374_8402__$1)){
var c__4591__auto___8403 = cljs.core.chunk_first.call(null,seq__8374_8402__$1);
var G__8404 = cljs.core.chunk_rest.call(null,seq__8374_8402__$1);
var G__8405 = c__4591__auto___8403;
var G__8406 = cljs.core.count.call(null,c__4591__auto___8403);
var G__8407 = (0);
seq__8374_8390 = G__8404;
chunk__8375_8391 = G__8405;
count__8376_8392 = G__8406;
i__8377_8393 = G__8407;
continue;
} else {
var vec__8387_8408 = cljs.core.first.call(null,seq__8374_8402__$1);
var ev__993__auto___8409 = cljs.core.nth.call(null,vec__8387_8408,(0),null);
var func__994__auto___8410 = cljs.core.nth.call(null,vec__8387_8408,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8409,func__994__auto___8410);


var G__8411 = cljs.core.next.call(null,seq__8374_8402__$1);
var G__8412 = null;
var G__8413 = (0);
var G__8414 = (0);
seq__8374_8390 = G__8411;
chunk__8375_8391 = G__8412;
count__8376_8392 = G__8413;
i__8377_8393 = G__8414;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.tabs.vertical_grip = (function lt$objs$tabs$vertical_grip(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.vertical-grip","div.vertical-grip",-30981806),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"draggable","draggable",1676206163),"true"], null)], null));
var seq__8415_8431 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dragstart","dragstart",955864218),((function (e__992__auto__){
return (function (e){
(e.dataTransfer.dropEffect = "move");

e.dataTransfer.setData("text/plain",null);

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"start-drag","start-drag",463492443),e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"dragend","dragend",1096302264),((function (e__992__auto__){
return (function (e){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"end-drag","end-drag",1040662768),e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"drag","drag",449951290),((function (e__992__auto__){
return (function (e){
(e.dataTransfer.dropEffect = "move");

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"width!","width!",-1196918001),e);
});})(e__992__auto__))
], null)));
var chunk__8416_8432 = null;
var count__8417_8433 = (0);
var i__8418_8434 = (0);
while(true){
if((i__8418_8434 < count__8417_8433)){
var vec__8425_8435 = cljs.core._nth.call(null,chunk__8416_8432,i__8418_8434);
var ev__993__auto___8436 = cljs.core.nth.call(null,vec__8425_8435,(0),null);
var func__994__auto___8437 = cljs.core.nth.call(null,vec__8425_8435,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8436,func__994__auto___8437);


var G__8438 = seq__8415_8431;
var G__8439 = chunk__8416_8432;
var G__8440 = count__8417_8433;
var G__8441 = (i__8418_8434 + (1));
seq__8415_8431 = G__8438;
chunk__8416_8432 = G__8439;
count__8417_8433 = G__8440;
i__8418_8434 = G__8441;
continue;
} else {
var temp__5753__auto___8442 = cljs.core.seq.call(null,seq__8415_8431);
if(temp__5753__auto___8442){
var seq__8415_8443__$1 = temp__5753__auto___8442;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8415_8443__$1)){
var c__4591__auto___8444 = cljs.core.chunk_first.call(null,seq__8415_8443__$1);
var G__8445 = cljs.core.chunk_rest.call(null,seq__8415_8443__$1);
var G__8446 = c__4591__auto___8444;
var G__8447 = cljs.core.count.call(null,c__4591__auto___8444);
var G__8448 = (0);
seq__8415_8431 = G__8445;
chunk__8416_8432 = G__8446;
count__8417_8433 = G__8447;
i__8418_8434 = G__8448;
continue;
} else {
var vec__8428_8449 = cljs.core.first.call(null,seq__8415_8443__$1);
var ev__993__auto___8450 = cljs.core.nth.call(null,vec__8428_8449,(0),null);
var func__994__auto___8451 = cljs.core.nth.call(null,vec__8428_8449,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8450,func__994__auto___8451);


var G__8452 = cljs.core.next.call(null,seq__8415_8443__$1);
var G__8453 = null;
var G__8454 = (0);
var G__8455 = (0);
seq__8415_8431 = G__8452;
chunk__8416_8432 = G__8453;
count__8417_8433 = G__8454;
i__8418_8434 = G__8455;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.objs.tabs.__GT_perc = (function lt$objs$tabs$__GT_perc(x){
if(cljs.core.truth_(x)){
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(x),"%"].join('');
} else {
return "0";
}
});
lt.objs.tabs.floored = (function lt$objs$tabs$floored(x){
if((x < (0))){
return (0);
} else {
if((x > (100))){
return (100);
} else {
return x;

}
}
});
lt.objs.tabs.to_perc = (function lt$objs$tabs$to_perc(width,x){
return ((x / width) * (100));
});
lt.objs.tabs.next_tabset = (function lt$objs$tabs$next_tabset(t){
var ts = cljs.core.deref.call(null,lt.objs.tabs.multi).call(null,new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722));
return cljs.core.second.call(null,cljs.core.drop_while.call(null,(function (p1__8456_SHARP_){
return cljs.core.not_EQ_.call(null,t,p1__8456_SHARP_);
}),ts));
});
lt.objs.tabs.prev_tabset = (function lt$objs$tabs$prev_tabset(t){
var ts = cljs.core.deref.call(null,lt.objs.tabs.multi).call(null,new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722));
return cljs.core.last.call(null,cljs.core.take_while.call(null,(function (p1__8457_SHARP_){
return cljs.core.not_EQ_.call(null,t,p1__8457_SHARP_);
}),ts));
});
lt.objs.tabs.previous_tabset_width = (function lt$objs$tabs$previous_tabset_width(cur){
var ts = cljs.core.deref.call(null,lt.objs.tabs.multi).call(null,new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722));
return cljs.core.reduce.call(null,cljs.core._PLUS_,(0),cljs.core.map.call(null,cljs.core.comp.call(null,new cljs.core.Keyword(null,"width","width",-384071477),cljs.core.deref),cljs.core.take_while.call(null,(function (p1__8458_SHARP_){
return cljs.core.not_EQ_.call(null,cur,p1__8458_SHARP_);
}),ts)));
});
lt.objs.tabs.add_tabset = (function lt$objs$tabs$add_tabset(ts){
lt.object.update_BANG_.call(null,lt.objs.tabs.multi,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722)], null),cljs.core.conj,ts);

return lt.util.dom.append.call(null,new cljs.core.Keyword(null,"tabsets-elem","tabsets-elem",54132282).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)),lt.object.__GT_content.call(null,ts));
});
lt.objs.tabs.spawn_tabset = (function lt$objs$tabs$spawn_tabset(){
var ts = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529));
var width = ((100) - cljs.core.reduce.call(null,cljs.core._PLUS_,cljs.core.map.call(null,cljs.core.comp.call(null,new cljs.core.Keyword(null,"width","width",-384071477),cljs.core.deref),cljs.core.deref.call(null,lt.objs.tabs.multi).call(null,new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722)))));
lt.object.merge_BANG_.call(null,ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),width], null));

lt.objs.tabs.add_tabset.call(null,ts);

return ts;
});
lt.objs.tabs.equalize_tabset_widths = (function lt$objs$tabs$equalize_tabset_widths(){
var tss = new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi));
var width = (100.0 / cljs.core.count.call(null,tss));
var seq__8459 = cljs.core.seq.call(null,tss);
var chunk__8460 = null;
var count__8461 = (0);
var i__8462 = (0);
while(true){
if((i__8462 < count__8461)){
var ts = cljs.core._nth.call(null,chunk__8460,i__8462);
lt.object.merge_BANG_.call(null,ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),width], null));


var G__8463 = seq__8459;
var G__8464 = chunk__8460;
var G__8465 = count__8461;
var G__8466 = (i__8462 + (1));
seq__8459 = G__8463;
chunk__8460 = G__8464;
count__8461 = G__8465;
i__8462 = G__8466;
continue;
} else {
var temp__5753__auto__ = cljs.core.seq.call(null,seq__8459);
if(temp__5753__auto__){
var seq__8459__$1 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8459__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__8459__$1);
var G__8467 = cljs.core.chunk_rest.call(null,seq__8459__$1);
var G__8468 = c__4591__auto__;
var G__8469 = cljs.core.count.call(null,c__4591__auto__);
var G__8470 = (0);
seq__8459 = G__8467;
chunk__8460 = G__8468;
count__8461 = G__8469;
i__8462 = G__8470;
continue;
} else {
var ts = cljs.core.first.call(null,seq__8459__$1);
lt.object.merge_BANG_.call(null,ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),width], null));


var G__8471 = cljs.core.next.call(null,seq__8459__$1);
var G__8472 = null;
var G__8473 = (0);
var G__8474 = (0);
seq__8459 = G__8471;
chunk__8460 = G__8472;
count__8461 = G__8473;
i__8462 = G__8474;
continue;
}
} else {
return null;
}
}
break;
}
});
lt.objs.tabs.temp_width = (function lt$objs$tabs$temp_width(ts,w){
return lt.util.dom.css.call(null,lt.object.__GT_content.call(null,ts),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"width","width",-384071477),lt.objs.tabs.__GT_perc.call(null,w),new cljs.core.Keyword(null,"border-width","border-width",-1512605390),((cljs.core._EQ_.call(null,(0),w))?(0):"")], null));
});
lt.objs.tabs.activate_tabset = (function lt$objs$tabs$activate_tabset(ts){
if(cljs.core._EQ_.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333)),ts)){
return null;
} else {
var temp__5753__auto___8475 = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333));
if(cljs.core.truth_(temp__5753__auto___8475)){
var old_8476 = temp__5753__auto___8475;
lt.util.dom.remove_class.call(null,lt.object.__GT_content.call(null,old_8476),new cljs.core.Keyword(null,"active","active",1895962068));
} else {
}

lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333),ts);

lt.util.dom.add_class.call(null,lt.object.__GT_content.call(null,ts),new cljs.core.Keyword(null,"active","active",1895962068));

return true;
}
});
/**
 * 
 */
lt.objs.tabs.tabset_ui = (function lt$objs$tabs$tabset_ui(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tabset","div.tabset",-865911998),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),singultus.binding.bound.call(null,singultus.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"width","width",-384071477)),lt.objs.tabs.__GT_perc)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.list","div.list",-1638405495),singultus.binding.bound.call(null,this$,(function (p1__8477_SHARP_){
return lt.objs.tabs.objs_list.call(null,this$,new cljs.core.Keyword(null,"objs","objs",-1810725634).cljs$core$IFn$_invoke$arity$1(p1__8477_SHARP_));
}))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.items","div.items",-114898192),singultus.binding.map_bound.call(null,cljs.core.partial.call(null,lt.objs.tabs.tabbed_item,singultus.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999))),this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"path","path",-188191168),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"objs","objs",-1810725634)], null)], null))], null),lt.objs.tabs.vertical_grip.call(null,this$)], null));
var seq__8478_8494 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",1895962068));
});})(e__992__auto__))
], null)));
var chunk__8479_8495 = null;
var count__8480_8496 = (0);
var i__8481_8497 = (0);
while(true){
if((i__8481_8497 < count__8480_8496)){
var vec__8488_8498 = cljs.core._nth.call(null,chunk__8479_8495,i__8481_8497);
var ev__993__auto___8499 = cljs.core.nth.call(null,vec__8488_8498,(0),null);
var func__994__auto___8500 = cljs.core.nth.call(null,vec__8488_8498,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8499,func__994__auto___8500);


var G__8501 = seq__8478_8494;
var G__8502 = chunk__8479_8495;
var G__8503 = count__8480_8496;
var G__8504 = (i__8481_8497 + (1));
seq__8478_8494 = G__8501;
chunk__8479_8495 = G__8502;
count__8480_8496 = G__8503;
i__8481_8497 = G__8504;
continue;
} else {
var temp__5753__auto___8505 = cljs.core.seq.call(null,seq__8478_8494);
if(temp__5753__auto___8505){
var seq__8478_8506__$1 = temp__5753__auto___8505;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8478_8506__$1)){
var c__4591__auto___8507 = cljs.core.chunk_first.call(null,seq__8478_8506__$1);
var G__8508 = cljs.core.chunk_rest.call(null,seq__8478_8506__$1);
var G__8509 = c__4591__auto___8507;
var G__8510 = cljs.core.count.call(null,c__4591__auto___8507);
var G__8511 = (0);
seq__8478_8494 = G__8508;
chunk__8479_8495 = G__8509;
count__8480_8496 = G__8510;
i__8481_8497 = G__8511;
continue;
} else {
var vec__8491_8512 = cljs.core.first.call(null,seq__8478_8506__$1);
var ev__993__auto___8513 = cljs.core.nth.call(null,vec__8491_8512,(0),null);
var func__994__auto___8514 = cljs.core.nth.call(null,vec__8491_8512,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8513,func__994__auto___8514);


var G__8515 = cljs.core.next.call(null,seq__8478_8506__$1);
var G__8516 = null;
var G__8517 = (0);
var G__8518 = (0);
seq__8478_8494 = G__8515;
chunk__8479_8495 = G__8516;
count__8480_8496 = G__8517;
i__8481_8497 = G__8518;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529),new cljs.core.Keyword(null,"objs","objs",-1810725634),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999),null,new cljs.core.Keyword(null,"count","count",2139924085),(0),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tabset","tabset",-939965333),null], null), null),new cljs.core.Keyword(null,"width","width",-384071477),(100),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return lt.objs.tabs.tabset_ui.call(null,this$);
}));
lt.objs.tabs.__GT_tabsets = (function lt$objs$tabs$__GT_tabsets(tabs){
var iter__4564__auto__ = (function lt$objs$tabs$__GT_tabsets_$_iter__8519(s__8520){
return (new cljs.core.LazySeq(null,(function (){
var s__8520__$1 = s__8520;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__8520__$1);
if(temp__5753__auto__){
var s__8520__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__8520__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__8520__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__8522 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__8521 = (0);
while(true){
if((i__8521 < size__4563__auto__)){
var k = cljs.core._nth.call(null,c__4562__auto__,i__8521);
cljs.core.chunk_append.call(null,b__8522,lt.object.__GT_content.call(null,k));

var G__8523 = (i__8521 + (1));
i__8521 = G__8523;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__8522),lt$objs$tabs$__GT_tabsets_$_iter__8519.call(null,cljs.core.chunk_rest.call(null,s__8520__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__8522),null);
}
} else {
var k = cljs.core.first.call(null,s__8520__$2);
return cljs.core.cons.call(null,lt.object.__GT_content.call(null,k),lt$objs$tabs$__GT_tabsets_$_iter__8519.call(null,cljs.core.rest.call(null,s__8520__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,tabs);
});
lt.objs.tabs.tabset = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529));
lt.objs.tabs.add_BANG_ = (function lt$objs$tabs$add_BANG_(var_args){
var G__8525 = arguments.length;
switch (G__8525) {
case 1:
return lt.objs.tabs.add_BANG_.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));

break;
case 2:
return lt.objs.tabs.add_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));

break;
default:
throw (new Error(["Invalid arity: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));

}
});

(lt.objs.tabs.add_BANG_.cljs$core$IFn$_invoke$arity$1 = (function (obj){
return lt.objs.tabs.add_BANG_.call(null,obj,null);
}));

(lt.objs.tabs.add_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (obj,ts){
var temp__5753__auto__ = (function (){var or__4160__auto__ = ts;
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333));
}
})();
if(cljs.core.truth_(temp__5753__auto__)){
var cur_tabset = temp__5753__auto__;
lt.object.add_tags.call(null,obj,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tabset.tab","tabset.tab",745554398)], null));

lt.object.update_BANG_.call(null,cur_tabset,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"objs","objs",-1810725634)], null),cljs.core.conj,obj);

lt.object.merge_BANG_.call(null,obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529),cur_tabset], null));

cljs.core.add_watch.call(null,singultus.binding.subatom.call(null,obj,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dirty","dirty",729553281)], null)),new cljs.core.Keyword(null,"tabs","tabs",-779855354),(function (_,___$1,___$2,cur){
return lt.object.raise.call(null,cur_tabset,new cljs.core.Keyword(null,"tab.updated","tab.updated",-389421943));
}));

return obj;
} else {
return null;
}
}));

(lt.objs.tabs.add_BANG_.cljs$lang$maxFixedArity = 2);

lt.objs.tabs.rem_tabset = (function lt$objs$tabs$rem_tabset(var_args){
var G__8529 = arguments.length;
switch (G__8529) {
case 1:
return lt.objs.tabs.rem_tabset.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));

break;
case 2:
return lt.objs.tabs.rem_tabset.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));

break;
default:
throw (new Error(["Invalid arity: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));

}
});

(lt.objs.tabs.rem_tabset.cljs$core$IFn$_invoke$arity$1 = (function (ts){
return lt.objs.tabs.rem_tabset.call(null,ts,false);
}));

(lt.objs.tabs.rem_tabset.cljs$core$IFn$_invoke$arity$2 = (function (ts,prev_QMARK_){
var to_ts = (cljs.core.truth_(prev_QMARK_)?(function (){var or__4160__auto__ = lt.objs.tabs.prev_tabset.call(null,ts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return lt.objs.tabs.next_tabset.call(null,ts);
}
})():(function (){var or__4160__auto__ = lt.objs.tabs.next_tabset.call(null,ts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return lt.objs.tabs.prev_tabset.call(null,ts);
}
})());
if(cljs.core.truth_(to_ts)){
lt.object.merge_BANG_.call(null,to_ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),lt.objs.tabs.floored.call(null,(new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,to_ts)) + new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts))))], null));

lt.util.dom.remove.call(null,lt.object.__GT_content.call(null,ts));

var seq__8530_8535 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)));
var chunk__8531_8536 = null;
var count__8532_8537 = (0);
var i__8533_8538 = (0);
while(true){
if((i__8533_8538 < count__8532_8537)){
var t_8539 = cljs.core._nth.call(null,chunk__8531_8536,i__8533_8538);
lt.objs.tabs.add_BANG_.call(null,t_8539,to_ts);


var G__8540 = seq__8530_8535;
var G__8541 = chunk__8531_8536;
var G__8542 = count__8532_8537;
var G__8543 = (i__8533_8538 + (1));
seq__8530_8535 = G__8540;
chunk__8531_8536 = G__8541;
count__8532_8537 = G__8542;
i__8533_8538 = G__8543;
continue;
} else {
var temp__5753__auto___8544 = cljs.core.seq.call(null,seq__8530_8535);
if(temp__5753__auto___8544){
var seq__8530_8545__$1 = temp__5753__auto___8544;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8530_8545__$1)){
var c__4591__auto___8546 = cljs.core.chunk_first.call(null,seq__8530_8545__$1);
var G__8547 = cljs.core.chunk_rest.call(null,seq__8530_8545__$1);
var G__8548 = c__4591__auto___8546;
var G__8549 = cljs.core.count.call(null,c__4591__auto___8546);
var G__8550 = (0);
seq__8530_8535 = G__8547;
chunk__8531_8536 = G__8548;
count__8532_8537 = G__8549;
i__8533_8538 = G__8550;
continue;
} else {
var t_8551 = cljs.core.first.call(null,seq__8530_8545__$1);
lt.objs.tabs.add_BANG_.call(null,t_8551,to_ts);


var G__8552 = cljs.core.next.call(null,seq__8530_8545__$1);
var G__8553 = null;
var G__8554 = (0);
var G__8555 = (0);
seq__8530_8535 = G__8552;
chunk__8531_8536 = G__8553;
count__8532_8537 = G__8554;
i__8533_8538 = G__8555;
continue;
}
} else {
}
}
break;
}

lt.object.update_BANG_.call(null,lt.objs.tabs.multi,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722)], null),(function (p1__8527_SHARP_){
return cljs.core.vec.call(null,cljs.core.remove.call(null,cljs.core.PersistentHashSet.createAsIfByAssoc([ts]),p1__8527_SHARP_));
}));

lt.object.destroy_BANG_.call(null,ts);

lt.objs.tabs.equalize_tabset_widths.call(null);

return lt.object.raise.call(null,to_ts,new cljs.core.Keyword(null,"active","active",1895962068));
} else {
return null;
}
}));

(lt.objs.tabs.rem_tabset.cljs$lang$maxFixedArity = 2);

lt.objs.tabs.rem_BANG_ = (function lt$objs$tabs$rem_BANG_(obj){
if(cljs.core.truth_((function (){var and__4149__auto__ = obj;
if(cljs.core.truth_(and__4149__auto__)){
var and__4149__auto____$1 = cljs.core.deref.call(null,obj);
if(cljs.core.truth_(and__4149__auto____$1)){
return new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));
} else {
return and__4149__auto____$1;
}
} else {
return and__4149__auto__;
}
})())){
var cur_tabset = new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));
var idx = lt.objs.tabs.__GT_index.call(null,obj);
var active = new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur_tabset));
var aidx = lt.objs.tabs.__GT_index.call(null,active);
cljs.core.remove_watch.call(null,obj,new cljs.core.Keyword(null,"tabs","tabs",-779855354));

lt.object.merge_BANG_.call(null,obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529),null], null));

lt.object.merge_BANG_.call(null,cur_tabset,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"objs","objs",-1810725634),cljs.core.vec.call(null,cljs.core.remove.call(null,(function (p1__8556_SHARP_){
return cljs.core._EQ_.call(null,obj,p1__8556_SHARP_);
}),cljs.core.deref.call(null,cur_tabset).call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634))))], null));

if(cljs.core._EQ_.call(null,obj,active)){
return lt.object.raise.call(null,cur_tabset,new cljs.core.Keyword(null,"tab","tab",-559583621),idx);
} else {
if(cljs.core.not_EQ_.call(null,aidx,lt.objs.tabs.__GT_index.call(null,active))){
lt.object.merge_BANG_.call(null,cur_tabset,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999),null], null));

return lt.objs.tabs.active_BANG_.call(null,active);
} else {
return null;
}
}
} else {
return null;
}
});
lt.objs.tabs.refresh_BANG_ = (function lt$objs$tabs$refresh_BANG_(obj){
var temp__5753__auto__ = new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));
if(cljs.core.truth_(temp__5753__auto__)){
var ts = temp__5753__auto__;
return lt.object.raise.call(null,ts,new cljs.core.Keyword(null,"tab.updated","tab.updated",-389421943));
} else {
return null;
}
});
lt.objs.tabs.in_tab_QMARK_ = (function lt$objs$tabs$in_tab_QMARK_(obj){
return cljs.core.deref.call(null,obj).call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529));
});
lt.objs.tabs.add_or_focus_BANG_ = (function lt$objs$tabs$add_or_focus_BANG_(obj){
if(cljs.core.truth_(lt.objs.tabs.in_tab_QMARK_.call(null,obj))){
return lt.objs.tabs.active_BANG_.call(null,obj);
} else {
lt.objs.tabs.add_BANG_.call(null,obj);

return lt.objs.tabs.active_BANG_.call(null,obj);
}
});
lt.objs.tabs.num_tabs = (function lt$objs$tabs$num_tabs(){
return cljs.core.reduce.call(null,(function (res,cur){
return (res + cljs.core.count.call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur))));
}),(0),new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)));
});
lt.objs.tabs.active_tab = (function lt$objs$tabs$active_tab(){
var temp__5753__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333));
if(cljs.core.truth_(temp__5753__auto__)){
var cur_tabset = temp__5753__auto__;
return new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur_tabset));
} else {
return null;
}
});
lt.objs.tabs.move_tab_to_tabset = (function lt$objs$tabs$move_tab_to_tabset(obj,ts){
lt.objs.tabs.rem_BANG_.call(null,obj);

lt.objs.tabs.add_BANG_.call(null,obj,ts);

lt.objs.tabs.active_BANG_.call(null,obj);

return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"move","move",-2110884309));
});
lt.objs.tabs.move_tab = (function lt$objs$tabs$move_tab(multi,elem){
var id = lt.util.dom.attr.call(null,elem,new cljs.core.Keyword(null,"obj-id","obj-id",1871733713));
var idx = lt.util.dom.index.call(null,elem);
var obj = lt.object.by_id.call(null,parseInt(id));
var cnt = cljs.core.count.call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,multi)));
lt.objs.tabs.rem_BANG_.call(null,obj);

lt.objs.tabs.add_BANG_.call(null,obj,multi);

if((cnt > (0))){
lt.objs.tabs.update_tab_order.call(null,multi,cljs.core.vec.call(null,cljs.core.concat.call(null,cljs.core.range.call(null,idx),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cnt], null),cljs.core.range.call(null,idx,cnt))));
} else {
}

lt.objs.tabs.active_BANG_.call(null,obj);

return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"move","move",-2110884309));
});
/**
 * 
 */
lt.objs.tabs.__BEH__on_destroy_remove = (function lt$objs$tabs$__BEH__on_destroy_remove(this$){
return lt.objs.tabs.rem_BANG_.call(null,this$);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","on-destroy-remove","lt.objs.tabs/on-destroy-remove",-1398608946),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"closed","closed",-919675359),null,new cljs.core.Keyword(null,"destroy","destroy",-843660405),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__on_destroy_remove);
/**
 * 
 */
lt.objs.tabs.__BEH__active_tab_num = (function lt$objs$tabs$__BEH__active_tab_num(this$,num){
var objs = cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634));
if((num < cljs.core.count.call(null,objs))){
return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,num));
} else {
return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,(cljs.core.count.call(null,objs) - (1))));
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","active-tab-num","lt.objs.tabs/active-tab-num",-1455185092),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab","tab",-559583621),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__active_tab_num);
/**
 * 
 */
lt.objs.tabs.__BEH__prev_tab = (function lt$objs$tabs$__BEH__prev_tab(this$){
var objs = cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634));
var idx = lt.objs.tabs.__GT_index.call(null,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
if((idx > (0))){
return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,(idx - (1))));
} else {
return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,(cljs.core.count.call(null,objs) - (1))));
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","prev-tab","lt.objs.tabs/prev-tab",483489955),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab.prev","tab.prev",-431940145),null], null), null),new cljs.core.Keyword(null,"throttle","throttle",-1860340776),(100),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__prev_tab);
/**
 * 
 */
lt.objs.tabs.__BEH__next_tab = (function lt$objs$tabs$__BEH__next_tab(this$){
var objs = cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634));
var idx = (lt.objs.tabs.__GT_index.call(null,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))) + (1));
if((idx < cljs.core.count.call(null,objs))){
return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,idx));
} else {
return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,(0)));
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","next-tab","lt.objs.tabs/next-tab",-1139807536),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab.next","tab.next",1698295260),null], null), null),new cljs.core.Keyword(null,"throttle","throttle",-1860340776),(100),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__next_tab);
/**
 * 
 */
lt.objs.tabs.__BEH__tab_close = (function lt$objs$tabs$__BEH__tab_close(this$){
try{var orig = new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
return lt.object.raise.call(null,orig,new cljs.core.Keyword(null,"close","close",1835149582));
}catch (e8557){var e = e8557;
return lt.objs.console.error(e);
}});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-close","lt.objs.tabs/tab-close",-1973391641),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab.close","tab.close",1796241467),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__tab_close);
/**
 * 
 */
lt.objs.tabs.__BEH__on_destroy_objs = (function lt$objs$tabs$__BEH__on_destroy_objs(this$){
var seq__8558 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
var chunk__8559 = null;
var count__8560 = (0);
var i__8561 = (0);
while(true){
if((i__8561 < count__8560)){
var e = cljs.core._nth.call(null,chunk__8559,i__8561);
lt.object.destroy_BANG_.call(null,e);


var G__8562 = seq__8558;
var G__8563 = chunk__8559;
var G__8564 = count__8560;
var G__8565 = (i__8561 + (1));
seq__8558 = G__8562;
chunk__8559 = G__8563;
count__8560 = G__8564;
i__8561 = G__8565;
continue;
} else {
var temp__5753__auto__ = cljs.core.seq.call(null,seq__8558);
if(temp__5753__auto__){
var seq__8558__$1 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8558__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__8558__$1);
var G__8566 = cljs.core.chunk_rest.call(null,seq__8558__$1);
var G__8567 = c__4591__auto__;
var G__8568 = cljs.core.count.call(null,c__4591__auto__);
var G__8569 = (0);
seq__8558 = G__8566;
chunk__8559 = G__8567;
count__8560 = G__8568;
i__8561 = G__8569;
continue;
} else {
var e = cljs.core.first.call(null,seq__8558__$1);
lt.object.destroy_BANG_.call(null,e);


var G__8570 = cljs.core.next.call(null,seq__8558__$1);
var G__8571 = null;
var G__8572 = (0);
var G__8573 = (0);
seq__8558 = G__8570;
chunk__8559 = G__8571;
count__8560 = G__8572;
i__8561 = G__8573;
continue;
}
} else {
return null;
}
}
break;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","on-destroy-objs","lt.objs.tabs/on-destroy-objs",-181276955),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"destroy","destroy",-843660405),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__on_destroy_objs);
/**
 * 
 */
lt.objs.tabs.__BEH__repaint_tab_updated = (function lt$objs$tabs$__BEH__repaint_tab_updated(this$){
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"count","count",2139924085)], null),cljs.core.inc);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","repaint-tab-updated","lt.objs.tabs/repaint-tab-updated",-943435320),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab.updated","tab.updated",-389421943),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__repaint_tab_updated);
/**
 * 
 */
lt.objs.tabs.__BEH__no_anim_on_drag = (function lt$objs$tabs$__BEH__no_anim_on_drag(this$){
return lt.objs.animations.off.call(null);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","no-anim-on-drag","lt.objs.tabs/no-anim-on-drag",39432335),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"start-drag","start-drag",463492443),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__no_anim_on_drag);
/**
 * 
 */
lt.objs.tabs.__BEH__reanim_on_drop = (function lt$objs$tabs$__BEH__reanim_on_drop(this$){
return lt.objs.animations.on.call(null);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","reanim-on-drop","lt.objs.tabs/reanim-on-drop",-1467106426),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"end-drag","end-drag",1040662768),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__reanim_on_drop);
/**
 * 
 */
lt.objs.tabs.__BEH__set_dragging = (function lt$objs$tabs$__BEH__set_dragging(this$){
return lt.util.dom.add_class.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"body","body",-2049205669)),new cljs.core.Keyword(null,"dragging","dragging",1185097613));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","set-dragging","lt.objs.tabs/set-dragging",-629322934),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"start-drag","start-drag",463492443),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__set_dragging);
/**
 * 
 */
lt.objs.tabs.__BEH__unset_dragging = (function lt$objs$tabs$__BEH__unset_dragging(this$){
return lt.util.dom.remove_class.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"body","body",-2049205669)),new cljs.core.Keyword(null,"dragging","dragging",1185097613));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","unset-dragging","lt.objs.tabs/unset-dragging",1844944192),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"end-drag","end-drag",1040662768),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__unset_dragging);
/**
 * 
 */
lt.objs.tabs.__BEH__set_width_final_BANG_ = (function lt$objs$tabs$__BEH__set_width_final_BANG_(this$,e){
var temp__5753__auto__ = lt.objs.tabs.next_tabset.call(null,this$);
if(cljs.core.truth_(temp__5753__auto__)){
var ts = temp__5753__auto__;
var width = lt.util.dom.width.call(null,lt.object.__GT_content.call(null,lt.objs.tabs.multi));
var left = new cljs.core.Keyword(null,"left","left",-399115937).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi));
var cx = e.clientX;
var new_loc = ((width + left) - cx);
var new_perc = lt.objs.tabs.floored.call(null,((((100) - lt.objs.tabs.previous_tabset_width.call(null,this$)) - lt.objs.tabs.to_perc.call(null,width,new_loc)) | (0)));
var prev_width = new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var new_perc__$1 = (((new_perc >= (new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + prev_width)))?(new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + prev_width):new_perc);
var next_width = lt.objs.tabs.floored.call(null,((cljs.core.not.call(null,ts))?(1):(new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + (prev_width - new_perc__$1))));
if(cljs.core._EQ_.call(null,new_perc__$1,(0))){
return lt.objs.tabs.rem_tabset.call(null,this$);
} else {
if(cljs.core._EQ_.call(null,next_width,(0))){
return lt.objs.tabs.rem_tabset.call(null,ts,new cljs.core.Keyword(null,"prev","prev",-1597069226));
} else {
if(cljs.core._EQ_.call(null,cx,(0))){
return null;
} else {
if((new_perc__$1 < (0))){
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),(100)], null));
} else {
if(cljs.core.truth_(((cljs.core.not_EQ_.call(null,cx,(0)))?(function (){var and__4149__auto__ = ts;
if(cljs.core.truth_(and__4149__auto__)){
return (((new_perc__$1 >= (0))) && ((next_width >= (0))));
} else {
return and__4149__auto__;
}
})():false))){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),new_perc__$1], null));

if(cljs.core.truth_(ts)){
return lt.object.merge_BANG_.call(null,ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),next_width], null));
} else {
return lt.objs.tabs.spawn_tabset.call(null);
}
} else {
return null;
}
}
}

}
}
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","set-width-final!","lt.objs.tabs/set-width-final!",-1151875517),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"end-drag","end-drag",1040662768),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__set_width_final_BANG_);
/**
 * 
 */
lt.objs.tabs.__BEH__width_BANG_ = (function lt$objs$tabs$__BEH__width_BANG_(this$,e){
var width = lt.util.dom.width.call(null,lt.object.__GT_content.call(null,lt.objs.tabs.multi));
var left = new cljs.core.Keyword(null,"left","left",-399115937).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi));
var cx = e.clientX;
var new_loc = ((width + left) - cx);
var new_perc = lt.objs.tabs.floored.call(null,((((100) - lt.objs.tabs.previous_tabset_width.call(null,this$)) - lt.objs.tabs.to_perc.call(null,width,new_loc)) | (0)));
var prev_width = new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var ts = lt.objs.tabs.next_tabset.call(null,this$);
var new_perc__$1 = (cljs.core.truth_((function (){var and__4149__auto__ = ts;
if(cljs.core.truth_(and__4149__auto__)){
return (new_perc >= (new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + prev_width));
} else {
return and__4149__auto__;
}
})())?(new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + prev_width):new_perc);
var next_width = lt.objs.tabs.floored.call(null,((cljs.core.not.call(null,ts))?(1):(new cljs.core.Keyword(null,"width","width",-384071477).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + (prev_width - new_perc__$1))));
if(cljs.core._EQ_.call(null,cx,(0))){
return null;
} else {
if((new_perc__$1 < (0))){
return lt.objs.tabs.temp_width.call(null,this$,(100));
} else {
if(cljs.core.truth_(((cljs.core.not_EQ_.call(null,cx,(0)))?(function (){var and__4149__auto__ = ts;
if(cljs.core.truth_(and__4149__auto__)){
return (((new_perc__$1 >= (0))) && ((next_width >= (0))));
} else {
return and__4149__auto__;
}
})():false))){
lt.objs.tabs.temp_width.call(null,this$,new_perc__$1);

if(cljs.core.truth_(ts)){
return lt.objs.tabs.temp_width.call(null,ts,next_width);
} else {
return lt.objs.tabs.spawn_tabset.call(null);
}
} else {
return null;
}
}
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","width!","lt.objs.tabs/width!",1614558757),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width!","width!",-1196918001),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__width_BANG_);
/**
 * 
 */
lt.objs.tabs.__BEH__tab_active = (function lt$objs$tabs$__BEH__tab_active(this$){
return lt.objs.tabs.activate_tabset.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",537008529).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-active","lt.objs.tabs/tab-active",-620100173),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",1895962068),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__tab_active);
/**
 * 
 */
lt.objs.tabs.__BEH__tab_label_menu_PLUS_ = (function lt$objs$tabs$__BEH__tab_label_menu_PLUS_(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Move tab to new tabset",new cljs.core.Keyword(null,"order","order",-1254677256),(1),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"tabs.move-new-tabset","tabs.move-new-tabset",1738043385),new cljs.core.Keyword("lt.objs.tabs","tab-object","lt.objs.tabs/tab-object",-1393652919).cljs$core$IFn$_invoke$arity$1(this$));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Close tab",new cljs.core.Keyword(null,"order","order",-1254677256),(2),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"close","close",1835149582));
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-label-menu+","lt.objs.tabs/tab-label-menu+",847677217),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",276559402),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__tab_label_menu_PLUS_);
/**
 * 
 */
lt.objs.tabs.__BEH__on_close_tab_label = (function lt$objs$tabs$__BEH__on_close_tab_label(this$){
var temp__5753__auto___8574 = new cljs.core.Keyword("lt.objs.tabs","tab-object","lt.objs.tabs/tab-object",-1393652919).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
if(cljs.core.truth_(temp__5753__auto___8574)){
var e_8575 = temp__5753__auto___8574;
lt.object.raise.call(null,e_8575,new cljs.core.Keyword(null,"close","close",1835149582));
} else {
}

return lt.object.destroy_BANG_.call(null,this$);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","on-close-tab-label","lt.objs.tabs/on-close-tab-label",-737157273),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close","close",1835149582),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__on_close_tab_label);
/**
 * 
 */
lt.objs.tabs.__BEH__tabset_active = (function lt$objs$tabs$__BEH__tabset_active(this$){
if(cljs.core.truth_(lt.objs.tabs.activate_tabset.call(null,this$))){
var temp__5753__auto__ = new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
if(cljs.core.truth_(temp__5753__auto__)){
var active = temp__5753__auto__;
return lt.object.raise.call(null,active,new cljs.core.Keyword(null,"focus!","focus!",-1344984927));
} else {
return null;
}
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset-active","lt.objs.tabs/tabset-active",-986840914),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",1895962068),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__tabset_active);
/**
 * 
 */
lt.objs.tabs.__BEH__tabset_menu_PLUS_ = (function lt$objs$tabs$__BEH__tabset_menu_PLUS_(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"New tabset",new cljs.core.Keyword(null,"order","order",-1254677256),(1),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"tabset.new","tabset.new",555527396));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Close tabset",new cljs.core.Keyword(null,"order","order",-1254677256),(2),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.objs.tabs.rem_tabset.call(null,this$);
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset-menu+","lt.objs.tabs/tabset-menu+",-1930762267),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",276559402),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__tabset_menu_PLUS_);
/**
 * 
 */
lt.objs.tabs.__BEH__left_BANG_ = (function lt$objs$tabs$__BEH__left_BANG_(this$,v){
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"left","left",-399115937)], null),cljs.core._PLUS_,v);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","left!","lt.objs.tabs/left!",-1382539115),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"left!","left!",95716739),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__left_BANG_);
/**
 * 
 */
lt.objs.tabs.__BEH__right_BANG_ = (function lt$objs$tabs$__BEH__right_BANG_(this$,v){
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"right","right",-452581833)], null),cljs.core._PLUS_,v);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","right!","lt.objs.tabs/right!",-108321046),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"right!","right!",-1852411260),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__right_BANG_);
/**
 * 
 */
lt.objs.tabs.__BEH__bottom_BANG_ = (function lt$objs$tabs$__BEH__bottom_BANG_(this$,v){
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bottom","bottom",-1550509018)], null),cljs.core._PLUS_,v);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","bottom!","lt.objs.tabs/bottom!",-444339102),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"bottom!","bottom!",-1649454228),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__bottom_BANG_);
/**
 * 
 */
lt.objs.tabs.__BEH__tabset_bottom_BANG_ = (function lt$objs$tabs$__BEH__tabset_bottom_BANG_(this$,v){
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tabset-bottom","tabset-bottom",-1366151689)], null),cljs.core._PLUS_,v);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset-bottom!","lt.objs.tabs/tabset-bottom!",-2042688706),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tabset-bottom!","tabset-bottom!",507682936),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__tabset_bottom_BANG_);
/**
 * 
 */
lt.objs.tabs.__BEH__init_sortable = (function lt$objs$tabs$__BEH__init_sortable(app){
return initSortable(window);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","init-sortable","lt.objs.tabs/init-sortable",-74771267),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",-1875481434),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__init_sortable);
/**
 * 
 */
lt.objs.tabs.__BEH__init = (function lt$objs$tabs$__BEH__init(this$){
lt.objs.tabs.add_tabset.call(null,lt.objs.tabs.tabset);

return lt.object.raise.call(null,lt.objs.tabs.tabset,new cljs.core.Keyword(null,"active","active",1895962068));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","init","lt.objs.tabs/init",-134708812),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",-1875481434),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__init);
/**
 * 
 */
lt.objs.tabs.__BEH__show_close_button = (function lt$objs$tabs$__BEH__show_close_button(this$){
return true;
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","show-close-button","lt.objs.tabs/show-close-button",-1196054485),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: Show close button on tabs",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close-button+","close-button+",242728201),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.tabs.__BEH__show_close_button);
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.move-new-tabset","tabs.move-new-tabset",1738043385),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: Move tab to new tabset",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (tab){
var temp__5753__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333));
if(cljs.core.truth_(temp__5753__auto__)){
var ts = temp__5753__auto__;
var temp__5753__auto____$1 = (function (){var or__4160__auto__ = tab;
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return cljs.core.deref.call(null,ts).call(null,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999));
}
})();
if(cljs.core.truth_(temp__5753__auto____$1)){
var cur = temp__5753__auto____$1;
var new$ = lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"tabset.new","tabset.new",555527396));
return lt.objs.tabs.move_tab_to_tabset.call(null,cur,new$);
} else {
return null;
}
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.move-next-tabset","tabs.move-next-tabset",1373096762),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: Move tab to next tabset",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333));
if(cljs.core.truth_(temp__5753__auto__)){
var ts = temp__5753__auto__;
var cur = cljs.core.deref.call(null,ts).call(null,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999));
var next = (function (){var or__4160__auto__ = lt.objs.tabs.next_tabset.call(null,ts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return lt.objs.tabs.prev_tabset.call(null,ts);
}
})();
if(cljs.core.truth_((function (){var and__4149__auto__ = cur;
if(cljs.core.truth_(and__4149__auto__)){
var and__4149__auto____$1 = next;
if(cljs.core.truth_(and__4149__auto____$1)){
return cljs.core.not_EQ_.call(null,next,ts);
} else {
return and__4149__auto____$1;
}
} else {
return and__4149__auto__;
}
})())){
return lt.objs.tabs.move_tab_to_tabset.call(null,cur,next);
} else {
return null;
}
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.move-prev-tabset","tabs.move-prev-tabset",2013574967),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: Move tab to previous tabset",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333));
if(cljs.core.truth_(temp__5753__auto__)){
var ts = temp__5753__auto__;
var cur = cljs.core.deref.call(null,ts).call(null,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999));
var next = (function (){var or__4160__auto__ = lt.objs.tabs.prev_tabset.call(null,ts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return lt.objs.tabs.next_tabset.call(null,ts);
}
})();
if(cljs.core.truth_((function (){var and__4149__auto__ = cur;
if(cljs.core.truth_(and__4149__auto__)){
var and__4149__auto____$1 = next;
if(cljs.core.truth_(and__4149__auto____$1)){
return cljs.core.not_EQ_.call(null,next,ts);
} else {
return and__4149__auto____$1;
}
} else {
return and__4149__auto__;
}
})())){
return lt.objs.tabs.move_tab_to_tabset.call(null,cur,next);
} else {
return null;
}
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.next","tabs.next",-1571168567),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: Next tab",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333)),new cljs.core.Keyword(null,"tab.next","tab.next",1698295260));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.prev","tabs.prev",222924018),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: Previous tab",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333)),new cljs.core.Keyword(null,"tab.prev","tab.prev",-431940145));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.close","tabs.close",-2075421183),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: Close current tab",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
if(cljs.core._EQ_.call(null,(0),lt.objs.tabs.num_tabs.call(null))){
lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"window.close","window.close",-983383177));
} else {
}

var temp__5753__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333));
if(cljs.core.truth_(temp__5753__auto__)){
var ts = temp__5753__auto__;
if(cljs.core.truth_((function (){var and__4149__auto__ = new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts));
if(cljs.core.truth_(and__4149__auto__)){
return cljs.core.deref.call(null,new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)));
} else {
return and__4149__auto__;
}
})())){
return lt.object.raise.call(null,ts,new cljs.core.Keyword(null,"tab.close","tab.close",1796241467));
} else {
return null;
}
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.close-all","tabs.close-all",873536002),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tabs: Close all tabs",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var objs = lt.object.by_tag.call(null,new cljs.core.Keyword(null,"tabset.tab","tabset.tab",745554398));
var seq__8576 = cljs.core.seq.call(null,objs);
var chunk__8577 = null;
var count__8578 = (0);
var i__8579 = (0);
while(true){
if((i__8579 < count__8578)){
var obj = cljs.core._nth.call(null,chunk__8577,i__8579);
lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1835149582));


var G__8580 = seq__8576;
var G__8581 = chunk__8577;
var G__8582 = count__8578;
var G__8583 = (i__8579 + (1));
seq__8576 = G__8580;
chunk__8577 = G__8581;
count__8578 = G__8582;
i__8579 = G__8583;
continue;
} else {
var temp__5753__auto__ = cljs.core.seq.call(null,seq__8576);
if(temp__5753__auto__){
var seq__8576__$1 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8576__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__8576__$1);
var G__8584 = cljs.core.chunk_rest.call(null,seq__8576__$1);
var G__8585 = c__4591__auto__;
var G__8586 = cljs.core.count.call(null,c__4591__auto__);
var G__8587 = (0);
seq__8576 = G__8584;
chunk__8577 = G__8585;
count__8578 = G__8586;
i__8579 = G__8587;
continue;
} else {
var obj = cljs.core.first.call(null,seq__8576__$1);
lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1835149582));


var G__8588 = cljs.core.next.call(null,seq__8576__$1);
var G__8589 = null;
var G__8590 = (0);
var G__8591 = (0);
seq__8576 = G__8588;
chunk__8577 = G__8589;
count__8578 = G__8590;
i__8579 = G__8591;
continue;
}
} else {
return null;
}
}
break;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.close-others","tabs.close-others",-579380376),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tabs: Close tabs except current tab",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var cur = lt.objs.tabs.active_tab.call(null);
var objs = lt.object.by_tag.call(null,new cljs.core.Keyword(null,"tabset.tab","tabset.tab",745554398));
var seq__8592 = cljs.core.seq.call(null,objs);
var chunk__8593 = null;
var count__8594 = (0);
var i__8595 = (0);
while(true){
if((i__8595 < count__8594)){
var obj = cljs.core._nth.call(null,chunk__8593,i__8595);
if((!((cur === obj)))){
lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1835149582));
} else {
}


var G__8596 = seq__8592;
var G__8597 = chunk__8593;
var G__8598 = count__8594;
var G__8599 = (i__8595 + (1));
seq__8592 = G__8596;
chunk__8593 = G__8597;
count__8594 = G__8598;
i__8595 = G__8599;
continue;
} else {
var temp__5753__auto__ = cljs.core.seq.call(null,seq__8592);
if(temp__5753__auto__){
var seq__8592__$1 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8592__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__8592__$1);
var G__8600 = cljs.core.chunk_rest.call(null,seq__8592__$1);
var G__8601 = c__4591__auto__;
var G__8602 = cljs.core.count.call(null,c__4591__auto__);
var G__8603 = (0);
seq__8592 = G__8600;
chunk__8593 = G__8601;
count__8594 = G__8602;
i__8595 = G__8603;
continue;
} else {
var obj = cljs.core.first.call(null,seq__8592__$1);
if((!((cur === obj)))){
lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1835149582));
} else {
}


var G__8604 = cljs.core.next.call(null,seq__8592__$1);
var G__8605 = null;
var G__8606 = (0);
var G__8607 = (0);
seq__8592 = G__8604;
chunk__8593 = G__8605;
count__8594 = G__8606;
i__8595 = G__8607;
continue;
}
} else {
return null;
}
}
break;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.goto","tabs.goto",-1325782376),new cljs.core.Keyword(null,"hidden","hidden",-312506092),true,new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: Goto tab # or :last",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (x){
var ts = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333));
var tab_count = cljs.core.count.call(null,new cljs.core.Keyword(null,"objs","objs",-1810725634).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)));
var idx = (tab_count - (1));
return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333)),new cljs.core.Keyword(null,"tab","tab",-559583621),((cljs.core._EQ_.call(null,x,new cljs.core.Keyword(null,"last","last",1105735132)))?idx:x));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabset.next","tabset.next",-2061659668),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tabset: Next tabset",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5751__auto__ = lt.objs.tabs.next_tabset.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333)));
if(cljs.core.truth_(temp__5751__auto__)){
var n = temp__5751__auto__;
return lt.object.raise.call(null,n,new cljs.core.Keyword(null,"active","active",1895962068));
} else {
var temp__5751__auto____$1 = cljs.core.get.call(null,new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)),(0));
if(cljs.core.truth_(temp__5751__auto____$1)){
var n = temp__5751__auto____$1;
return lt.object.raise.call(null,n,new cljs.core.Keyword(null,"active","active",1895962068));
} else {
return null;
}
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabset.prev","tabset.prev",-1656730631),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tabset: Previous tabset",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5751__auto__ = lt.objs.tabs.prev_tabset.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333)));
if(cljs.core.truth_(temp__5751__auto__)){
var n = temp__5751__auto__;
return lt.object.raise.call(null,n,new cljs.core.Keyword(null,"active","active",1895962068));
} else {
var temp__5751__auto____$1 = cljs.core.last.call(null,new cljs.core.Keyword(null,"tabsets","tabsets",-1794190722).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)));
if(cljs.core.truth_(temp__5751__auto____$1)){
var n = temp__5751__auto____$1;
return lt.object.raise.call(null,n,new cljs.core.Keyword(null,"active","active",1895962068));
} else {
return null;
}
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabset.close","tabset.close",-906692340),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tabset: Remove active tabset",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (ts){
return lt.objs.tabs.rem_tabset.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333)));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabset.new","tabset.new",555527396),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tabset: Add a tabset",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var ts = lt.objs.tabs.spawn_tabset.call(null);
lt.objs.tabs.equalize_tabset_widths.call(null);

return ts;
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"tabs.focus-active","tabs.focus-active",-2052283963),new cljs.core.Keyword(null,"desc","desc",2093485764),"Tab: focus active",new cljs.core.Keyword(null,"hidden","hidden",-312506092),true,new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = new cljs.core.Keyword(null,"active-obj","active-obj",-1861497999).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",-939965333))));
if(cljs.core.truth_(temp__5753__auto__)){
var active = temp__5753__auto__;
return lt.object.raise.call(null,active,new cljs.core.Keyword(null,"focus!","focus!",-1344984927));
} else {
return null;
}
})], null));
lt.util.dom.append.call(null,lt.object.__GT_content.call(null,lt.objs.canvas.canvas),new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)));
