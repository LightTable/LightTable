// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.objs.notifos');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.statusbar');
goog.require('lt.objs.command');
goog.require('lt.util.js');
goog.require('singultus.binding');
lt.objs.notifos.standard_timeout = (10000);
lt.objs.notifos.msg_STAR_ = (function lt$objs$notifos$msg_STAR_(var_args){
var args__4777__auto__ = [];
var len__4771__auto___9044 = arguments.length;
var i__4772__auto___9045 = (0);
while(true){
if((i__4772__auto___9045 < len__4771__auto___9044)){
args__4777__auto__.push((arguments[i__4772__auto___9045]));

var G__9046 = (i__4772__auto___9045 + (1));
i__4772__auto___9045 = G__9046;
continue;
} else {
}
break;
}

var argseq__4778__auto__ = ((((1) < args__4777__auto__.length))?(new cljs.core.IndexedSeq(args__4777__auto__.slice((1)),(0),null)):null);
return lt.objs.notifos.msg_STAR_.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__4778__auto__);
});

(lt.objs.notifos.msg_STAR_.cljs$core$IFn$_invoke$arity$variadic = (function (m,p__9040){
var vec__9041 = p__9040;
var opts = cljs.core.nth.call(null,vec__9041,(0),null);
var m__$1 = ((typeof m === 'string')?m:cljs.core.pr_str.call(null,m));
return lt.object.merge_BANG_.call(null,lt.objs.statusbar.statusbar_loader,cljs.core.merge.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"message","message",-406056002),m__$1,new cljs.core.Keyword(null,"class","class",-2030961996),""], null),opts));
}));

(lt.objs.notifos.msg_STAR_.cljs$lang$maxFixedArity = (1));

/** @this {Function} */
(lt.objs.notifos.msg_STAR_.cljs$lang$applyTo = (function (seq9038){
var G__9039 = cljs.core.first.call(null,seq9038);
var seq9038__$1 = cljs.core.next.call(null,seq9038);
var self__4758__auto__ = this;
return self__4758__auto__.cljs$core$IFn$_invoke$arity$variadic(G__9039,seq9038__$1);
}));

/**
 * Display message in bottom statusbar. Takes map of options with following keys:
 * 
 *   * :class - css class for message. Use 'error' to display error message
 *   * :timeout - Number of ms before message times out. Default is 10000 (10s)
 */
lt.objs.notifos.set_msg_BANG_ = (function lt$objs$notifos$set_msg_BANG_(var_args){
var G__9048 = arguments.length;
switch (G__9048) {
case 1:
return lt.objs.notifos.set_msg_BANG_.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));

break;
case 2:
return lt.objs.notifos.set_msg_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));

break;
default:
throw (new Error(["Invalid arity: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));

}
});

(lt.objs.notifos.set_msg_BANG_.cljs$core$IFn$_invoke$arity$1 = (function (msg){
lt.objs.notifos.msg_STAR_.call(null,msg);

clearTimeout(lt.objs.notifos.cur_timeout);

return (lt.objs.notifos.cur_timeout = lt.util.js.wait.call(null,lt.objs.notifos.standard_timeout,(function (){
return lt.objs.notifos.msg_STAR_.call(null,"");
})));
}));

(lt.objs.notifos.set_msg_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (msg,opts){
lt.objs.notifos.msg_STAR_.call(null,msg,opts);

clearTimeout(lt.objs.notifos.cur_timeout);

return (lt.objs.notifos.cur_timeout = lt.util.js.wait.call(null,(function (){var or__4160__auto__ = new cljs.core.Keyword(null,"timeout","timeout",-318625318).cljs$core$IFn$_invoke$arity$1(opts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return lt.objs.notifos.standard_timeout;
}
})(),(function (){
return lt.objs.notifos.msg_STAR_.call(null,"");
})));
}));

(lt.objs.notifos.set_msg_BANG_.cljs$lang$maxFixedArity = 2);

/**
 * Display working spinner with optional statusbar message
 */
lt.objs.notifos.working = (function lt$objs$notifos$working(var_args){
var G__9051 = arguments.length;
switch (G__9051) {
case 0:
return lt.objs.notifos.working.cljs$core$IFn$_invoke$arity$0();

break;
case 1:
return lt.objs.notifos.working.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));

break;
default:
throw (new Error(["Invalid arity: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));

}
});

(lt.objs.notifos.working.cljs$core$IFn$_invoke$arity$0 = (function (){
return lt.objs.notifos.working.call(null,null);
}));

(lt.objs.notifos.working.cljs$core$IFn$_invoke$arity$1 = (function (msg){
if(cljs.core.truth_(msg)){
lt.objs.notifos.set_msg_BANG_.call(null,msg);
} else {
}

return lt.objs.statusbar.loader_inc.call(null);
}));

(lt.objs.notifos.working.cljs$lang$maxFixedArity = 1);

/**
 * Hide working spinner with optional statusbar message
 */
lt.objs.notifos.done_working = (function lt$objs$notifos$done_working(var_args){
var G__9054 = arguments.length;
switch (G__9054) {
case 0:
return lt.objs.notifos.done_working.cljs$core$IFn$_invoke$arity$0();

break;
case 1:
return lt.objs.notifos.done_working.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));

break;
default:
throw (new Error(["Invalid arity: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));

}
});

(lt.objs.notifos.done_working.cljs$core$IFn$_invoke$arity$0 = (function (){
return lt.objs.statusbar.loader_dec.call(null);
}));

(lt.objs.notifos.done_working.cljs$core$IFn$_invoke$arity$1 = (function (msg){
lt.objs.notifos.set_msg_BANG_.call(null,msg);

return lt.objs.statusbar.loader_dec.call(null);
}));

(lt.objs.notifos.done_working.cljs$lang$maxFixedArity = 1);

lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"reset-working","reset-working",1349925059),new cljs.core.Keyword(null,"desc","desc",2093485764),"Status Bar: Reset working indicator",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
return lt.objs.statusbar.loader_set.call(null);
})], null));
