// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.objs.connector');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.canvas');
goog.require('lt.objs.popup');
goog.require('lt.objs.eval');
/**
 * 
 */
lt.objs.connector.__BEH__on_selected = (function lt$objs$connector$__BEH__on_selected(this$,client){
var temp__5753__auto___11731 = new cljs.core.Keyword(null,"cb","cb",589947841).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
if(cljs.core.truth_(temp__5753__auto___11731)){
var cb_11732 = temp__5753__auto___11731;
cb_11732.call(null,client);
} else {
}

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"close!","close!",-2079310498));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.connector","on-selected","lt.objs.connector/on-selected",2124409800),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",574897764),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.connector.__BEH__on_selected);
/**
 * 
 */
lt.objs.connector.__BEH__on_close_BANG_ = (function lt$objs$connector$__BEH__on_close_BANG_(this$){
lt.object.raise.call(null,new cljs.core.Keyword(null,"popup","popup",635890211).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"close!","close!",-2079310498));

return lt.object.destroy_BANG_.call(null,this$);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.connector","on-close!","lt.objs.connector/on-close!",33037260),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close!","close!",-2079310498),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.connector.__BEH__on_close_BANG_);
/**
 * 
 */
lt.objs.connector.client_button = (function lt$objs$connector$client_button(obj,client){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.button","li.button",-182721201),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,client))], null));
var seq__11733_11749 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"selected","selected",574897764),client);
});})(e__992__auto__))
], null)));
var chunk__11734_11750 = null;
var count__11735_11751 = (0);
var i__11736_11752 = (0);
while(true){
if((i__11736_11752 < count__11735_11751)){
var vec__11743_11753 = cljs.core._nth.call(null,chunk__11734_11750,i__11736_11752);
var ev__993__auto___11754 = cljs.core.nth.call(null,vec__11743_11753,(0),null);
var func__994__auto___11755 = cljs.core.nth.call(null,vec__11743_11753,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11754,func__994__auto___11755);


var G__11756 = seq__11733_11749;
var G__11757 = chunk__11734_11750;
var G__11758 = count__11735_11751;
var G__11759 = (i__11736_11752 + (1));
seq__11733_11749 = G__11756;
chunk__11734_11750 = G__11757;
count__11735_11751 = G__11758;
i__11736_11752 = G__11759;
continue;
} else {
var temp__5753__auto___11760 = cljs.core.seq.call(null,seq__11733_11749);
if(temp__5753__auto___11760){
var seq__11733_11761__$1 = temp__5753__auto___11760;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11733_11761__$1)){
var c__4591__auto___11762 = cljs.core.chunk_first.call(null,seq__11733_11761__$1);
var G__11763 = cljs.core.chunk_rest.call(null,seq__11733_11761__$1);
var G__11764 = c__4591__auto___11762;
var G__11765 = cljs.core.count.call(null,c__4591__auto___11762);
var G__11766 = (0);
seq__11733_11749 = G__11763;
chunk__11734_11750 = G__11764;
count__11735_11751 = G__11765;
i__11736_11752 = G__11766;
continue;
} else {
var vec__11746_11767 = cljs.core.first.call(null,seq__11733_11761__$1);
var ev__993__auto___11768 = cljs.core.nth.call(null,vec__11746_11767,(0),null);
var func__994__auto___11769 = cljs.core.nth.call(null,vec__11746_11767,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11768,func__994__auto___11769);


var G__11770 = cljs.core.next.call(null,seq__11733_11761__$1);
var G__11771 = null;
var G__11772 = (0);
var G__11773 = (0);
seq__11733_11749 = G__11770;
chunk__11734_11750 = G__11771;
count__11735_11751 = G__11772;
i__11736_11752 = G__11773;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.connector","client-selector","lt.objs.connector/client-selector",788418534),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"client.selector","client.selector",1408411534),null], null), null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$,clients,cb){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"cb","cb",589947841),cb,new cljs.core.Keyword(null,"popup","popup",635890211),lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"header","header",119441134),"Which client?",new cljs.core.Keyword(null,"body","body",-2049205669),(new cljs.core.List(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),"There are multiple clients that could potentially handle this.\n                                                            Which one do you want us to use for this file?"], null),(new cljs.core.List(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),cljs.core.map.call(null,cljs.core.partial.call(null,lt.objs.connector.client_button,this$),clients)], null),null,(1),null)),(2),null))], null))], null));

return null;
}));
/**
 * 
 */
lt.objs.connector.__BEH__select_client = (function lt$objs$connector$__BEH__select_client(obj,potentials,cb){
return lt.object.create.call(null,new cljs.core.Keyword("lt.objs.connector","client-selector","lt.objs.connector/client-selector",788418534),potentials,cb);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.connector","select-client","lt.objs.connector/select-client",-96962801),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select-client","select-client",1739667626),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.connector.__BEH__select_client);
lt.object.add_behavior_BANG_.call(null,lt.objs.eval.evaler,new cljs.core.Keyword("lt.objs.connector","select-client","lt.objs.connector/select-client",-96962801));
