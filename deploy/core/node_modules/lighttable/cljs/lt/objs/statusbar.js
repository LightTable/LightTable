// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.objs.statusbar');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.tabs');
goog.require('lt.objs.canvas');
goog.require('lt.objs.command');
goog.require('lt.objs.bottombar');
goog.require('lt.objs.editor');
goog.require('lt.util.dom');
goog.require('lt.util.cljs');
goog.require('singultus.binding');
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar-container","lt.objs.statusbar/statusbar-container",-1032563573),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"statusbar","statusbar",-680036405),null], null), null),new cljs.core.Keyword(null,"items","items",1031954938),cljs.core.sorted_set_by.call(null,(function (p1__8655_SHARP_){
return new cljs.core.Keyword(null,"order","order",-1254677256).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,p1__8655_SHARP_));
})),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#statusbar-container","div#statusbar-container",1248433478)], null);
}));
lt.objs.statusbar.container = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar-container","lt.objs.statusbar/statusbar-container",-1032563573));
/**
 * Add an object to the statusbar container. When you wish the object to be displayed or hidden,
 *   raise :show! or :hide! respectively. Objects must have :order and :height keys in order to determine
 *   the space required for the object.
 */
lt.objs.statusbar.add_container = (function lt$objs$statusbar$add_container(obj){
lt.object.add_tags.call(null,obj,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"statusbar-item","statusbar-item",-26211382)], null));

lt.object.update_BANG_.call(null,lt.objs.statusbar.container,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"items","items",1031954938)], null),cljs.core.conj,obj);

var i = lt.util.cljs.index_of.call(null,obj,new cljs.core.Keyword(null,"items","items",1031954938).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.statusbar.container)));
if(cljs.core._EQ_.call(null,i,(0))){
return lt.util.dom.prepend.call(null,lt.object.__GT_content.call(null,lt.objs.statusbar.container),lt.object.__GT_content.call(null,obj));
} else {
return lt.util.dom.after.call(null,lt.object.__GT_content.call(null,cljs.core.get.call(null,new cljs.core.Keyword(null,"items","items",1031954938).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.statusbar.container)),i)),lt.object.__GT_content.call(null,obj));
}
});
/**
 * 
 */
lt.objs.statusbar.__BEH__on_show_BANG_ = (function lt$objs$statusbar$__BEH__on_show_BANG_(this$){
if(cljs.core.truth_(new cljs.core.Keyword("lt.objs.statusbar","shown","lt.objs.statusbar/shown",170188730).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))){
return null;
} else {
lt.util.dom.css.call(null,lt.object.__GT_content.call(null,this$),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"height","height",1025178622),new cljs.core.Keyword(null,"height","height",1025178622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))], null));

lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.statusbar","shown","lt.objs.statusbar/shown",170188730),true], null));

return lt.object.raise.call(null,lt.objs.tabs.multi,new cljs.core.Keyword(null,"tabset-bottom!","tabset-bottom!",507682936),new cljs.core.Keyword(null,"height","height",1025178622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","on-show!","lt.objs.statusbar/on-show!",2131964034),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show!","show!",1939158011),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.statusbar.__BEH__on_show_BANG_);
/**
 * 
 */
lt.objs.statusbar.__BEH__on_hide_BANG_ = (function lt$objs$statusbar$__BEH__on_hide_BANG_(this$){
if(cljs.core.truth_(new cljs.core.Keyword("lt.objs.statusbar","shown","lt.objs.statusbar/shown",170188730).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))){
lt.util.dom.css.call(null,lt.object.__GT_content.call(null,this$),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"height","height",1025178622),(0)], null));

lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.statusbar","shown","lt.objs.statusbar/shown",170188730),false], null));

return lt.object.raise.call(null,lt.objs.tabs.multi,new cljs.core.Keyword(null,"tabset-bottom!","tabset-bottom!",507682936),(- new cljs.core.Keyword(null,"height","height",1025178622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","on-hide!","lt.objs.statusbar/on-hide!",-799753366),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"hide!","hide!",-2041470693),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.statusbar.__BEH__on_hide_BANG_);
/**
 * 
 */
lt.objs.statusbar.__BEH__init_statusbar = (function lt$objs$statusbar$__BEH__init_statusbar(app){
return lt.util.dom.append.call(null,lt.object.__GT_content.call(null,lt.objs.tabs.multi),lt.object.__GT_content.call(null,lt.objs.statusbar.container));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","init-statusbar","lt.objs.statusbar/init-statusbar",-979788424),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",-1875481434),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.statusbar.__BEH__init_statusbar);
/**
 * 
 */
lt.objs.statusbar.statusbar_item = (function lt$objs$statusbar$statusbar_item(content,class$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),class$], null),content], null));
var seq__8656_8672 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__8657_8673 = null;
var count__8658_8674 = (0);
var i__8659_8675 = (0);
while(true){
if((i__8659_8675 < count__8658_8674)){
var vec__8666_8676 = cljs.core._nth.call(null,chunk__8657_8673,i__8659_8675);
var ev__993__auto___8677 = cljs.core.nth.call(null,vec__8666_8676,(0),null);
var func__994__auto___8678 = cljs.core.nth.call(null,vec__8666_8676,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8677,func__994__auto___8678);


var G__8679 = seq__8656_8672;
var G__8680 = chunk__8657_8673;
var G__8681 = count__8658_8674;
var G__8682 = (i__8659_8675 + (1));
seq__8656_8672 = G__8679;
chunk__8657_8673 = G__8680;
count__8658_8674 = G__8681;
i__8659_8675 = G__8682;
continue;
} else {
var temp__5753__auto___8683 = cljs.core.seq.call(null,seq__8656_8672);
if(temp__5753__auto___8683){
var seq__8656_8684__$1 = temp__5753__auto___8683;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8656_8684__$1)){
var c__4591__auto___8685 = cljs.core.chunk_first.call(null,seq__8656_8684__$1);
var G__8686 = cljs.core.chunk_rest.call(null,seq__8656_8684__$1);
var G__8687 = c__4591__auto___8685;
var G__8688 = cljs.core.count.call(null,c__4591__auto___8685);
var G__8689 = (0);
seq__8656_8672 = G__8686;
chunk__8657_8673 = G__8687;
count__8658_8674 = G__8688;
i__8659_8675 = G__8689;
continue;
} else {
var vec__8669_8690 = cljs.core.first.call(null,seq__8656_8684__$1);
var ev__993__auto___8691 = cljs.core.nth.call(null,vec__8669_8690,(0),null);
var func__994__auto___8692 = cljs.core.nth.call(null,vec__8669_8690,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8691,func__994__auto___8692);


var G__8693 = cljs.core.next.call(null,seq__8656_8684__$1);
var G__8694 = null;
var G__8695 = (0);
var G__8696 = (0);
seq__8656_8672 = G__8693;
chunk__8657_8673 = G__8694;
count__8658_8674 = G__8695;
i__8659_8675 = G__8696;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar","lt.objs.statusbar/statusbar",-1530344258),new cljs.core.Keyword(null,"items","items",1031954938),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"height","height",1025178622),(34),new cljs.core.Keyword(null,"order","order",-1254677256),(0),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul#statusbar","ul#statusbar",419168499),singultus.binding.map_bound.call(null,(function (p1__8697_SHARP_){
return lt.object.__GT_content.call(null,cljs.core.deref.call(null,p1__8697_SHARP_));
}),this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"path","path",-188191168),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"items","items",1031954938)], null)], null))], null);
}));
lt.objs.statusbar.statusbar = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar","lt.objs.statusbar/statusbar",-1530344258));
lt.objs.statusbar.add_container.call(null,lt.objs.statusbar.statusbar);
/**
 * 
 */
lt.objs.statusbar.__BEH__show_statusbar = (function lt$objs$statusbar$__BEH__show_statusbar(this$){
return lt.object.raise.call(null,lt.objs.statusbar.statusbar,new cljs.core.Keyword(null,"show!","show!",1939158011));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","show-statusbar","lt.objs.statusbar/show-statusbar",64983689),new cljs.core.Keyword(null,"desc","desc",2093485764),"App: Show statusbar at the bottom of the editor",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",-1875481434),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.statusbar.__BEH__show_statusbar);
lt.objs.statusbar.add_statusbar_item = (function lt$objs$statusbar$add_statusbar_item(item){
return lt.object.update_BANG_.call(null,lt.objs.statusbar.statusbar,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"items","items",1031954938)], null),cljs.core.conj,item);
});
lt.objs.statusbar.__GT_cursor_str = (function lt$objs$statusbar$__GT_cursor_str(p__8698){
var map__8699 = p__8698;
var map__8699__$1 = cljs.core.__destructure_map.call(null,map__8699);
var pos = cljs.core.get.call(null,map__8699__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.pos","span.pos",-211797588),["",cljs.core.str.cljs$core$IFn$_invoke$arity$1((new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(pos) + (1)))," / ",cljs.core.str.cljs$core$IFn$_invoke$arity$1((new cljs.core.Keyword(null,"ch","ch",-554717905).cljs$core$IFn$_invoke$arity$1(pos) + (1)))].join('')], null);
});
/**
 * 
 */
lt.objs.statusbar.__BEH__update_cursor_location = (function lt$objs$statusbar$__BEH__update_cursor_location(this$,pos){
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"pos","pos",-864607220),pos], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","update-cursor-location","lt.objs.statusbar/update-cursor-location",-432219703),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"update!","update!",-1453508586),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.statusbar.__BEH__update_cursor_location);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.cursor","lt.objs.statusbar/statusbar.cursor",1923827157),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),cljs.core.PersistentHashSet.EMPTY,new cljs.core.Keyword(null,"behaviors","behaviors",120724909),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.statusbar","update-cursor-location","lt.objs.statusbar/update-cursor-location",-432219703),null], null), null),new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"line","line",212345235),(0),new cljs.core.Keyword(null,"ch","ch",-554717905),(0)], null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return lt.objs.statusbar.statusbar_item.call(null,singultus.binding.bound.call(null,this$,lt.objs.statusbar.__GT_cursor_str),"");
}));
lt.objs.statusbar.statusbar_cursor = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.cursor","lt.objs.statusbar/statusbar.cursor",1923827157));
lt.objs.statusbar.add_statusbar_item.call(null,lt.objs.statusbar.statusbar_cursor);
/**
 * 
 */
lt.objs.statusbar.__BEH__report_cursor_location = (function lt$objs$statusbar$__BEH__report_cursor_location(this$){
return lt.object.raise.call(null,lt.objs.statusbar.statusbar_cursor,new cljs.core.Keyword(null,"update!","update!",-1453508586),lt.objs.editor.__GT_cursor.call(null,this$));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","report-cursor-location","lt.objs.statusbar/report-cursor-location",-799384459),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"move","move",-2110884309),null,new cljs.core.Keyword(null,"active","active",1895962068),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.statusbar.__BEH__report_cursor_location);
lt.objs.statusbar.loader_disp = (function lt$objs$statusbar$loader_disp(this$){
if((new cljs.core.Keyword(null,"loaders","loaders",1141127131).cljs$core$IFn$_invoke$arity$1(this$) > (0))){
return "";
} else {
return "none";
}
});
lt.objs.statusbar.arrow_disp = (function lt$objs$statusbar$arrow_disp(this$){
if((new cljs.core.Keyword(null,"loaders","loaders",1141127131).cljs$core$IFn$_invoke$arity$1(this$) > (0))){
return "none";
} else {
return "";
}
});
/**
 * 
 */
lt.objs.statusbar.loader = (function lt$objs$statusbar$loader(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.load-wrapper","span.load-wrapper",-822389692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"display","display",242065432),singultus.binding.bound.call(null,this$,lt.objs.statusbar.loader_disp)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.img","span.img",-675856048)], null)], null));
var seq__8700_8716 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"toggle","toggle",1291842030));
});})(e__992__auto__))
], null)));
var chunk__8701_8717 = null;
var count__8702_8718 = (0);
var i__8703_8719 = (0);
while(true){
if((i__8703_8719 < count__8702_8718)){
var vec__8710_8720 = cljs.core._nth.call(null,chunk__8701_8717,i__8703_8719);
var ev__993__auto___8721 = cljs.core.nth.call(null,vec__8710_8720,(0),null);
var func__994__auto___8722 = cljs.core.nth.call(null,vec__8710_8720,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8721,func__994__auto___8722);


var G__8723 = seq__8700_8716;
var G__8724 = chunk__8701_8717;
var G__8725 = count__8702_8718;
var G__8726 = (i__8703_8719 + (1));
seq__8700_8716 = G__8723;
chunk__8701_8717 = G__8724;
count__8702_8718 = G__8725;
i__8703_8719 = G__8726;
continue;
} else {
var temp__5753__auto___8727 = cljs.core.seq.call(null,seq__8700_8716);
if(temp__5753__auto___8727){
var seq__8700_8728__$1 = temp__5753__auto___8727;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8700_8728__$1)){
var c__4591__auto___8729 = cljs.core.chunk_first.call(null,seq__8700_8728__$1);
var G__8730 = cljs.core.chunk_rest.call(null,seq__8700_8728__$1);
var G__8731 = c__4591__auto___8729;
var G__8732 = cljs.core.count.call(null,c__4591__auto___8729);
var G__8733 = (0);
seq__8700_8716 = G__8730;
chunk__8701_8717 = G__8731;
count__8702_8718 = G__8732;
i__8703_8719 = G__8733;
continue;
} else {
var vec__8713_8734 = cljs.core.first.call(null,seq__8700_8728__$1);
var ev__993__auto___8735 = cljs.core.nth.call(null,vec__8713_8734,(0),null);
var func__994__auto___8736 = cljs.core.nth.call(null,vec__8713_8734,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8735,func__994__auto___8736);


var G__8737 = cljs.core.next.call(null,seq__8700_8728__$1);
var G__8738 = null;
var G__8739 = (0);
var G__8740 = (0);
seq__8700_8716 = G__8737;
chunk__8701_8717 = G__8738;
count__8702_8718 = G__8739;
i__8703_8719 = G__8740;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.statusbar.log_item = (function lt$objs$statusbar$log_item(i){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),singultus.binding.bound.call(null,i,new cljs.core.Keyword(null,"text","text",-1790561697))], null));
var seq__8741_8757 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__8742_8758 = null;
var count__8743_8759 = (0);
var i__8744_8760 = (0);
while(true){
if((i__8744_8760 < count__8743_8759)){
var vec__8751_8761 = cljs.core._nth.call(null,chunk__8742_8758,i__8744_8760);
var ev__993__auto___8762 = cljs.core.nth.call(null,vec__8751_8761,(0),null);
var func__994__auto___8763 = cljs.core.nth.call(null,vec__8751_8761,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8762,func__994__auto___8763);


var G__8764 = seq__8741_8757;
var G__8765 = chunk__8742_8758;
var G__8766 = count__8743_8759;
var G__8767 = (i__8744_8760 + (1));
seq__8741_8757 = G__8764;
chunk__8742_8758 = G__8765;
count__8743_8759 = G__8766;
i__8744_8760 = G__8767;
continue;
} else {
var temp__5753__auto___8768 = cljs.core.seq.call(null,seq__8741_8757);
if(temp__5753__auto___8768){
var seq__8741_8769__$1 = temp__5753__auto___8768;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8741_8769__$1)){
var c__4591__auto___8770 = cljs.core.chunk_first.call(null,seq__8741_8769__$1);
var G__8771 = cljs.core.chunk_rest.call(null,seq__8741_8769__$1);
var G__8772 = c__4591__auto___8770;
var G__8773 = cljs.core.count.call(null,c__4591__auto___8770);
var G__8774 = (0);
seq__8741_8757 = G__8771;
chunk__8742_8758 = G__8772;
count__8743_8759 = G__8773;
i__8744_8760 = G__8774;
continue;
} else {
var vec__8754_8775 = cljs.core.first.call(null,seq__8741_8769__$1);
var ev__993__auto___8776 = cljs.core.nth.call(null,vec__8754_8775,(0),null);
var func__994__auto___8777 = cljs.core.nth.call(null,vec__8754_8775,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8776,func__994__auto___8777);


var G__8778 = cljs.core.next.call(null,seq__8741_8769__$1);
var G__8779 = null;
var G__8780 = (0);
var G__8781 = (0);
seq__8741_8757 = G__8778;
chunk__8742_8758 = G__8779;
count__8743_8759 = G__8780;
i__8744_8760 = G__8781;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.objs.statusbar.__GT_message_class = (function lt$objs$statusbar$__GT_message_class(m){
return ["message ",cljs.core.str.cljs$core$IFn$_invoke$arity$1((function (){var or__4160__auto__ = m;
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return "";
}
})())].join('');
});
/**
 * 
 */
lt.objs.statusbar.log = (function lt$objs$statusbar$log(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.log","div.log",518813601),lt.objs.statusbar.loader.call(null,this$),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,this$,(function (p1__8782_SHARP_){
return lt.objs.statusbar.__GT_message_class.call(null,new cljs.core.Keyword(null,"class","class",-2030961996).cljs$core$IFn$_invoke$arity$1(p1__8782_SHARP_));
}))], null),singultus.binding.bound.call(null,this$,new cljs.core.Keyword(null,"message","message",-406056002))], null)], null));
var seq__8783_8799 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__8784_8800 = null;
var count__8785_8801 = (0);
var i__8786_8802 = (0);
while(true){
if((i__8786_8802 < count__8785_8801)){
var vec__8793_8803 = cljs.core._nth.call(null,chunk__8784_8800,i__8786_8802);
var ev__993__auto___8804 = cljs.core.nth.call(null,vec__8793_8803,(0),null);
var func__994__auto___8805 = cljs.core.nth.call(null,vec__8793_8803,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8804,func__994__auto___8805);


var G__8806 = seq__8783_8799;
var G__8807 = chunk__8784_8800;
var G__8808 = count__8785_8801;
var G__8809 = (i__8786_8802 + (1));
seq__8783_8799 = G__8806;
chunk__8784_8800 = G__8807;
count__8785_8801 = G__8808;
i__8786_8802 = G__8809;
continue;
} else {
var temp__5753__auto___8810 = cljs.core.seq.call(null,seq__8783_8799);
if(temp__5753__auto___8810){
var seq__8783_8811__$1 = temp__5753__auto___8810;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8783_8811__$1)){
var c__4591__auto___8812 = cljs.core.chunk_first.call(null,seq__8783_8811__$1);
var G__8813 = cljs.core.chunk_rest.call(null,seq__8783_8811__$1);
var G__8814 = c__4591__auto___8812;
var G__8815 = cljs.core.count.call(null,c__4591__auto___8812);
var G__8816 = (0);
seq__8783_8799 = G__8813;
chunk__8784_8800 = G__8814;
count__8785_8801 = G__8815;
i__8786_8802 = G__8816;
continue;
} else {
var vec__8796_8817 = cljs.core.first.call(null,seq__8783_8811__$1);
var ev__993__auto___8818 = cljs.core.nth.call(null,vec__8796_8817,(0),null);
var func__994__auto___8819 = cljs.core.nth.call(null,vec__8796_8817,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8818,func__994__auto___8819);


var G__8820 = cljs.core.next.call(null,seq__8783_8811__$1);
var G__8821 = null;
var G__8822 = (0);
var G__8823 = (0);
seq__8783_8799 = G__8820;
chunk__8784_8800 = G__8821;
count__8785_8801 = G__8822;
i__8786_8802 = G__8823;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.loader","lt.objs.statusbar/statusbar.loader",1273250339),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"statusbar.console","statusbar.console",-268311840),null], null), null),new cljs.core.Keyword(null,"loaders","loaders",1141127131),(0),new cljs.core.Keyword(null,"message","message",-406056002),"",new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return lt.objs.statusbar.statusbar_item.call(null,lt.objs.statusbar.log.call(null,this$),"left");
}));
lt.objs.statusbar.statusbar_loader = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.loader","lt.objs.statusbar/statusbar.loader",1273250339));
lt.objs.statusbar.add_statusbar_item.call(null,lt.objs.statusbar.statusbar_loader);
lt.objs.statusbar.loader_set = (function lt$objs$statusbar$loader_set(){
return lt.object.merge_BANG_.call(null,lt.objs.statusbar.statusbar_loader,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"loaders","loaders",1141127131),(0)], null));
});
lt.objs.statusbar.loader_inc = (function lt$objs$statusbar$loader_inc(){
return lt.object.update_BANG_.call(null,lt.objs.statusbar.statusbar_loader,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"loaders","loaders",1141127131)], null),cljs.core.inc);
});
lt.objs.statusbar.loader_dec = (function lt$objs$statusbar$loader_dec(){
if((new cljs.core.Keyword(null,"loaders","loaders",1141127131).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.statusbar.statusbar_loader)) > (0))){
return lt.object.update_BANG_.call(null,lt.objs.statusbar.statusbar_loader,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"loaders","loaders",1141127131)], null),cljs.core.dec);
} else {
return null;
}
});
lt.objs.statusbar.toggle_class = (function lt$objs$statusbar$toggle_class(p__8824){
var map__8825 = p__8824;
var map__8825__$1 = cljs.core.__destructure_map.call(null,map__8825);
var dirty = cljs.core.get.call(null,map__8825__$1,new cljs.core.Keyword(null,"dirty","dirty",729553281));
var class$ = cljs.core.get.call(null,map__8825__$1,new cljs.core.Keyword(null,"class","class",-2030961996));
return ["console-toggle ",(cljs.core.truth_(class$)?[cljs.core.str.cljs$core$IFn$_invoke$arity$1(class$)," "].join(''):null),(((dirty > (0)))?"dirty":null)].join('');
});
/**
 * 
 */
lt.objs.statusbar.toggle_span = (function lt$objs$statusbar$toggle_span(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,this$,lt.objs.statusbar.toggle_class)], null),singultus.binding.bound.call(null,this$,new cljs.core.Keyword(null,"dirty","dirty",729553281))], null));
var seq__8826_8842 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"toggle-console","toggle-console",2094748794));
});})(e__992__auto__))
], null)));
var chunk__8827_8843 = null;
var count__8828_8844 = (0);
var i__8829_8845 = (0);
while(true){
if((i__8829_8845 < count__8828_8844)){
var vec__8836_8846 = cljs.core._nth.call(null,chunk__8827_8843,i__8829_8845);
var ev__993__auto___8847 = cljs.core.nth.call(null,vec__8836_8846,(0),null);
var func__994__auto___8848 = cljs.core.nth.call(null,vec__8836_8846,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8847,func__994__auto___8848);


var G__8849 = seq__8826_8842;
var G__8850 = chunk__8827_8843;
var G__8851 = count__8828_8844;
var G__8852 = (i__8829_8845 + (1));
seq__8826_8842 = G__8849;
chunk__8827_8843 = G__8850;
count__8828_8844 = G__8851;
i__8829_8845 = G__8852;
continue;
} else {
var temp__5753__auto___8853 = cljs.core.seq.call(null,seq__8826_8842);
if(temp__5753__auto___8853){
var seq__8826_8854__$1 = temp__5753__auto___8853;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__8826_8854__$1)){
var c__4591__auto___8855 = cljs.core.chunk_first.call(null,seq__8826_8854__$1);
var G__8856 = cljs.core.chunk_rest.call(null,seq__8826_8854__$1);
var G__8857 = c__4591__auto___8855;
var G__8858 = cljs.core.count.call(null,c__4591__auto___8855);
var G__8859 = (0);
seq__8826_8842 = G__8856;
chunk__8827_8843 = G__8857;
count__8828_8844 = G__8858;
i__8829_8845 = G__8859;
continue;
} else {
var vec__8839_8860 = cljs.core.first.call(null,seq__8826_8854__$1);
var ev__993__auto___8861 = cljs.core.nth.call(null,vec__8839_8860,(0),null);
var func__994__auto___8862 = cljs.core.nth.call(null,vec__8839_8860,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___8861,func__994__auto___8862);


var G__8863 = cljs.core.next.call(null,seq__8826_8854__$1);
var G__8864 = null;
var G__8865 = (0);
var G__8866 = (0);
seq__8826_8842 = G__8863;
chunk__8827_8843 = G__8864;
count__8828_8844 = G__8865;
i__8829_8845 = G__8866;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.console-toggle","lt.objs.statusbar/statusbar.console-toggle",-439495097),new cljs.core.Keyword(null,"dirty","dirty",729553281),(0),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"statusbar.console-toggle","statusbar.console-toggle",1232417086)], null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return lt.objs.statusbar.statusbar_item.call(null,lt.objs.statusbar.toggle_span.call(null,this$),"");
}));
lt.objs.statusbar.console_toggle = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.statusbar","statusbar.console-toggle","lt.objs.statusbar/statusbar.console-toggle",-439495097));
lt.objs.statusbar.add_statusbar_item.call(null,lt.objs.statusbar.console_toggle);
lt.objs.statusbar.dirty = (function lt$objs$statusbar$dirty(){
return lt.object.update_BANG_.call(null,lt.objs.statusbar.console_toggle,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dirty","dirty",729553281)], null),cljs.core.inc);
});
lt.objs.statusbar.clean = (function lt$objs$statusbar$clean(){
return lt.object.merge_BANG_.call(null,lt.objs.statusbar.console_toggle,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"dirty","dirty",729553281),(0),new cljs.core.Keyword(null,"class","class",-2030961996),null], null));
});
lt.objs.statusbar.console_class = (function lt$objs$statusbar$console_class(class$){
return lt.object.merge_BANG_.call(null,lt.objs.statusbar.console_toggle,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),class$], null));
});
