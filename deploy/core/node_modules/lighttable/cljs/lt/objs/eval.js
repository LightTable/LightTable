// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.objs.eval');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.canvas');
goog.require('lt.objs.editor');
goog.require('lt.objs.menu');
goog.require('lt.objs.files');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.clients');
goog.require('lt.util.cljs');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.notifos');
goog.require('lt.objs.popup');
goog.require('singultus.core');
goog.require('singultus.binding');
goog.require('lt.objs.console');
goog.require('lt.util.dom');
goog.require('clojure.string');
goog.require('cljs.reader');
goog.require('lt.objs.platform');
/**
 * 
 */
lt.objs.eval.button = (function lt$objs$eval$button(var_args){
var args__4777__auto__ = [];
var len__4771__auto___11272 = arguments.length;
var i__4772__auto___11273 = (0);
while(true){
if((i__4772__auto___11273 < len__4771__auto___11272)){
args__4777__auto__.push((arguments[i__4772__auto___11273]));

var G__11274 = (i__4772__auto___11273 + (1));
i__4772__auto___11273 = G__11274;
continue;
} else {
}
break;
}

var argseq__4778__auto__ = ((((1) < args__4777__auto__.length))?(new cljs.core.IndexedSeq(args__4777__auto__.slice((1)),(0),null)):null);
return lt.objs.eval.button.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__4778__auto__);
});

(lt.objs.eval.button.cljs$core$IFn$_invoke$arity$variadic = (function (label,p__11252){
var vec__11253 = p__11252;
var cb = cljs.core.nth.call(null,vec__11253,(0),null);
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.button.right","div.button.right",1623860542),label], null));
var seq__11256_11275 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__,vec__11253,cb){
return (function (){
if(cljs.core.truth_(cb)){
return cb.call(null);
} else {
return null;
}
});})(e__992__auto__,vec__11253,cb))
], null)));
var chunk__11257_11276 = null;
var count__11258_11277 = (0);
var i__11259_11278 = (0);
while(true){
if((i__11259_11278 < count__11258_11277)){
var vec__11266_11279 = cljs.core._nth.call(null,chunk__11257_11276,i__11259_11278);
var ev__993__auto___11280 = cljs.core.nth.call(null,vec__11266_11279,(0),null);
var func__994__auto___11281 = cljs.core.nth.call(null,vec__11266_11279,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11280,func__994__auto___11281);


var G__11282 = seq__11256_11275;
var G__11283 = chunk__11257_11276;
var G__11284 = count__11258_11277;
var G__11285 = (i__11259_11278 + (1));
seq__11256_11275 = G__11282;
chunk__11257_11276 = G__11283;
count__11258_11277 = G__11284;
i__11259_11278 = G__11285;
continue;
} else {
var temp__5753__auto___11286 = cljs.core.seq.call(null,seq__11256_11275);
if(temp__5753__auto___11286){
var seq__11256_11287__$1 = temp__5753__auto___11286;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11256_11287__$1)){
var c__4591__auto___11288 = cljs.core.chunk_first.call(null,seq__11256_11287__$1);
var G__11289 = cljs.core.chunk_rest.call(null,seq__11256_11287__$1);
var G__11290 = c__4591__auto___11288;
var G__11291 = cljs.core.count.call(null,c__4591__auto___11288);
var G__11292 = (0);
seq__11256_11275 = G__11289;
chunk__11257_11276 = G__11290;
count__11258_11277 = G__11291;
i__11259_11278 = G__11292;
continue;
} else {
var vec__11269_11293 = cljs.core.first.call(null,seq__11256_11287__$1);
var ev__993__auto___11294 = cljs.core.nth.call(null,vec__11269_11293,(0),null);
var func__994__auto___11295 = cljs.core.nth.call(null,vec__11269_11293,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11294,func__994__auto___11295);


var G__11296 = cljs.core.next.call(null,seq__11256_11287__$1);
var G__11297 = null;
var G__11298 = (0);
var G__11299 = (0);
seq__11256_11275 = G__11296;
chunk__11257_11276 = G__11297;
count__11258_11277 = G__11298;
i__11259_11278 = G__11299;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
}));

(lt.objs.eval.button.cljs$lang$maxFixedArity = (1));

/** @this {Function} */
(lt.objs.eval.button.cljs$lang$applyTo = (function (seq11250){
var G__11251 = cljs.core.first.call(null,seq11250);
var seq11250__$1 = cljs.core.next.call(null,seq11250);
var self__4758__auto__ = this;
return self__4758__auto__.cljs$core$IFn$_invoke$arity$variadic(G__11251,seq11250__$1);
}));

lt.objs.eval.unescape_unicode = (function lt$objs$eval$unescape_unicode(s){
return clojure.string.replace.call(null,s,/\\x(..)/,(function (res,r){
return String.fromCharCode(parseInt(r,(16)));
}));
});
var ev_id_11300 = cljs.core.atom.call(null,(0));
lt.objs.eval.append_source_file = (function lt$objs$eval$append_source_file(code,file){
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(code),"\n\n//# sourceURL=",cljs.core.str.cljs$core$IFn$_invoke$arity$1((function (){var or__4160__auto__ = file;
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return "evalresult";
}
})()),"[eval",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.swap_BANG_.call(null,ev_id_11300,cljs.core.inc)),"]"].join('');
});
lt.objs.eval.pad = (function lt$objs$eval$pad(code,lines){
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.reduce.call(null,cljs.core.str,cljs.core.repeat.call(null,lines,"\n"))),cljs.core.str.cljs$core$IFn$_invoke$arity$1(code)].join('');
});
lt.objs.eval.cljs_result_format = (function lt$objs$eval$cljs_result_format(n){
if(cljs.core.coll_QMARK_.call(null,n)){
return cljs.core.pr_str.call(null,n);
} else {
if(cljs.core.fn_QMARK_.call(null,n)){
return ["(fn ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(n.name)," ..)"].join('');
} else {
if((n == null)){
return "nil";
} else {
if(cljs.core._EQ_.call(null,cljs.core.pr_str.call(null,n),"#<[object Object]>")){
return lt.objs.console.inspect.call(null,n);
} else {
return cljs.core.pr_str.call(null,n);

}
}
}
}
});
/**
 * 
 */
lt.objs.eval.__BEH__on_selected_cb = (function lt$objs$eval$__BEH__on_selected_cb(obj,client){
var cb = cljs.core.deref.call(null,obj).call(null,new cljs.core.Keyword(null,"cb","cb",589947841));
return cb.call(null,client);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-selected-cb","lt.objs.eval/on-selected-cb",1289264822),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",574897764),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__on_selected_cb);
/**
 * 
 */
lt.objs.eval.__BEH__on_selected_destroy = (function lt$objs$eval$__BEH__on_selected_destroy(obj,client){
return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"destroy","destroy",-843660405));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-selected-destroy","lt.objs.eval/on-selected-destroy",-1935381123),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",574897764),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__on_selected_destroy);
lt.objs.eval.eval_queue = cljs.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
/**
 * 
 */
lt.objs.eval.__BEH__queue_on_no_client = (function lt$objs$eval$__BEH__queue_on_no_client(this$,queue_item){
return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,cljs.core.conj,queue_item);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","queue-on-no-client","lt.objs.eval/queue-on-no-client",-1841950432),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"no-client","no-client",-373374621),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__queue_on_no_client);
/**
 * 
 */
lt.objs.eval.__BEH__alert_on_no_client = (function lt$objs$eval$__BEH__alert_on_no_client(this$){
return lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"header","header",119441134),"No client available.",new cljs.core.Keyword(null,"body","body",-2049205669),"We don't know what kind of client you want for this one. Try starting a client by choosing one of the connection types in the connect panel.",new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Connect a client",new cljs.core.Keyword(null,"action","action",-811238024),(function (){
return lt.objs.sidebar.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"show-add-connection","show-add-connection",652692070));
})], null)], null)], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","alert-on-no-client","lt.objs.eval/alert-on-no-client",982219007),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"no-client","no-client",-373374621),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__alert_on_no_client);
/**
 * 
 */
lt.objs.eval.__BEH__queue_BANG_ = (function lt$objs$eval$__BEH__queue_BANG_(this$,queue_item){
return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,cljs.core.conj,queue_item);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","queue!","lt.objs.eval/queue!",-388544652),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"queue!","queue!",-1061064868),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__queue_BANG_);
lt.objs.eval.drain = (function lt$objs$eval$drain(queue){
return cljs.core.vec.call(null,cljs.core.remove.call(null,(function (cur){
var vec__11301 = cur;
var _ = cljs.core.nth.call(null,vec__11301,(0),null);
var ___$1 = cljs.core.nth.call(null,vec__11301,(1),null);
var cb = cljs.core.nth.call(null,vec__11301,(2),null);
var vec__11304 = cljs.core.apply.call(null,lt.objs.clients.discover,cur);
var result = cljs.core.nth.call(null,vec__11304,(0),null);
var client = cljs.core.nth.call(null,vec__11304,(1),null);
if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"found","found",-584700170),result)){
cb.call(null,client);

return true;
} else {
return null;
}
}),queue));
});
/**
 * 
 */
lt.objs.eval.__BEH__on_connect_check_queue = (function lt$objs$eval$__BEH__on_connect_check_queue(this$){
return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,lt.objs.eval.drain);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-connect-check-queue","lt.objs.eval/on-connect-check-queue",-2059851612),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"connect","connect",1232828233),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__on_connect_check_queue);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","evaler","lt.objs.eval/evaler",1676715817),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"evaler","evaler",197619505),null], null), null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (){
return null;
}));
lt.objs.eval.evaler = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","evaler","lt.objs.eval/evaler",1676715817));
lt.object.add_behavior_BANG_.call(null,lt.objs.clients.clients,new cljs.core.Keyword("lt.objs.eval","on-connect-check-queue","lt.objs.eval/on-connect-check-queue",-2059851612));
lt.objs.eval.try_read = (function lt$objs$eval$try_read(r){
try{return cljs.reader.read_string.call(null,r);
}catch (e11307){var e = e11307;
return lt.objs.console.error.call(null,e);
}});
lt.objs.eval.find_client = (function lt$objs$eval$find_client(p__11308){
var map__11309 = p__11308;
var map__11309__$1 = cljs.core.__destructure_map.call(null,map__11309);
var opts = map__11309__$1;
var origin = cljs.core.get.call(null,map__11309__$1,new cljs.core.Keyword(null,"origin","origin",1037372088));
var command = cljs.core.get.call(null,map__11309__$1,new cljs.core.Keyword(null,"command","command",-894540724));
var info = cljs.core.get.call(null,map__11309__$1,new cljs.core.Keyword(null,"info","info",-317069002));
var key = cljs.core.get.call(null,map__11309__$1,new cljs.core.Keyword(null,"key","key",-1516042587));
var create = cljs.core.get.call(null,map__11309__$1,new cljs.core.Keyword(null,"create","create",-1301499256));
var vec__11310 = lt.objs.clients.discover.call(null,command,info);
var result = cljs.core.nth.call(null,vec__11310,(0),null);
var client = cljs.core.nth.call(null,vec__11310,(1),null);
var key__$1 = (function (){var or__4160__auto__ = key;
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return new cljs.core.Keyword(null,"default","default",-1987822328);
}
})();
var pred__11313 = cljs.core._EQ_;
var expr__11314 = result;
if(cljs.core.truth_(pred__11313.call(null,new cljs.core.Keyword(null,"none","none",1333468478),expr__11314))){
if(cljs.core.truth_(create)){
return create.call(null,opts);
} else {
lt.objs.notifos.done_working.call(null);

lt.object.raise.call(null,lt.objs.eval.evaler,new cljs.core.Keyword(null,"no-client","no-client",-373374621),opts);

return lt.objs.clients.placeholder.call(null);
}
} else {
if(cljs.core.truth_(pred__11313.call(null,new cljs.core.Keyword(null,"found","found",-584700170),expr__11314))){
return client;
} else {
if(cljs.core.truth_(pred__11313.call(null,new cljs.core.Keyword(null,"select","select",1147833503),expr__11314))){
lt.object.raise.call(null,lt.objs.eval.evaler,new cljs.core.Keyword(null,"select-client","select-client",1739667626),client,(function (client__$1){
lt.objs.clients.swap_client_BANG_.call(null,key__$1.call(null,new cljs.core.Keyword(null,"client","client",-1323448117).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,origin))),client__$1);

return lt.object.update_BANG_.call(null,origin,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"client","client",-1323448117)], null),cljs.core.assoc,key__$1,client__$1);
}));

return lt.objs.clients.placeholder.call(null);
} else {
throw (new Error(["No matching clause: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(expr__11314)].join('')));
}
}
}
});
lt.objs.eval.get_client_BANG_ = (function lt$objs$eval$get_client_BANG_(p__11316){
var map__11317 = p__11316;
var map__11317__$1 = cljs.core.__destructure_map.call(null,map__11317);
var opts = map__11317__$1;
var origin = cljs.core.get.call(null,map__11317__$1,new cljs.core.Keyword(null,"origin","origin",1037372088));
var command = cljs.core.get.call(null,map__11317__$1,new cljs.core.Keyword(null,"command","command",-894540724));
var key = cljs.core.get.call(null,map__11317__$1,new cljs.core.Keyword(null,"key","key",-1516042587));
var create = cljs.core.get.call(null,map__11317__$1,new cljs.core.Keyword(null,"create","create",-1301499256));
var key__$1 = (function (){var or__4160__auto__ = key;
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return new cljs.core.Keyword(null,"default","default",-1987822328);
}
})();
var cur = key__$1.call(null,new cljs.core.Keyword(null,"client","client",-1323448117).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,origin)));
if(cljs.core.truth_((function (){var and__4149__auto__ = cur;
if(cljs.core.truth_(and__4149__auto__)){
return lt.objs.clients.available_QMARK_.call(null,cur);
} else {
return and__4149__auto__;
}
})())){
return cur;
} else {
var neue = lt.objs.eval.find_client.call(null,opts);
lt.object.update_BANG_.call(null,origin,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"client","client",-1323448117)], null),cljs.core.assoc,key__$1,neue);

lt.object.raise.call(null,origin,new cljs.core.Keyword(null,"set-client","set-client",-1338996324),neue);

return neue;
}
});
lt.objs.eval.__GT_result_class = (function lt$objs$eval$__GT_result_class(this$,trunc){
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"class","class",-2030961996).cljs$core$IFn$_invoke$arity$1(this$)),"-result result-mark",(cljs.core.truth_((function (){var or__4160__auto__ = new cljs.core.Keyword(null,"open","open",-1763596448).cljs$core$IFn$_invoke$arity$1(this$);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return cljs.core.not.call(null,trunc);
}
})())?" open":null)].join('');
});
lt.objs.eval.truncate_result = (function lt$objs$eval$truncate_result(var_args){
var G__11319 = arguments.length;
switch (G__11319) {
case 1:
return lt.objs.eval.truncate_result.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));

break;
case 2:
return lt.objs.eval.truncate_result.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));

break;
default:
throw (new Error(["Invalid arity: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));

}
});

(lt.objs.eval.truncate_result.cljs$core$IFn$_invoke$arity$1 = (function (r){
return lt.objs.eval.truncate_result.call(null,r,null);
}));

(lt.objs.eval.truncate_result.cljs$core$IFn$_invoke$arity$2 = (function (r,opts){
if(typeof r === 'string'){
var nl = r.indexOf("\n");
var len = (((nl > (-1)))?nl:new cljs.core.Keyword(null,"trunc-length","trunc-length",1359666678).cljs$core$IFn$_invoke$arity$2(opts,(50)));
if((((r).length) > len)){
return [cljs.core.subs.call(null,r,(0),len)," \u2026"].join('');
} else {
return r;
}
} else {
return null;
}
}));

(lt.objs.eval.truncate_result.cljs$lang$maxFixedArity = 2);

/**
 * 
 */
lt.objs.eval.__GT_inline_res = (function lt$objs$eval$__GT_inline_res(this$,info){
var e__992__auto__ = singultus.core.html.call(null,(function (){var r = new cljs.core.Keyword(null,"result","result",1415092211).cljs$core$IFn$_invoke$arity$1(info);
var truncated = lt.objs.eval.truncate_result.call(null,r,info);
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,this$,(function (p1__11321_SHARP_){
return lt.objs.eval.__GT_result_class.call(null,p1__11321_SHARP_,truncated);
}))], null),(cljs.core.truth_(truncated)?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.truncated","span.truncated",684030620),truncated], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.full","span.full",751073405),r], null)], null);
})());
var seq__11322_11338 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"mousewheel","mousewheel",-648300011),((function (e__992__auto__){
return (function (e){
return lt.util.dom.stop_propagation.call(null,e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (e){
lt.util.dom.prevent.call(null,e);

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1912301393));
});})(e__992__auto__))
,new cljs.core.Keyword(null,"contextmenu","contextmenu",-15887481),((function (e__992__auto__){
return (function (e){
lt.util.dom.prevent.call(null,e);

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"dblclick","dblclick",-1821330376),((function (e__992__auto__){
return (function (e){
lt.util.dom.prevent.call(null,e);

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",-733492993));
});})(e__992__auto__))
], null)));
var chunk__11323_11339 = null;
var count__11324_11340 = (0);
var i__11325_11341 = (0);
while(true){
if((i__11325_11341 < count__11324_11340)){
var vec__11332_11342 = cljs.core._nth.call(null,chunk__11323_11339,i__11325_11341);
var ev__993__auto___11343 = cljs.core.nth.call(null,vec__11332_11342,(0),null);
var func__994__auto___11344 = cljs.core.nth.call(null,vec__11332_11342,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11343,func__994__auto___11344);


var G__11345 = seq__11322_11338;
var G__11346 = chunk__11323_11339;
var G__11347 = count__11324_11340;
var G__11348 = (i__11325_11341 + (1));
seq__11322_11338 = G__11345;
chunk__11323_11339 = G__11346;
count__11324_11340 = G__11347;
i__11325_11341 = G__11348;
continue;
} else {
var temp__5753__auto___11349 = cljs.core.seq.call(null,seq__11322_11338);
if(temp__5753__auto___11349){
var seq__11322_11350__$1 = temp__5753__auto___11349;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11322_11350__$1)){
var c__4591__auto___11351 = cljs.core.chunk_first.call(null,seq__11322_11350__$1);
var G__11352 = cljs.core.chunk_rest.call(null,seq__11322_11350__$1);
var G__11353 = c__4591__auto___11351;
var G__11354 = cljs.core.count.call(null,c__4591__auto___11351);
var G__11355 = (0);
seq__11322_11338 = G__11352;
chunk__11323_11339 = G__11353;
count__11324_11340 = G__11354;
i__11325_11341 = G__11355;
continue;
} else {
var vec__11335_11356 = cljs.core.first.call(null,seq__11322_11350__$1);
var ev__993__auto___11357 = cljs.core.nth.call(null,vec__11335_11356,(0),null);
var func__994__auto___11358 = cljs.core.nth.call(null,vec__11335_11356,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11357,func__994__auto___11358);


var G__11359 = cljs.core.next.call(null,seq__11322_11350__$1);
var G__11360 = null;
var G__11361 = (0);
var G__11362 = (0);
seq__11322_11338 = G__11359;
chunk__11323_11339 = G__11360;
count__11324_11340 = G__11361;
i__11325_11341 = G__11362;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.eval.__BEH__result_menu_PLUS_ = (function lt$objs$eval$__BEH__result_menu_PLUS_(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Remove result",new cljs.core.Keyword(null,"order","order",-1254677256),(1),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Copy result",new cljs.core.Keyword(null,"order","order",-1254677256),(2),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"copy","copy",-1077617309));
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","result-menu+","lt.objs.eval/result-menu+",382443065),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",276559402),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__result_menu_PLUS_);
/**
 * 
 */
lt.objs.eval.__BEH__expand_on_click = (function lt$objs$eval$__BEH__expand_on_click(this$){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",-1763596448),true], null));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"changed","changed",570724917));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","expand-on-click","lt.objs.eval/expand-on-click",779131776),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"expand!","expand!",-1137486484),null,new cljs.core.Keyword(null,"click","click",1912301393),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__expand_on_click);
/**
 * 
 */
lt.objs.eval.__BEH__shrink_on_double_click = (function lt$objs$eval$__BEH__shrink_on_double_click(this$){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",-1763596448),false], null));

lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"changed","changed",570724917));

return lt.objs.editor.focus.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","shrink-on-double-click","lt.objs.eval/shrink-on-double-click",1586746695),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"shrink!","shrink!",-1399365424),null,new cljs.core.Keyword(null,"double-click","double-click",-733492993),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__shrink_on_double_click);
/**
 * 
 */
lt.objs.eval.__BEH__destroy_on_cleared = (function lt$objs$eval$__BEH__destroy_on_cleared(this$){
return lt.object.destroy_BANG_.call(null,this$);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","destroy-on-cleared","lt.objs.eval/destroy-on-cleared",-2133132471),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cleared","cleared",-1267667336),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__destroy_on_cleared);
/**
 * 
 */
lt.objs.eval.__BEH__clear_mark = (function lt$objs$eval$__BEH__clear_mark(this$){
if(cljs.core.truth_(cljs.core.deref.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))){
CodeMirror.off(new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),"change",new cljs.core.Keyword(null,"listener","listener",882147248).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

CodeMirror.off(new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),"delete",new cljs.core.Keyword(null,"delete","delete",-1768633620).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

new cljs.core.Keyword(null,"mark","mark",-373816345).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).clear();

lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear","clear",1877104959));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"cleared","cleared",-1267667336));
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","clear-mark","lt.objs.eval/clear-mark",1516035294),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",-144814418),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__clear_mark);
/**
 * 
 */
lt.objs.eval.__BEH__copy_result = (function lt$objs$eval$__BEH__copy_result(this$){
return lt.objs.platform.copy.call(null,new cljs.core.Keyword(null,"result","result",1415092211).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","copy-result","lt.objs.eval/copy-result",887328803),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"copy","copy",-1077617309),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__copy_result);
/**
 * 
 */
lt.objs.eval.__BEH__changed = (function lt$objs$eval$__BEH__changed(this$){
return new cljs.core.Keyword(null,"mark","mark",-373816345).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).changed();
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","changed","lt.objs.eval/changed",169294381),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"changed","changed",570724917),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__changed);
/**
 * 
 */
lt.objs.eval.__BEH__update_BANG_ = (function lt$objs$eval$__BEH__update_BANG_(this$,res){
var content = lt.object.__GT_content.call(null,this$);
var full = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".full",".full",311597931),content);
var scroll = lt.util.dom.scroll_top.call(null,full);
var temp__5753__auto___11363 = lt.objs.eval.truncate_result.call(null,res);
if(cljs.core.truth_(temp__5753__auto___11363)){
var t_11364 = temp__5753__auto___11363;
var temp__5753__auto___11365__$1 = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".truncated",".truncated",-1238919096),content);
if(cljs.core.truth_(temp__5753__auto___11365__$1)){
var trunc_11366 = temp__5753__auto___11365__$1;
lt.util.dom.html.call(null,trunc_11366,t_11364);
} else {
}
} else {
}

lt.util.dom.html.call(null,full,res);

return lt.util.dom.scroll_top.call(null,full,scroll);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","update!","lt.objs.eval/update!",1901264894),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"update!","update!",-1453508586),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__update_BANG_);
lt.objs.eval.new_line_change = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["",""], null);
/**
 * 
 */
lt.objs.eval.__BEH__move_mark = (function lt$objs$eval$__BEH__move_mark(this$,ch){
if(cljs.core.truth_(ch)){
var orig = new cljs.core.Keyword(null,"mark","mark",-373816345).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var loc = orig.find();
var cur_line = lt.objs.editor.lh__GT_line.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
if(((cljs.core.not.call(null,loc)) || (cljs.core.empty_QMARK_.call(null,new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).text)))){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
} else {
if((((((loc.line > ch.to.line)) && (cljs.core.empty_QMARK_.call(null,clojure.string.trim.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),loc.line)))))) || ((((((ch.to.ch >= loc.ch)) && (cljs.core._EQ_.call(null,ch.to.line,loc.line)))) || ((ch.to.line > ch.from.line)))))){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"mark","mark",-373816345),lt.objs.editor.bookmark.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"line","line",212345235),cur_line], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"widget","widget",-853968943),lt.object.__GT_content.call(null,this$),new cljs.core.Keyword(null,"insertLeft","insertLeft",1003144862),true], null))], null));

if(cljs.core.truth_(orig)){
return orig.clear();
} else {
return null;
}
} else {
return null;
}
}
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","move-mark","lt.objs.eval/move-mark",-1700248206),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"move!","move!",-666957298),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__move_mark);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1129209318),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"clear!","clear!",-144814418),null,new cljs.core.Keyword(null,"click","click",1912301393),null,new cljs.core.Keyword(null,"double-click","double-click",-733492993),null], null), null),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.result","inline.result",-584762588),null,new cljs.core.Keyword(null,"inline","inline",1399884222),null], null), null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$,info){
var temp__5753__auto__ = lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(info));
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
var content = lt.objs.eval.__GT_inline_res.call(null,this$,info);
var delete$ = (function (_){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
});
var listener = (function (line,change){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"move!","move!",-666957298),change);
});
CodeMirror.on(new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(info),"change",listener);

CodeMirror.on(new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(info),"delete",delete$);

lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"listener","listener",882147248),listener,new cljs.core.Keyword(null,"delete","delete",-1768633620),delete$,new cljs.core.Keyword(null,"mark","mark",-373816345),lt.objs.editor.bookmark.call(null,ed,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",-584284901).cljs$core$IFn$_invoke$arity$1(info))], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"widget","widget",-853968943),content,new cljs.core.Keyword(null,"insertLeft","insertLeft",1003144862),true], null))));

return content;
} else {
return null;
}
}));
/**
 * 
 */
lt.objs.eval.__BEH__inline_results = (function lt$objs$eval$__BEH__inline_results(this$,res,loc,opts){
var ed = new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var type = (function (){var or__4160__auto__ = new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(opts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return new cljs.core.Keyword(null,"inline","inline",1399884222);
}
})();
var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc));
var res_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1129209318),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"ed","ed",436294224),this$,new cljs.core.Keyword(null,"class","class",-2030961996),cljs.core.name.call(null,type),new cljs.core.Keyword(null,"opts","opts",155075701),opts,new cljs.core.Keyword(null,"result","result",1415092211),res,new cljs.core.Keyword(null,"loc","loc",-584284901),loc,new cljs.core.Keyword(null,"line","line",212345235),line], null));
var temp__5753__auto___11374 = cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,type], null));
if(cljs.core.truth_(temp__5753__auto___11374)){
var prev_11375 = temp__5753__auto___11374;
if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",-1763596448).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_11375)))){
lt.object.merge_BANG_.call(null,res_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",-1763596448),true], null));
} else {
}

lt.object.raise.call(null,prev_11375,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
} else {
}

if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",-41746654).cljs$core$IFn$_invoke$arity$1(loc))){
var seq__11368_11376 = cljs.core.seq.call(null,cljs.core.map.call(null,((function (ed,type,line,res_obj){
return (function (p1__11367_SHARP_){
return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__11367_SHARP_),type], null));
});})(ed,type,line,res_obj))
,cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",-41746654).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc))));
var chunk__11370_11377 = null;
var count__11371_11378 = (0);
var i__11372_11379 = (0);
while(true){
if((i__11372_11379 < count__11371_11378)){
var widget_11380 = cljs.core._nth.call(null,chunk__11370_11377,i__11372_11379);
if(cljs.core.truth_(widget_11380)){
lt.object.raise.call(null,widget_11380,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11381 = seq__11368_11376;
var G__11382 = chunk__11370_11377;
var G__11383 = count__11371_11378;
var G__11384 = (i__11372_11379 + (1));
seq__11368_11376 = G__11381;
chunk__11370_11377 = G__11382;
count__11371_11378 = G__11383;
i__11372_11379 = G__11384;
continue;
} else {
var G__11385 = seq__11368_11376;
var G__11386 = chunk__11370_11377;
var G__11387 = count__11371_11378;
var G__11388 = (i__11372_11379 + (1));
seq__11368_11376 = G__11385;
chunk__11370_11377 = G__11386;
count__11371_11378 = G__11387;
i__11372_11379 = G__11388;
continue;
}
} else {
var temp__5753__auto___11389 = cljs.core.seq.call(null,seq__11368_11376);
if(temp__5753__auto___11389){
var seq__11368_11390__$1 = temp__5753__auto___11389;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11368_11390__$1)){
var c__4591__auto___11391 = cljs.core.chunk_first.call(null,seq__11368_11390__$1);
var G__11392 = cljs.core.chunk_rest.call(null,seq__11368_11390__$1);
var G__11393 = c__4591__auto___11391;
var G__11394 = cljs.core.count.call(null,c__4591__auto___11391);
var G__11395 = (0);
seq__11368_11376 = G__11392;
chunk__11370_11377 = G__11393;
count__11371_11378 = G__11394;
i__11372_11379 = G__11395;
continue;
} else {
var widget_11396 = cljs.core.first.call(null,seq__11368_11390__$1);
if(cljs.core.truth_(widget_11396)){
lt.object.raise.call(null,widget_11396,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11397 = cljs.core.next.call(null,seq__11368_11390__$1);
var G__11398 = null;
var G__11399 = (0);
var G__11400 = (0);
seq__11368_11376 = G__11397;
chunk__11370_11377 = G__11398;
count__11371_11378 = G__11399;
i__11372_11379 = G__11400;
continue;
} else {
var G__11401 = cljs.core.next.call(null,seq__11368_11390__$1);
var G__11402 = null;
var G__11403 = (0);
var G__11404 = (0);
seq__11368_11376 = G__11401;
chunk__11370_11377 = G__11402;
count__11371_11378 = G__11403;
i__11372_11379 = G__11404;
continue;
}
}
} else {
}
}
break;
}
} else {
}

return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",-159098978)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,type], null),res_obj);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-results","lt.objs.eval/inline-results",-2050555669),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.result","editor.result",1220762810),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__inline_results);
lt.objs.eval.__GT_spacing = (function lt$objs$eval$__GT_spacing(text){
if(cljs.core.truth_(text)){
return cljs.core.first.call(null,cljs.core.re_seq.call(null,/^\s+/,text));
} else {
return null;
}
});
/**
 * 
 */
lt.objs.eval.__GT_underline_result = (function lt$objs$eval$__GT_underline_result(this$,info){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),["underline-result ",cljs.core.str.cljs$core$IFn$_invoke$arity$1((cljs.core.truth_(new cljs.core.Keyword(null,"class","class",-2030961996).cljs$core$IFn$_invoke$arity$1(info))?new cljs.core.Keyword(null,"class","class",-2030961996).cljs$core$IFn$_invoke$arity$1(info):null))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.spacer","span.spacer",-2102507001),lt.objs.eval.__GT_spacing.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(info),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",-584284901).cljs$core$IFn$_invoke$arity$1(info))))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",2118456869),new cljs.core.Keyword(null,"result","result",1415092211).cljs$core$IFn$_invoke$arity$1(info)], null)], null));
var seq__11405_11421 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (e){
lt.util.dom.prevent.call(null,e);

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1912301393));
});})(e__992__auto__))
,new cljs.core.Keyword(null,"contextmenu","contextmenu",-15887481),((function (e__992__auto__){
return (function (e){
lt.util.dom.prevent.call(null,e);

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"dblclick","dblclick",-1821330376),((function (e__992__auto__){
return (function (e){
lt.util.dom.prevent.call(null,e);

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",-733492993));
});})(e__992__auto__))
], null)));
var chunk__11406_11422 = null;
var count__11407_11423 = (0);
var i__11408_11424 = (0);
while(true){
if((i__11408_11424 < count__11407_11423)){
var vec__11415_11425 = cljs.core._nth.call(null,chunk__11406_11422,i__11408_11424);
var ev__993__auto___11426 = cljs.core.nth.call(null,vec__11415_11425,(0),null);
var func__994__auto___11427 = cljs.core.nth.call(null,vec__11415_11425,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11426,func__994__auto___11427);


var G__11428 = seq__11405_11421;
var G__11429 = chunk__11406_11422;
var G__11430 = count__11407_11423;
var G__11431 = (i__11408_11424 + (1));
seq__11405_11421 = G__11428;
chunk__11406_11422 = G__11429;
count__11407_11423 = G__11430;
i__11408_11424 = G__11431;
continue;
} else {
var temp__5753__auto___11432 = cljs.core.seq.call(null,seq__11405_11421);
if(temp__5753__auto___11432){
var seq__11405_11433__$1 = temp__5753__auto___11432;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11405_11433__$1)){
var c__4591__auto___11434 = cljs.core.chunk_first.call(null,seq__11405_11433__$1);
var G__11435 = cljs.core.chunk_rest.call(null,seq__11405_11433__$1);
var G__11436 = c__4591__auto___11434;
var G__11437 = cljs.core.count.call(null,c__4591__auto___11434);
var G__11438 = (0);
seq__11405_11421 = G__11435;
chunk__11406_11422 = G__11436;
count__11407_11423 = G__11437;
i__11408_11424 = G__11438;
continue;
} else {
var vec__11418_11439 = cljs.core.first.call(null,seq__11405_11433__$1);
var ev__993__auto___11440 = cljs.core.nth.call(null,vec__11418_11439,(0),null);
var func__994__auto___11441 = cljs.core.nth.call(null,vec__11418_11439,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11440,func__994__auto___11441);


var G__11442 = cljs.core.next.call(null,seq__11405_11433__$1);
var G__11443 = null;
var G__11444 = (0);
var G__11445 = (0);
seq__11405_11421 = G__11442;
chunk__11406_11422 = G__11443;
count__11407_11423 = G__11444;
i__11408_11424 = G__11445;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","underline-result","lt.objs.eval/underline-result",285332309),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.underline-result","inline.underline-result",1571564206),null,new cljs.core.Keyword(null,"inline","inline",1399884222),null], null), null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$,info){
var content = lt.objs.eval.__GT_underline_result.call(null,this$,info);
var delete$ = (function (_){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
});
var listener = (function (line,change){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"move!","move!",-666957298),change);
});
CodeMirror.on(new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(info),"change",listener);

CodeMirror.on(new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(info),"delete",delete$);

lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"widget","widget",-853968943),lt.objs.editor.line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(info)),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",-584284901).cljs$core$IFn$_invoke$arity$1(info)),content,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"coverGutter","coverGutter",-1643717810),false,new cljs.core.Keyword(null,"above","above",-1286866470),new cljs.core.Keyword(null,"above","above",-1286866470).cljs$core$IFn$_invoke$arity$1(info)], null))));

return content;
}));
/**
 * 
 */
lt.objs.eval.__BEH__underline_results = (function lt$objs$eval$__BEH__underline_results(this$,res,loc,opts){
var ed = new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc));
var res_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","underline-result","lt.objs.eval/underline-result",285332309),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"ed","ed",436294224),this$,new cljs.core.Keyword(null,"opts","opts",155075701),opts,new cljs.core.Keyword(null,"result","result",1415092211),res,new cljs.core.Keyword(null,"loc","loc",-584284901),loc,new cljs.core.Keyword(null,"line","line",212345235),line], null));
var temp__5753__auto___11453 = cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",2018066703)], null));
if(cljs.core.truth_(temp__5753__auto___11453)){
var prev_11454 = temp__5753__auto___11453;
if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",-1763596448).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_11454)))){
lt.object.merge_BANG_.call(null,res_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",-1763596448),true], null));
} else {
}

lt.object.raise.call(null,prev_11454,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
} else {
}

if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",-41746654).cljs$core$IFn$_invoke$arity$1(loc))){
var seq__11447_11455 = cljs.core.seq.call(null,cljs.core.map.call(null,((function (ed,line,res_obj){
return (function (p1__11446_SHARP_){
return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__11446_SHARP_),new cljs.core.Keyword(null,"underline","underline",2018066703)], null));
});})(ed,line,res_obj))
,cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",-41746654).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc))));
var chunk__11449_11456 = null;
var count__11450_11457 = (0);
var i__11451_11458 = (0);
while(true){
if((i__11451_11458 < count__11450_11457)){
var widget_11459 = cljs.core._nth.call(null,chunk__11449_11456,i__11451_11458);
if(cljs.core.truth_(widget_11459)){
lt.object.raise.call(null,widget_11459,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11460 = seq__11447_11455;
var G__11461 = chunk__11449_11456;
var G__11462 = count__11450_11457;
var G__11463 = (i__11451_11458 + (1));
seq__11447_11455 = G__11460;
chunk__11449_11456 = G__11461;
count__11450_11457 = G__11462;
i__11451_11458 = G__11463;
continue;
} else {
var G__11464 = seq__11447_11455;
var G__11465 = chunk__11449_11456;
var G__11466 = count__11450_11457;
var G__11467 = (i__11451_11458 + (1));
seq__11447_11455 = G__11464;
chunk__11449_11456 = G__11465;
count__11450_11457 = G__11466;
i__11451_11458 = G__11467;
continue;
}
} else {
var temp__5753__auto___11468 = cljs.core.seq.call(null,seq__11447_11455);
if(temp__5753__auto___11468){
var seq__11447_11469__$1 = temp__5753__auto___11468;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11447_11469__$1)){
var c__4591__auto___11470 = cljs.core.chunk_first.call(null,seq__11447_11469__$1);
var G__11471 = cljs.core.chunk_rest.call(null,seq__11447_11469__$1);
var G__11472 = c__4591__auto___11470;
var G__11473 = cljs.core.count.call(null,c__4591__auto___11470);
var G__11474 = (0);
seq__11447_11455 = G__11471;
chunk__11449_11456 = G__11472;
count__11450_11457 = G__11473;
i__11451_11458 = G__11474;
continue;
} else {
var widget_11475 = cljs.core.first.call(null,seq__11447_11469__$1);
if(cljs.core.truth_(widget_11475)){
lt.object.raise.call(null,widget_11475,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11476 = cljs.core.next.call(null,seq__11447_11469__$1);
var G__11477 = null;
var G__11478 = (0);
var G__11479 = (0);
seq__11447_11455 = G__11476;
chunk__11449_11456 = G__11477;
count__11450_11457 = G__11478;
i__11451_11458 = G__11479;
continue;
} else {
var G__11480 = cljs.core.next.call(null,seq__11447_11469__$1);
var G__11481 = null;
var G__11482 = (0);
var G__11483 = (0);
seq__11447_11455 = G__11480;
chunk__11449_11456 = G__11481;
count__11450_11457 = G__11482;
i__11451_11458 = G__11483;
continue;
}
}
} else {
}
}
break;
}
} else {
}

return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",-159098978)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",2018066703)], null),res_obj);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","underline-results","lt.objs.eval/underline-results",-78357079),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.result.underline","editor.result.underline",1348355587),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__underline_results);
/**
 * 
 */
lt.objs.eval.__BEH__copy_underline_result = (function lt$objs$eval$__BEH__copy_underline_result(this$){
return lt.objs.platform.copy.call(null,clojure.string.join.call(null,"\n",cljs.core.map.call(null,(function (p1__11484_SHARP_){
return p1__11484_SHARP_.innerText;
}),new cljs.core.Keyword(null,"result","result",1415092211).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).children)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","copy-underline-result","lt.objs.eval/copy-underline-result",982238737),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"copy","copy",-1077617309),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__copy_underline_result);
lt.objs.eval.__GT_exception_class = (function lt$objs$eval$__GT_exception_class(this$){
return ["inline-exception ",(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",-1763596448).cljs$core$IFn$_invoke$arity$1(this$))?"open":null)].join('');
});
/**
 * 
 */
lt.objs.eval.__GT_inline_exception = (function lt$objs$eval$__GT_inline_exception(this$,info){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,this$,lt.objs.eval.__GT_exception_class)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.spacer","span.spacer",-2102507001),lt.objs.eval.__GT_spacing.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(info),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",-584284901).cljs$core$IFn$_invoke$arity$1(info))))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",2118456869),cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"ex","ex",-1413771341).cljs$core$IFn$_invoke$arity$1(info))], null)], null));
var seq__11485_11501 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1912301393));
});})(e__992__auto__))
,new cljs.core.Keyword(null,"contextmenu","contextmenu",-15887481),((function (e__992__auto__){
return (function (e){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"dblclick","dblclick",-1821330376),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",-733492993));
});})(e__992__auto__))
], null)));
var chunk__11486_11502 = null;
var count__11487_11503 = (0);
var i__11488_11504 = (0);
while(true){
if((i__11488_11504 < count__11487_11503)){
var vec__11495_11505 = cljs.core._nth.call(null,chunk__11486_11502,i__11488_11504);
var ev__993__auto___11506 = cljs.core.nth.call(null,vec__11495_11505,(0),null);
var func__994__auto___11507 = cljs.core.nth.call(null,vec__11495_11505,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11506,func__994__auto___11507);


var G__11508 = seq__11485_11501;
var G__11509 = chunk__11486_11502;
var G__11510 = count__11487_11503;
var G__11511 = (i__11488_11504 + (1));
seq__11485_11501 = G__11508;
chunk__11486_11502 = G__11509;
count__11487_11503 = G__11510;
i__11488_11504 = G__11511;
continue;
} else {
var temp__5753__auto___11512 = cljs.core.seq.call(null,seq__11485_11501);
if(temp__5753__auto___11512){
var seq__11485_11513__$1 = temp__5753__auto___11512;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11485_11513__$1)){
var c__4591__auto___11514 = cljs.core.chunk_first.call(null,seq__11485_11513__$1);
var G__11515 = cljs.core.chunk_rest.call(null,seq__11485_11513__$1);
var G__11516 = c__4591__auto___11514;
var G__11517 = cljs.core.count.call(null,c__4591__auto___11514);
var G__11518 = (0);
seq__11485_11501 = G__11515;
chunk__11486_11502 = G__11516;
count__11487_11503 = G__11517;
i__11488_11504 = G__11518;
continue;
} else {
var vec__11498_11519 = cljs.core.first.call(null,seq__11485_11513__$1);
var ev__993__auto___11520 = cljs.core.nth.call(null,vec__11498_11519,(0),null);
var func__994__auto___11521 = cljs.core.nth.call(null,vec__11498_11519,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11520,func__994__auto___11521);


var G__11522 = cljs.core.next.call(null,seq__11485_11513__$1);
var G__11523 = null;
var G__11524 = (0);
var G__11525 = (0);
seq__11485_11501 = G__11522;
chunk__11486_11502 = G__11523;
count__11487_11503 = G__11524;
i__11488_11504 = G__11525;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.eval.__BEH__ex_shrink_on_double_click = (function lt$objs$eval$__BEH__ex_shrink_on_double_click(this$){
lt.objs.editor.focus.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-shrink-on-double-click","lt.objs.eval/ex-shrink-on-double-click",-754298474),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"shrink!","shrink!",-1399365424),null,new cljs.core.Keyword(null,"double-click","double-click",-733492993),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__ex_shrink_on_double_click);
/**
 * 
 */
lt.objs.eval.__BEH__ex_clear = (function lt$objs$eval$__BEH__ex_clear(this$){
if(cljs.core.truth_(lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))){
lt.objs.editor.remove_line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new cljs.core.Keyword(null,"widget","widget",-853968943).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else {
}

lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear","clear",1877104959));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"cleared","cleared",-1267667336));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-clear","lt.objs.eval/ex-clear",1775792373),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",-144814418),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__ex_clear);
/**
 * 
 */
lt.objs.eval.__BEH__ex_menu_PLUS_ = (function lt$objs$eval$__BEH__ex_menu_PLUS_(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Remove exception",new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
})], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Copy exception",new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"copy","copy",-1077617309));
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-menu+","lt.objs.eval/ex-menu+",-2096824851),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",276559402),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__ex_menu_PLUS_);
/**
 * 
 */
lt.objs.eval.__BEH__copy_exception = (function lt$objs$eval$__BEH__copy_exception(this$){
return lt.objs.platform.copy.call(null,new cljs.core.Keyword(null,"ex","ex",-1413771341).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","copy-exception","lt.objs.eval/copy-exception",-937001060),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"copy","copy",-1077617309),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__copy_exception);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exception","lt.objs.eval/inline-exception",477455757),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"clear!","clear!",-144814418),null,new cljs.core.Keyword(null,"click","click",1912301393),null,new cljs.core.Keyword(null,"double-click","double-click",-733492993),null], null), null),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.exception","inline.exception",-1018603890),null,new cljs.core.Keyword(null,"inline","inline",1399884222),null], null), null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$,info){
if(cljs.core.not.call(null,new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",-584284901).cljs$core$IFn$_invoke$arity$1(info)))){
return lt.objs.notifos.set_msg_BANG_.call(null,cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"ex","ex",-1413771341).cljs$core$IFn$_invoke$arity$1(info)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"error"], null));
} else {
var content = lt.objs.eval.__GT_inline_exception.call(null,this$,info);
lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"widget","widget",-853968943),lt.objs.editor.line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(info)),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",-584284901).cljs$core$IFn$_invoke$arity$1(info)),content,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"coverGutter","coverGutter",-1643717810),false], null))));

return content;
}
}));
/**
 * 
 */
lt.objs.eval.__BEH__inline_exceptions = (function lt$objs$eval$__BEH__inline_exceptions(this$,ex,loc){
if(cljs.core.truth_((function (){var and__4149__auto__ = ex;
if(cljs.core.truth_(and__4149__auto__)){
var and__4149__auto____$1 = loc;
if(cljs.core.truth_(and__4149__auto____$1)){
return (new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc) >= (0));
} else {
return and__4149__auto____$1;
}
} else {
return and__4149__auto__;
}
})())){
var ed = new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc));
var ex_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exception","lt.objs.eval/inline-exception",477455757),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"ed","ed",436294224),this$,new cljs.core.Keyword(null,"ex","ex",-1413771341),ex,new cljs.core.Keyword(null,"loc","loc",-584284901),loc,new cljs.core.Keyword(null,"line","line",212345235),line], null));
var seq__11527_11549 = cljs.core.seq.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"inline","inline",1399884222)], null)),cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",2018066703)], null))], null));
var chunk__11529_11550 = null;
var count__11530_11551 = (0);
var i__11531_11552 = (0);
while(true){
if((i__11531_11552 < count__11530_11551)){
var prev_11553 = cljs.core._nth.call(null,chunk__11529_11550,i__11531_11552);
if(cljs.core.truth_(prev_11553)){
if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",-1763596448).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_11553)))){
lt.object.merge_BANG_.call(null,ex_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",-1763596448),true], null));
} else {
}

lt.object.raise.call(null,prev_11553,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11554 = seq__11527_11549;
var G__11555 = chunk__11529_11550;
var G__11556 = count__11530_11551;
var G__11557 = (i__11531_11552 + (1));
seq__11527_11549 = G__11554;
chunk__11529_11550 = G__11555;
count__11530_11551 = G__11556;
i__11531_11552 = G__11557;
continue;
} else {
var G__11558 = seq__11527_11549;
var G__11559 = chunk__11529_11550;
var G__11560 = count__11530_11551;
var G__11561 = (i__11531_11552 + (1));
seq__11527_11549 = G__11558;
chunk__11529_11550 = G__11559;
count__11530_11551 = G__11560;
i__11531_11552 = G__11561;
continue;
}
} else {
var temp__5753__auto___11562 = cljs.core.seq.call(null,seq__11527_11549);
if(temp__5753__auto___11562){
var seq__11527_11563__$1 = temp__5753__auto___11562;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11527_11563__$1)){
var c__4591__auto___11564 = cljs.core.chunk_first.call(null,seq__11527_11563__$1);
var G__11565 = cljs.core.chunk_rest.call(null,seq__11527_11563__$1);
var G__11566 = c__4591__auto___11564;
var G__11567 = cljs.core.count.call(null,c__4591__auto___11564);
var G__11568 = (0);
seq__11527_11549 = G__11565;
chunk__11529_11550 = G__11566;
count__11530_11551 = G__11567;
i__11531_11552 = G__11568;
continue;
} else {
var prev_11569 = cljs.core.first.call(null,seq__11527_11563__$1);
if(cljs.core.truth_(prev_11569)){
if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",-1763596448).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_11569)))){
lt.object.merge_BANG_.call(null,ex_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",-1763596448),true], null));
} else {
}

lt.object.raise.call(null,prev_11569,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11570 = cljs.core.next.call(null,seq__11527_11563__$1);
var G__11571 = null;
var G__11572 = (0);
var G__11573 = (0);
seq__11527_11549 = G__11570;
chunk__11529_11550 = G__11571;
count__11530_11551 = G__11572;
i__11531_11552 = G__11573;
continue;
} else {
var G__11574 = cljs.core.next.call(null,seq__11527_11563__$1);
var G__11575 = null;
var G__11576 = (0);
var G__11577 = (0);
seq__11527_11549 = G__11574;
chunk__11529_11550 = G__11575;
count__11530_11551 = G__11576;
i__11531_11552 = G__11577;
continue;
}
}
} else {
}
}
break;
}

if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",-41746654).cljs$core$IFn$_invoke$arity$1(loc))){
var seq__11533_11578 = cljs.core.seq.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"inline","inline",1399884222),new cljs.core.Keyword(null,"underline","underline",2018066703)], null));
var chunk__11540_11579 = null;
var count__11541_11580 = (0);
var i__11542_11581 = (0);
while(true){
if((i__11542_11581 < count__11541_11580)){
var type_11582 = cljs.core._nth.call(null,chunk__11540_11579,i__11542_11581);
var seq__11543_11583 = cljs.core.seq.call(null,cljs.core.map.call(null,((function (seq__11533_11578,chunk__11540_11579,count__11541_11580,i__11542_11581,type_11582,ed,line,ex_obj){
return (function (p1__11526_SHARP_){
return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__11526_SHARP_),type_11582], null));
});})(seq__11533_11578,chunk__11540_11579,count__11541_11580,i__11542_11581,type_11582,ed,line,ex_obj))
,cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",-41746654).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc))));
var chunk__11545_11584 = null;
var count__11546_11585 = (0);
var i__11547_11586 = (0);
while(true){
if((i__11547_11586 < count__11546_11585)){
var widget_11587 = cljs.core._nth.call(null,chunk__11545_11584,i__11547_11586);
if(cljs.core.truth_(widget_11587)){
lt.object.raise.call(null,widget_11587,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11588 = seq__11543_11583;
var G__11589 = chunk__11545_11584;
var G__11590 = count__11546_11585;
var G__11591 = (i__11547_11586 + (1));
seq__11543_11583 = G__11588;
chunk__11545_11584 = G__11589;
count__11546_11585 = G__11590;
i__11547_11586 = G__11591;
continue;
} else {
var G__11592 = seq__11543_11583;
var G__11593 = chunk__11545_11584;
var G__11594 = count__11546_11585;
var G__11595 = (i__11547_11586 + (1));
seq__11543_11583 = G__11592;
chunk__11545_11584 = G__11593;
count__11546_11585 = G__11594;
i__11547_11586 = G__11595;
continue;
}
} else {
var temp__5753__auto___11596 = cljs.core.seq.call(null,seq__11543_11583);
if(temp__5753__auto___11596){
var seq__11543_11597__$1 = temp__5753__auto___11596;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11543_11597__$1)){
var c__4591__auto___11598 = cljs.core.chunk_first.call(null,seq__11543_11597__$1);
var G__11599 = cljs.core.chunk_rest.call(null,seq__11543_11597__$1);
var G__11600 = c__4591__auto___11598;
var G__11601 = cljs.core.count.call(null,c__4591__auto___11598);
var G__11602 = (0);
seq__11543_11583 = G__11599;
chunk__11545_11584 = G__11600;
count__11546_11585 = G__11601;
i__11547_11586 = G__11602;
continue;
} else {
var widget_11603 = cljs.core.first.call(null,seq__11543_11597__$1);
if(cljs.core.truth_(widget_11603)){
lt.object.raise.call(null,widget_11603,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11604 = cljs.core.next.call(null,seq__11543_11597__$1);
var G__11605 = null;
var G__11606 = (0);
var G__11607 = (0);
seq__11543_11583 = G__11604;
chunk__11545_11584 = G__11605;
count__11546_11585 = G__11606;
i__11547_11586 = G__11607;
continue;
} else {
var G__11608 = cljs.core.next.call(null,seq__11543_11597__$1);
var G__11609 = null;
var G__11610 = (0);
var G__11611 = (0);
seq__11543_11583 = G__11608;
chunk__11545_11584 = G__11609;
count__11546_11585 = G__11610;
i__11547_11586 = G__11611;
continue;
}
}
} else {
}
}
break;
}

var G__11612 = seq__11533_11578;
var G__11613 = chunk__11540_11579;
var G__11614 = count__11541_11580;
var G__11615 = (i__11542_11581 + (1));
seq__11533_11578 = G__11612;
chunk__11540_11579 = G__11613;
count__11541_11580 = G__11614;
i__11542_11581 = G__11615;
continue;
} else {
var temp__5753__auto___11616 = cljs.core.seq.call(null,seq__11533_11578);
if(temp__5753__auto___11616){
var seq__11533_11617__$1 = temp__5753__auto___11616;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11533_11617__$1)){
var c__4591__auto___11618 = cljs.core.chunk_first.call(null,seq__11533_11617__$1);
var G__11619 = cljs.core.chunk_rest.call(null,seq__11533_11617__$1);
var G__11620 = c__4591__auto___11618;
var G__11621 = cljs.core.count.call(null,c__4591__auto___11618);
var G__11622 = (0);
seq__11533_11578 = G__11619;
chunk__11540_11579 = G__11620;
count__11541_11580 = G__11621;
i__11542_11581 = G__11622;
continue;
} else {
var type_11623 = cljs.core.first.call(null,seq__11533_11617__$1);
var seq__11534_11624 = cljs.core.seq.call(null,cljs.core.map.call(null,((function (seq__11533_11578,chunk__11540_11579,count__11541_11580,i__11542_11581,type_11623,seq__11533_11617__$1,temp__5753__auto___11616,ed,line,ex_obj){
return (function (p1__11526_SHARP_){
return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__11526_SHARP_),type_11623], null));
});})(seq__11533_11578,chunk__11540_11579,count__11541_11580,i__11542_11581,type_11623,seq__11533_11617__$1,temp__5753__auto___11616,ed,line,ex_obj))
,cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",-41746654).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc))));
var chunk__11536_11625 = null;
var count__11537_11626 = (0);
var i__11538_11627 = (0);
while(true){
if((i__11538_11627 < count__11537_11626)){
var widget_11628 = cljs.core._nth.call(null,chunk__11536_11625,i__11538_11627);
if(cljs.core.truth_(widget_11628)){
lt.object.raise.call(null,widget_11628,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11629 = seq__11534_11624;
var G__11630 = chunk__11536_11625;
var G__11631 = count__11537_11626;
var G__11632 = (i__11538_11627 + (1));
seq__11534_11624 = G__11629;
chunk__11536_11625 = G__11630;
count__11537_11626 = G__11631;
i__11538_11627 = G__11632;
continue;
} else {
var G__11633 = seq__11534_11624;
var G__11634 = chunk__11536_11625;
var G__11635 = count__11537_11626;
var G__11636 = (i__11538_11627 + (1));
seq__11534_11624 = G__11633;
chunk__11536_11625 = G__11634;
count__11537_11626 = G__11635;
i__11538_11627 = G__11636;
continue;
}
} else {
var temp__5753__auto___11637__$1 = cljs.core.seq.call(null,seq__11534_11624);
if(temp__5753__auto___11637__$1){
var seq__11534_11638__$1 = temp__5753__auto___11637__$1;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11534_11638__$1)){
var c__4591__auto___11639 = cljs.core.chunk_first.call(null,seq__11534_11638__$1);
var G__11640 = cljs.core.chunk_rest.call(null,seq__11534_11638__$1);
var G__11641 = c__4591__auto___11639;
var G__11642 = cljs.core.count.call(null,c__4591__auto___11639);
var G__11643 = (0);
seq__11534_11624 = G__11640;
chunk__11536_11625 = G__11641;
count__11537_11626 = G__11642;
i__11538_11627 = G__11643;
continue;
} else {
var widget_11644 = cljs.core.first.call(null,seq__11534_11638__$1);
if(cljs.core.truth_(widget_11644)){
lt.object.raise.call(null,widget_11644,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11645 = cljs.core.next.call(null,seq__11534_11638__$1);
var G__11646 = null;
var G__11647 = (0);
var G__11648 = (0);
seq__11534_11624 = G__11645;
chunk__11536_11625 = G__11646;
count__11537_11626 = G__11647;
i__11538_11627 = G__11648;
continue;
} else {
var G__11649 = cljs.core.next.call(null,seq__11534_11638__$1);
var G__11650 = null;
var G__11651 = (0);
var G__11652 = (0);
seq__11534_11624 = G__11649;
chunk__11536_11625 = G__11650;
count__11537_11626 = G__11651;
i__11538_11627 = G__11652;
continue;
}
}
} else {
}
}
break;
}

var G__11653 = cljs.core.next.call(null,seq__11533_11617__$1);
var G__11654 = null;
var G__11655 = (0);
var G__11656 = (0);
seq__11533_11578 = G__11653;
chunk__11540_11579 = G__11654;
count__11541_11580 = G__11655;
i__11542_11581 = G__11656;
continue;
}
} else {
}
}
break;
}
} else {
}

return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",-159098978)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"inline","inline",1399884222)], null),ex_obj);
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exceptions","lt.objs.eval/inline-exceptions",-1552231546),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.exception","editor.exception",682715312),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__inline_exceptions);
/**
 * 
 */
lt.objs.eval.__BEH__eval_on_change = (function lt$objs$eval$__BEH__eval_on_change(this$){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"eval","eval",-1103567905));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","eval-on-change","lt.objs.eval/eval-on-change",620488941),new cljs.core.Keyword(null,"desc","desc",2093485764),"Editor: Eval when the editor changes",new cljs.core.Keyword(null,"debounce","debounce",-871550296),(300),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"change","change",-1163046502),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.eval.__BEH__eval_on_change);
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"clear-inline-results","clear-inline-results",1064265437),new cljs.core.Keyword(null,"desc","desc",2093485764),"Eval: Clear inline results",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
var seq__11657 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"widgets","widgets",-159098978).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));
var chunk__11658 = null;
var count__11659 = (0);
var i__11660 = (0);
while(true){
if((i__11660 < count__11659)){
var vec__11667 = cljs.core._nth.call(null,chunk__11658,i__11660);
var _ = cljs.core.nth.call(null,vec__11667,(0),null);
var w = cljs.core.nth.call(null,vec__11667,(1),null);
lt.object.raise.call(null,w,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11673 = seq__11657;
var G__11674 = chunk__11658;
var G__11675 = count__11659;
var G__11676 = (i__11660 + (1));
seq__11657 = G__11673;
chunk__11658 = G__11674;
count__11659 = G__11675;
i__11660 = G__11676;
continue;
} else {
var temp__5753__auto____$1 = cljs.core.seq.call(null,seq__11657);
if(temp__5753__auto____$1){
var seq__11657__$1 = temp__5753__auto____$1;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11657__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__11657__$1);
var G__11677 = cljs.core.chunk_rest.call(null,seq__11657__$1);
var G__11678 = c__4591__auto__;
var G__11679 = cljs.core.count.call(null,c__4591__auto__);
var G__11680 = (0);
seq__11657 = G__11677;
chunk__11658 = G__11678;
count__11659 = G__11679;
i__11660 = G__11680;
continue;
} else {
var vec__11670 = cljs.core.first.call(null,seq__11657__$1);
var _ = cljs.core.nth.call(null,vec__11670,(0),null);
var w = cljs.core.nth.call(null,vec__11670,(1),null);
lt.object.raise.call(null,w,new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__11681 = cljs.core.next.call(null,seq__11657__$1);
var G__11682 = null;
var G__11683 = (0);
var G__11684 = (0);
seq__11657 = G__11681;
chunk__11658 = G__11682;
count__11659 = G__11683;
i__11660 = G__11684;
continue;
}
} else {
return null;
}
}
break;
}
} else {
return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"eval-editor","eval-editor",-1674118783),new cljs.core.Keyword(null,"desc","desc",2093485764),"Eval: Eval editor contents",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval","eval",-1103567905));
} else {
return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"eval-editor-form","eval-editor-form",-1053338409),new cljs.core.Keyword(null,"desc","desc",2093485764),"Eval: Eval a form in editor",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval.one","eval.one",-520903538));
} else {
return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"eval.custom","eval.custom",32384567),new cljs.core.Keyword(null,"desc","desc",2093485764),"Eval: Eval custom expression in editor",new cljs.core.Keyword(null,"hidden","hidden",-312506092),true,new cljs.core.Keyword(null,"exec","exec",1625568743),(function (exp,opts){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval.custom","eval.custom",32384567),exp,opts);
} else {
return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"eval.cancel-all!","eval.cancel-all!",-218036134),new cljs.core.Keyword(null,"desc","desc",2093485764),"Eval: Cancel evaluation for the current client",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
if(cljs.core.truth_(new cljs.core.Keyword(null,"client","client",-1323448117).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)))){
var seq__11685 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"client","client",-1323448117).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));
var chunk__11686 = null;
var count__11687 = (0);
var i__11688 = (0);
while(true){
if((i__11688 < count__11687)){
var vec__11695 = cljs.core._nth.call(null,chunk__11686,i__11688);
var _ = cljs.core.nth.call(null,vec__11695,(0),null);
var client = cljs.core.nth.call(null,vec__11695,(1),null);
lt.objs.clients.cancel_all_BANG_.call(null,client);


var G__11701 = seq__11685;
var G__11702 = chunk__11686;
var G__11703 = count__11687;
var G__11704 = (i__11688 + (1));
seq__11685 = G__11701;
chunk__11686 = G__11702;
count__11687 = G__11703;
i__11688 = G__11704;
continue;
} else {
var temp__5753__auto____$1 = cljs.core.seq.call(null,seq__11685);
if(temp__5753__auto____$1){
var seq__11685__$1 = temp__5753__auto____$1;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11685__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__11685__$1);
var G__11705 = cljs.core.chunk_rest.call(null,seq__11685__$1);
var G__11706 = c__4591__auto__;
var G__11707 = cljs.core.count.call(null,c__4591__auto__);
var G__11708 = (0);
seq__11685 = G__11705;
chunk__11686 = G__11706;
count__11687 = G__11707;
i__11688 = G__11708;
continue;
} else {
var vec__11698 = cljs.core.first.call(null,seq__11685__$1);
var _ = cljs.core.nth.call(null,vec__11698,(0),null);
var client = cljs.core.nth.call(null,vec__11698,(1),null);
lt.objs.clients.cancel_all_BANG_.call(null,client);


var G__11709 = cljs.core.next.call(null,seq__11685__$1);
var G__11710 = null;
var G__11711 = (0);
var G__11712 = (0);
seq__11685 = G__11709;
chunk__11686 = G__11710;
count__11687 = G__11711;
i__11688 = G__11712;
continue;
}
} else {
return null;
}
}
break;
}
} else {
return null;
}
} else {
return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"editor.disconnect-clients","editor.disconnect-clients",-1495542786),new cljs.core.Keyword(null,"desc","desc",2093485764),"Editor: Disconnect clients attached to editor",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
var seq__11713 = cljs.core.seq.call(null,cljs.core.vals.call(null,new cljs.core.Keyword(null,"client","client",-1323448117).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))));
var chunk__11714 = null;
var count__11715 = (0);
var i__11716 = (0);
while(true){
if((i__11716 < count__11715)){
var client = cljs.core._nth.call(null,chunk__11714,i__11716);
lt.objs.clients.close_BANG_.call(null,client);


var G__11717 = seq__11713;
var G__11718 = chunk__11714;
var G__11719 = count__11715;
var G__11720 = (i__11716 + (1));
seq__11713 = G__11717;
chunk__11714 = G__11718;
count__11715 = G__11719;
i__11716 = G__11720;
continue;
} else {
var temp__5753__auto____$1 = cljs.core.seq.call(null,seq__11713);
if(temp__5753__auto____$1){
var seq__11713__$1 = temp__5753__auto____$1;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11713__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__11713__$1);
var G__11721 = cljs.core.chunk_rest.call(null,seq__11713__$1);
var G__11722 = c__4591__auto__;
var G__11723 = cljs.core.count.call(null,c__4591__auto__);
var G__11724 = (0);
seq__11713 = G__11721;
chunk__11714 = G__11722;
count__11715 = G__11723;
i__11716 = G__11724;
continue;
} else {
var client = cljs.core.first.call(null,seq__11713__$1);
lt.objs.clients.close_BANG_.call(null,client);


var G__11725 = cljs.core.next.call(null,seq__11713__$1);
var G__11726 = null;
var G__11727 = (0);
var G__11728 = (0);
seq__11713 = G__11725;
chunk__11714 = G__11726;
count__11715 = G__11727;
i__11716 = G__11728;
continue;
}
} else {
return null;
}
}
break;
}
} else {
return null;
}
})], null));
