// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.objs.sidebar.clients');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.clients');
goog.require('lt.objs.sidebar');
goog.require('lt.objs.command');
goog.require('lt.objs.context');
goog.require('lt.objs.clients.tcp');
goog.require('lt.objs.clients.ws');
goog.require('lt.objs.popup');
goog.require('lt.objs.editor.pool');
goog.require('lt.util.dom');
goog.require('singultus.binding');
/**
 * 
 */
lt.objs.sidebar.clients.close_button = (function lt$objs$sidebar$clients$close_button(i){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.button","span.button",-541834575),"disconnect"], null));
var seq__11788_11804 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.objs.clients.close_BANG_.call(null,i);
});})(e__992__auto__))
], null)));
var chunk__11789_11805 = null;
var count__11790_11806 = (0);
var i__11791_11807 = (0);
while(true){
if((i__11791_11807 < count__11790_11806)){
var vec__11798_11808 = cljs.core._nth.call(null,chunk__11789_11805,i__11791_11807);
var ev__993__auto___11809 = cljs.core.nth.call(null,vec__11798_11808,(0),null);
var func__994__auto___11810 = cljs.core.nth.call(null,vec__11798_11808,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11809,func__994__auto___11810);


var G__11811 = seq__11788_11804;
var G__11812 = chunk__11789_11805;
var G__11813 = count__11790_11806;
var G__11814 = (i__11791_11807 + (1));
seq__11788_11804 = G__11811;
chunk__11789_11805 = G__11812;
count__11790_11806 = G__11813;
i__11791_11807 = G__11814;
continue;
} else {
var temp__5753__auto___11815 = cljs.core.seq.call(null,seq__11788_11804);
if(temp__5753__auto___11815){
var seq__11788_11816__$1 = temp__5753__auto___11815;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11788_11816__$1)){
var c__4591__auto___11817 = cljs.core.chunk_first.call(null,seq__11788_11816__$1);
var G__11818 = cljs.core.chunk_rest.call(null,seq__11788_11816__$1);
var G__11819 = c__4591__auto___11817;
var G__11820 = cljs.core.count.call(null,c__4591__auto___11817);
var G__11821 = (0);
seq__11788_11804 = G__11818;
chunk__11789_11805 = G__11819;
count__11790_11806 = G__11820;
i__11791_11807 = G__11821;
continue;
} else {
var vec__11801_11822 = cljs.core.first.call(null,seq__11788_11816__$1);
var ev__993__auto___11823 = cljs.core.nth.call(null,vec__11801_11822,(0),null);
var func__994__auto___11824 = cljs.core.nth.call(null,vec__11801_11822,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11823,func__994__auto___11824);


var G__11825 = cljs.core.next.call(null,seq__11788_11816__$1);
var G__11826 = null;
var G__11827 = (0);
var G__11828 = (0);
seq__11788_11804 = G__11825;
chunk__11789_11805 = G__11826;
count__11790_11806 = G__11827;
i__11791_11807 = G__11828;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.clients.unset_button = (function lt$objs$sidebar$clients$unset_button(i){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.button.unset","span.button.unset",1134519990),"unset"], null));
var seq__11829_11845 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,lt.objs.sidebar.clients.clients,new cljs.core.Keyword(null,"unset!","unset!",-746079964),i);
});})(e__992__auto__))
], null)));
var chunk__11830_11846 = null;
var count__11831_11847 = (0);
var i__11832_11848 = (0);
while(true){
if((i__11832_11848 < count__11831_11847)){
var vec__11839_11849 = cljs.core._nth.call(null,chunk__11830_11846,i__11832_11848);
var ev__993__auto___11850 = cljs.core.nth.call(null,vec__11839_11849,(0),null);
var func__994__auto___11851 = cljs.core.nth.call(null,vec__11839_11849,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11850,func__994__auto___11851);


var G__11852 = seq__11829_11845;
var G__11853 = chunk__11830_11846;
var G__11854 = count__11831_11847;
var G__11855 = (i__11832_11848 + (1));
seq__11829_11845 = G__11852;
chunk__11830_11846 = G__11853;
count__11831_11847 = G__11854;
i__11832_11848 = G__11855;
continue;
} else {
var temp__5753__auto___11856 = cljs.core.seq.call(null,seq__11829_11845);
if(temp__5753__auto___11856){
var seq__11829_11857__$1 = temp__5753__auto___11856;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11829_11857__$1)){
var c__4591__auto___11858 = cljs.core.chunk_first.call(null,seq__11829_11857__$1);
var G__11859 = cljs.core.chunk_rest.call(null,seq__11829_11857__$1);
var G__11860 = c__4591__auto___11858;
var G__11861 = cljs.core.count.call(null,c__4591__auto___11858);
var G__11862 = (0);
seq__11829_11845 = G__11859;
chunk__11830_11846 = G__11860;
count__11831_11847 = G__11861;
i__11832_11848 = G__11862;
continue;
} else {
var vec__11842_11863 = cljs.core.first.call(null,seq__11829_11857__$1);
var ev__993__auto___11864 = cljs.core.nth.call(null,vec__11842_11863,(0),null);
var func__994__auto___11865 = cljs.core.nth.call(null,vec__11842_11863,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11864,func__994__auto___11865);


var G__11866 = cljs.core.next.call(null,seq__11829_11857__$1);
var G__11867 = null;
var G__11868 = (0);
var G__11869 = (0);
seq__11829_11845 = G__11866;
chunk__11830_11846 = G__11867;
count__11831_11847 = G__11868;
i__11832_11848 = G__11869;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.clients.add_button = (function lt$objs$sidebar$clients$add_button(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2.toggle.add.button","h2.toggle.add.button",-720907209),"Add Connection"], null));
var seq__11870_11886 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"selecting!","selecting!",-1304548141));
});})(e__992__auto__))
], null)));
var chunk__11871_11887 = null;
var count__11872_11888 = (0);
var i__11873_11889 = (0);
while(true){
if((i__11873_11889 < count__11872_11888)){
var vec__11880_11890 = cljs.core._nth.call(null,chunk__11871_11887,i__11873_11889);
var ev__993__auto___11891 = cljs.core.nth.call(null,vec__11880_11890,(0),null);
var func__994__auto___11892 = cljs.core.nth.call(null,vec__11880_11890,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11891,func__994__auto___11892);


var G__11893 = seq__11870_11886;
var G__11894 = chunk__11871_11887;
var G__11895 = count__11872_11888;
var G__11896 = (i__11873_11889 + (1));
seq__11870_11886 = G__11893;
chunk__11871_11887 = G__11894;
count__11872_11888 = G__11895;
i__11873_11889 = G__11896;
continue;
} else {
var temp__5753__auto___11897 = cljs.core.seq.call(null,seq__11870_11886);
if(temp__5753__auto___11897){
var seq__11870_11898__$1 = temp__5753__auto___11897;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11870_11898__$1)){
var c__4591__auto___11899 = cljs.core.chunk_first.call(null,seq__11870_11898__$1);
var G__11900 = cljs.core.chunk_rest.call(null,seq__11870_11898__$1);
var G__11901 = c__4591__auto___11899;
var G__11902 = cljs.core.count.call(null,c__4591__auto___11899);
var G__11903 = (0);
seq__11870_11886 = G__11900;
chunk__11871_11887 = G__11901;
count__11872_11888 = G__11902;
i__11873_11889 = G__11903;
continue;
} else {
var vec__11883_11904 = cljs.core.first.call(null,seq__11870_11898__$1);
var ev__993__auto___11905 = cljs.core.nth.call(null,vec__11883_11904,(0),null);
var func__994__auto___11906 = cljs.core.nth.call(null,vec__11883_11904,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11905,func__994__auto___11906);


var G__11907 = cljs.core.next.call(null,seq__11870_11898__$1);
var G__11908 = null;
var G__11909 = (0);
var G__11910 = (0);
seq__11870_11886 = G__11907;
chunk__11871_11887 = G__11908;
count__11872_11888 = G__11909;
i__11873_11889 = G__11910;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.clients.choose_cancel = (function lt$objs$sidebar$clients$choose_cancel(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2.toggle.button","h2.toggle.button",-1009920550),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),"Choose a client type"], null)], null));
var seq__11911_11927 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"cancel","cancel",-1964088360));
});})(e__992__auto__))
], null)));
var chunk__11912_11928 = null;
var count__11913_11929 = (0);
var i__11914_11930 = (0);
while(true){
if((i__11914_11930 < count__11913_11929)){
var vec__11921_11931 = cljs.core._nth.call(null,chunk__11912_11928,i__11914_11930);
var ev__993__auto___11932 = cljs.core.nth.call(null,vec__11921_11931,(0),null);
var func__994__auto___11933 = cljs.core.nth.call(null,vec__11921_11931,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11932,func__994__auto___11933);


var G__11934 = seq__11911_11927;
var G__11935 = chunk__11912_11928;
var G__11936 = count__11913_11929;
var G__11937 = (i__11914_11930 + (1));
seq__11911_11927 = G__11934;
chunk__11912_11928 = G__11935;
count__11913_11929 = G__11936;
i__11914_11930 = G__11937;
continue;
} else {
var temp__5753__auto___11938 = cljs.core.seq.call(null,seq__11911_11927);
if(temp__5753__auto___11938){
var seq__11911_11939__$1 = temp__5753__auto___11938;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11911_11939__$1)){
var c__4591__auto___11940 = cljs.core.chunk_first.call(null,seq__11911_11939__$1);
var G__11941 = cljs.core.chunk_rest.call(null,seq__11911_11939__$1);
var G__11942 = c__4591__auto___11940;
var G__11943 = cljs.core.count.call(null,c__4591__auto___11940);
var G__11944 = (0);
seq__11911_11927 = G__11941;
chunk__11912_11928 = G__11942;
count__11913_11929 = G__11943;
i__11914_11930 = G__11944;
continue;
} else {
var vec__11924_11945 = cljs.core.first.call(null,seq__11911_11939__$1);
var ev__993__auto___11946 = cljs.core.nth.call(null,vec__11924_11945,(0),null);
var func__994__auto___11947 = cljs.core.nth.call(null,vec__11924_11945,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11946,func__994__auto___11947);


var G__11948 = cljs.core.next.call(null,seq__11911_11939__$1);
var G__11949 = null;
var G__11950 = (0);
var G__11951 = (0);
seq__11911_11927 = G__11948;
chunk__11912_11928 = G__11949;
count__11913_11929 = G__11950;
i__11914_11930 = G__11951;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.objs.sidebar.clients.__GT_active_QMARK_ = (function lt$objs$sidebar$clients$__GT_active_QMARK_(cur,clients){
var actives = new cljs.core.Keyword(null,"active","active",1895962068).cljs$core$IFn$_invoke$arity$1(clients);
var found_QMARK_ = cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__11952_SHARP_){
return cljs.core._EQ_.call(null,cur,cljs.core.val.call(null,p1__11952_SHARP_));
}),actives));
var connected_QMARK_ = new cljs.core.Keyword(null,"connected","connected",-169833045).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur));
if(cljs.core.truth_((function (){var and__4149__auto__ = found_QMARK_;
if(cljs.core.truth_(and__4149__auto__)){
return connected_QMARK_;
} else {
return and__4149__auto__;
}
})())){
return ["active client-",cljs.core.name.call(null,cljs.core.first.call(null,found_QMARK_))].join('');
} else {
return "";
}
});
lt.objs.sidebar.clients.client_item_STAR_ = (function lt$objs$sidebar$clients$client_item_STAR_(i){
if(cljs.core.truth_(new cljs.core.Keyword(null,"connected","connected",-169833045).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,i)))){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,i))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.details","div.details",-1501667044),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table","table",-564943036),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),"Type"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,i))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),"Commands"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),(function (){var iter__4564__auto__ = (function lt$objs$sidebar$clients$client_item_STAR__$_iter__11953(s__11954){
return (new cljs.core.LazySeq(null,(function (){
var s__11954__$1 = s__11954;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__11954__$1);
if(temp__5753__auto__){
var s__11954__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__11954__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__11954__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__11956 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__11955 = (0);
while(true){
if((i__11955 < size__4563__auto__)){
var c = cljs.core._nth.call(null,c__4562__auto__,i__11955);
cljs.core.chunk_append.call(null,b__11956,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),c], null));

var G__11957 = (i__11955 + (1));
i__11955 = G__11957;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11956),lt$objs$sidebar$clients$client_item_STAR__$_iter__11953.call(null,cljs.core.chunk_rest.call(null,s__11954__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11956),null);
}
} else {
var c = cljs.core.first.call(null,s__11954__$2);
return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),c], null),lt$objs$sidebar$clients$client_item_STAR__$_iter__11953.call(null,cljs.core.rest.call(null,s__11954__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,new cljs.core.Keyword(null,"commands","commands",161008658).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,i)));
})()], null)], null)], null)], null),lt.objs.sidebar.clients.close_button.call(null,i),lt.objs.sidebar.clients.unset_button.call(null,i)], null)], null);
} else {
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.connecting","div.connecting",1312828909),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.load-wrapper","div.load-wrapper",1353254593),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.img","div.img",2113685181)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),"Connecting.."], null)], null);
}
});
lt.objs.sidebar.clients.connector_QMARK_ = (function lt$objs$sidebar$clients$connector_QMARK_(clients){
return ["clients ",(cljs.core.truth_(new cljs.core.Keyword(null,"selecting?","selecting?",1157912914).cljs$core$IFn$_invoke$arity$1(clients))?"selecting":""),(cljs.core.truth_(lt.util.dom.has_class_QMARK_.call(null,new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(clients),new cljs.core.Keyword(null,"active","active",1895962068)))?" active":null)].join('');
});
/**
 * 
 */
lt.objs.sidebar.clients.client_item = (function lt$objs$sidebar$clients$client_item(clients,i){
var e__992__auto__ = singultus.core.html.call(null,(function (){var i__$1 = cljs.core.deref.call(null,i);
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,clients,(function (p1__11958_SHARP_){
return lt.objs.sidebar.clients.__GT_active_QMARK_.call(null,i__$1,p1__11958_SHARP_);
}))], null),singultus.binding.bound.call(null,i__$1,(function (){
return lt.objs.sidebar.clients.client_item_STAR_.call(null,i__$1);
}))], null);
})());
var seq__11959_11975 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__11960_11976 = null;
var count__11961_11977 = (0);
var i__11962_11978 = (0);
while(true){
if((i__11962_11978 < count__11961_11977)){
var vec__11969_11979 = cljs.core._nth.call(null,chunk__11960_11976,i__11962_11978);
var ev__993__auto___11980 = cljs.core.nth.call(null,vec__11969_11979,(0),null);
var func__994__auto___11981 = cljs.core.nth.call(null,vec__11969_11979,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11980,func__994__auto___11981);


var G__11982 = seq__11959_11975;
var G__11983 = chunk__11960_11976;
var G__11984 = count__11961_11977;
var G__11985 = (i__11962_11978 + (1));
seq__11959_11975 = G__11982;
chunk__11960_11976 = G__11983;
count__11961_11977 = G__11984;
i__11962_11978 = G__11985;
continue;
} else {
var temp__5753__auto___11986 = cljs.core.seq.call(null,seq__11959_11975);
if(temp__5753__auto___11986){
var seq__11959_11987__$1 = temp__5753__auto___11986;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__11959_11987__$1)){
var c__4591__auto___11988 = cljs.core.chunk_first.call(null,seq__11959_11987__$1);
var G__11989 = cljs.core.chunk_rest.call(null,seq__11959_11987__$1);
var G__11990 = c__4591__auto___11988;
var G__11991 = cljs.core.count.call(null,c__4591__auto___11988);
var G__11992 = (0);
seq__11959_11975 = G__11989;
chunk__11960_11976 = G__11990;
count__11961_11977 = G__11991;
i__11962_11978 = G__11992;
continue;
} else {
var vec__11972_11993 = cljs.core.first.call(null,seq__11959_11987__$1);
var ev__993__auto___11994 = cljs.core.nth.call(null,vec__11972_11993,(0),null);
var func__994__auto___11995 = cljs.core.nth.call(null,vec__11972_11993,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___11994,func__994__auto___11995);


var G__11996 = cljs.core.next.call(null,seq__11959_11987__$1);
var G__11997 = null;
var G__11998 = (0);
var G__11999 = (0);
seq__11959_11975 = G__11996;
chunk__11960_11976 = G__11997;
count__11961_11977 = G__11998;
i__11962_11978 = G__11999;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.clients.connection_type = (function lt$objs$sidebar$clients$connection_type(this$,i){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),i.call(null,new cljs.core.Keyword(null,"name","name",1843675177))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),i.call(null,new cljs.core.Keyword(null,"desc","desc",2093485764))], null)], null));
var seq__12000_12016 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"selected","selected",574897764));

return new cljs.core.Keyword(null,"connect","connect",1232828233).cljs$core$IFn$_invoke$arity$1(i).call(null);
});})(e__992__auto__))
], null)));
var chunk__12001_12017 = null;
var count__12002_12018 = (0);
var i__12003_12019 = (0);
while(true){
if((i__12003_12019 < count__12002_12018)){
var vec__12010_12020 = cljs.core._nth.call(null,chunk__12001_12017,i__12003_12019);
var ev__993__auto___12021 = cljs.core.nth.call(null,vec__12010_12020,(0),null);
var func__994__auto___12022 = cljs.core.nth.call(null,vec__12010_12020,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___12021,func__994__auto___12022);


var G__12023 = seq__12000_12016;
var G__12024 = chunk__12001_12017;
var G__12025 = count__12002_12018;
var G__12026 = (i__12003_12019 + (1));
seq__12000_12016 = G__12023;
chunk__12001_12017 = G__12024;
count__12002_12018 = G__12025;
i__12003_12019 = G__12026;
continue;
} else {
var temp__5753__auto___12027 = cljs.core.seq.call(null,seq__12000_12016);
if(temp__5753__auto___12027){
var seq__12000_12028__$1 = temp__5753__auto___12027;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__12000_12028__$1)){
var c__4591__auto___12029 = cljs.core.chunk_first.call(null,seq__12000_12028__$1);
var G__12030 = cljs.core.chunk_rest.call(null,seq__12000_12028__$1);
var G__12031 = c__4591__auto___12029;
var G__12032 = cljs.core.count.call(null,c__4591__auto___12029);
var G__12033 = (0);
seq__12000_12016 = G__12030;
chunk__12001_12017 = G__12031;
count__12002_12018 = G__12032;
i__12003_12019 = G__12033;
continue;
} else {
var vec__12013_12034 = cljs.core.first.call(null,seq__12000_12028__$1);
var ev__993__auto___12035 = cljs.core.nth.call(null,vec__12013_12034,(0),null);
var func__994__auto___12036 = cljs.core.nth.call(null,vec__12013_12034,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___12035,func__994__auto___12036);


var G__12037 = cljs.core.next.call(null,seq__12000_12028__$1);
var G__12038 = null;
var G__12039 = (0);
var G__12040 = (0);
seq__12000_12016 = G__12037;
chunk__12001_12017 = G__12038;
count__12002_12018 = G__12039;
i__12003_12019 = G__12040;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.objs.sidebar.clients.connectors = (function lt$objs$sidebar$clients$connectors(this$,connectors){
var iter__4564__auto__ = (function lt$objs$sidebar$clients$connectors_$_iter__12041(s__12042){
return (new cljs.core.LazySeq(null,(function (){
var s__12042__$1 = s__12042;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__12042__$1);
if(temp__5753__auto__){
var s__12042__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__12042__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__12042__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__12044 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__12043 = (0);
while(true){
if((i__12043 < size__4563__auto__)){
var vec__12045 = cljs.core._nth.call(null,c__4562__auto__,i__12043);
var k = cljs.core.nth.call(null,vec__12045,(0),null);
var c = cljs.core.nth.call(null,vec__12045,(1),null);
cljs.core.chunk_append.call(null,b__12044,lt.objs.sidebar.clients.connection_type.call(null,this$,c));

var G__12051 = (i__12043 + (1));
i__12043 = G__12051;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__12044),lt$objs$sidebar$clients$connectors_$_iter__12041.call(null,cljs.core.chunk_rest.call(null,s__12042__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__12044),null);
}
} else {
var vec__12048 = cljs.core.first.call(null,s__12042__$2);
var k = cljs.core.nth.call(null,vec__12048,(0),null);
var c = cljs.core.nth.call(null,vec__12048,(1),null);
return cljs.core.cons.call(null,lt.objs.sidebar.clients.connection_type.call(null,this$,c),lt$objs$sidebar$clients$connectors_$_iter__12041.call(null,cljs.core.rest.call(null,s__12042__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,connectors);
});
/**
 * 
 */
lt.objs.sidebar.clients.connect_ui = (function lt$objs$sidebar$clients$connect_ui(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,this$,lt.objs.sidebar.clients.connector_QMARK_),new cljs.core.Keyword(null,"tabindex","tabindex",338877510),(-1)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.list","div.list",-1638405495),lt.objs.sidebar.clients.add_button.call(null,this$),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),singultus.binding.map_bound.call(null,cljs.core.partial.call(null,lt.objs.sidebar.clients.client_item,this$),lt.objs.clients.cs)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.connector","div.connector",-1710598826),lt.objs.sidebar.clients.choose_cancel.call(null,this$),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),singultus.binding.bound.call(null,singultus.binding.subatom.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connectors","connectors",-1593180892)], null)),cljs.core.partial.call(null,lt.objs.sidebar.clients.connectors,this$))], null)], null)], null));
var seq__12052_12068 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",234677911),((function (e__992__auto__){
return (function (){
return lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"sidebar.clients","sidebar.clients",-1793475054),this$);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"blur","blur",-453500461),((function (e__992__auto__){
return (function (){
return lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"sidebar.clients","sidebar.clients",-1793475054),this$);
});})(e__992__auto__))
], null)));
var chunk__12053_12069 = null;
var count__12054_12070 = (0);
var i__12055_12071 = (0);
while(true){
if((i__12055_12071 < count__12054_12070)){
var vec__12062_12072 = cljs.core._nth.call(null,chunk__12053_12069,i__12055_12071);
var ev__993__auto___12073 = cljs.core.nth.call(null,vec__12062_12072,(0),null);
var func__994__auto___12074 = cljs.core.nth.call(null,vec__12062_12072,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___12073,func__994__auto___12074);


var G__12075 = seq__12052_12068;
var G__12076 = chunk__12053_12069;
var G__12077 = count__12054_12070;
var G__12078 = (i__12055_12071 + (1));
seq__12052_12068 = G__12075;
chunk__12053_12069 = G__12076;
count__12054_12070 = G__12077;
i__12055_12071 = G__12078;
continue;
} else {
var temp__5753__auto___12079 = cljs.core.seq.call(null,seq__12052_12068);
if(temp__5753__auto___12079){
var seq__12052_12080__$1 = temp__5753__auto___12079;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__12052_12080__$1)){
var c__4591__auto___12081 = cljs.core.chunk_first.call(null,seq__12052_12080__$1);
var G__12082 = cljs.core.chunk_rest.call(null,seq__12052_12080__$1);
var G__12083 = c__4591__auto___12081;
var G__12084 = cljs.core.count.call(null,c__4591__auto___12081);
var G__12085 = (0);
seq__12052_12068 = G__12082;
chunk__12053_12069 = G__12083;
count__12054_12070 = G__12084;
i__12055_12071 = G__12085;
continue;
} else {
var vec__12065_12086 = cljs.core.first.call(null,seq__12052_12080__$1);
var ev__993__auto___12087 = cljs.core.nth.call(null,vec__12065_12086,(0),null);
var func__994__auto___12088 = cljs.core.nth.call(null,vec__12065_12086,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___12087,func__994__auto___12088);


var G__12089 = cljs.core.next.call(null,seq__12052_12080__$1);
var G__12090 = null;
var G__12091 = (0);
var G__12092 = (0);
seq__12052_12068 = G__12089;
chunk__12053_12069 = G__12090;
count__12054_12070 = G__12091;
i__12055_12071 = G__12092;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.clients.__BEH__track_active_client = (function lt$objs$sidebar$clients$__BEH__track_active_client(ed){
return lt.object.merge_BANG_.call(null,lt.objs.sidebar.clients.clients,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",1895962068),new cljs.core.Keyword(null,"client","client",-1323448117).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.clients","track-active-client","lt.objs.sidebar.clients/track-active-client",-271987567),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"active","active",1895962068),null,new cljs.core.Keyword(null,"set-client","set-client",-1338996324),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.clients.__BEH__track_active_client);
/**
 * 
 */
lt.objs.sidebar.clients.__BEH__unset_client = (function lt$objs$sidebar$clients$__BEH__unset_client(this$,cur){
var ed = lt.objs.editor.pool.last_active.call(null);
var actives = new cljs.core.Keyword(null,"client","client",-1323448117).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed));
var found_QMARK_ = cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__12093_SHARP_){
return cljs.core._EQ_.call(null,cur,cljs.core.val.call(null,p1__12093_SHARP_));
}),actives));
if(cljs.core.truth_(found_QMARK_)){
lt.object.update_BANG_.call(null,ed,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"client","client",-1323448117)], null),cljs.core.dissoc,cljs.core.first.call(null,found_QMARK_));
} else {
}

return lt.objs.editor.pool.focus_last.call(null);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.clients","unset-client","lt.objs.sidebar.clients/unset-client",-1355215293),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"unset!","unset!",-746079964),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.clients.__BEH__unset_client);
/**
 * 
 */
lt.objs.sidebar.clients.__BEH__selecting_BANG_ = (function lt$objs$sidebar$clients$__BEH__selecting_BANG_(this$){
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selecting?","selecting?",1157912914),true], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.clients","selecting!","lt.objs.sidebar.clients/selecting!",872106073),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selecting!","selecting!",-1304548141),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.clients.__BEH__selecting_BANG_);
/**
 * 
 */
lt.objs.sidebar.clients.__BEH__done_selecting = (function lt$objs$sidebar$clients$__BEH__done_selecting(this$){
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selecting?","selecting?",1157912914),false], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.clients","done-selecting","lt.objs.sidebar.clients/done-selecting",-1059581085),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"selected","selected",574897764),null,new cljs.core.Keyword(null,"cancel","cancel",-1964088360),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.clients.__BEH__done_selecting);
/**
 * 
 */
lt.objs.sidebar.clients.__BEH__hide_on_select = (function lt$objs$sidebar$clients$__BEH__hide_on_select(this$){
return lt.object.raise.call(null,lt.objs.sidebar.rightbar,new cljs.core.Keyword(null,"close!","close!",-2079310498));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.clients","hide-on-select","lt.objs.sidebar.clients/hide-on-select",-2065149008),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",574897764),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.clients.__BEH__hide_on_select);
/**
 * 
 */
lt.objs.sidebar.clients.__BEH__focus_BANG_ = (function lt$objs$sidebar$clients$__BEH__focus_BANG_(this$){
return lt.util.dom.focus.call(null,lt.object.__GT_content.call(null,this$));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.clients","focus!","lt.objs.sidebar.clients/focus!",839424555),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",-1344984927),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.clients.__BEH__focus_BANG_);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.clients","sidebar.clients","lt.objs.sidebar.clients/sidebar.clients",308167816),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"sidebar.clients","sidebar.clients",-1793475054),null], null), null),new cljs.core.Keyword(null,"label","label",1718410804),"connect",new cljs.core.Keyword(null,"connectors","connectors",-1593180892),cljs.core.sorted_map.call(null),new cljs.core.Keyword(null,"order","order",-1254677256),(2),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return lt.objs.sidebar.clients.connect_ui.call(null,this$);
}));
lt.objs.sidebar.clients.clients = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.clients","sidebar.clients","lt.objs.sidebar.clients/sidebar.clients",308167816));
lt.objs.sidebar.add_item.call(null,lt.objs.sidebar.rightbar,lt.objs.sidebar.clients.clients);
lt.objs.sidebar.clients.add_connector = (function lt$objs$sidebar$clients$add_connector(c){
return lt.object.update_BANG_.call(null,lt.objs.sidebar.clients.clients,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"connectors","connectors",-1593180892)], null),cljs.core.assoc,new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(c),c);
});
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"show-connect","show-connect",-2130622063),new cljs.core.Keyword(null,"desc","desc",2093485764),"Connect: Toggle connect bar",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
lt.object.raise.call(null,lt.objs.sidebar.rightbar,new cljs.core.Keyword(null,"toggle","toggle",1291842030),lt.objs.sidebar.clients.clients);

return lt.object.raise.call(null,lt.objs.sidebar.clients.clients,new cljs.core.Keyword(null,"focus!","focus!",-1344984927));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"show-add-connection","show-add-connection",652692070),new cljs.core.Keyword(null,"desc","desc",2093485764),"Connect: Add Connection",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
lt.object.raise.call(null,lt.objs.sidebar.rightbar,new cljs.core.Keyword(null,"toggle","toggle",1291842030),lt.objs.sidebar.clients.clients,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"force?","force?",1839038675),true,new cljs.core.Keyword(null,"transient?","transient?",1694525927),false], null));

return lt.object.raise.call(null,lt.objs.sidebar.clients.clients,new cljs.core.Keyword(null,"selecting!","selecting!",-1304548141));
})], null));
lt.objs.sidebar.clients.add_connector.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1843675177),"Ports",new cljs.core.Keyword(null,"desc","desc",2093485764),"Get the ports for the local TCP and Websocket servers",new cljs.core.Keyword(null,"connect","connect",1232828233),(function (){
return lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"header","header",119441134),"Ports",new cljs.core.Keyword(null,"body","body",-2049205669),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dl#ports","dl#ports",-2034456471),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dt","dt",-368444759),"TCP: "], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dd","dd",-1340437629),cljs.core.str.cljs$core$IFn$_invoke$arity$1(lt.objs.clients.tcp.port)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dt","dt",-368444759),"WebSocket: "], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dd","dd",-1340437629),cljs.core.str.cljs$core$IFn$_invoke$arity$1(lt.objs.clients.ws.port)], null)], null),new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"label","label",1718410804),"ok"], null)], null)], null));
})], null));
