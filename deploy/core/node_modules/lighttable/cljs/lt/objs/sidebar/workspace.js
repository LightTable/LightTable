// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.objs.sidebar.workspace');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.command');
goog.require('lt.objs.context');
goog.require('lt.objs.files');
goog.require('lt.objs.workspace');
goog.require('lt.objs.opener');
goog.require('lt.objs.popup');
goog.require('lt.objs.sidebar');
goog.require('lt.objs.dialogs');
goog.require('lt.objs.document');
goog.require('lt.objs.menu');
goog.require('lt.util.dom');
goog.require('lt.util.cljs');
goog.require('singultus.binding');
goog.require('clojure.string');
lt.objs.sidebar.workspace.files_and_folders = (function lt$objs$sidebar$workspace$files_and_folders(path){
var fs = lt.objs.workspace.files_and_folders.call(null,path);
return new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"files","files",-472457450),cljs.core.mapv.call(null,(function (p1__14494_SHARP_){
return lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.file","lt.objs.sidebar.workspace/workspace.file",-188628499),p1__14494_SHARP_);
}),new cljs.core.Keyword(null,"files","files",-472457450).cljs$core$IFn$_invoke$arity$1(fs)),new cljs.core.Keyword(null,"folders","folders",44248772),cljs.core.mapv.call(null,(function (p1__14495_SHARP_){
return lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.folder","lt.objs.sidebar.workspace/workspace.folder",-483966665),p1__14495_SHARP_);
}),new cljs.core.Keyword(null,"folders","folders",44248772).cljs$core$IFn$_invoke$arity$1(fs))], null);
});
lt.objs.sidebar.workspace.root_folder = (function lt$objs$sidebar$workspace$root_folder(path){
return lt.object.add_tags.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.folder","lt.objs.sidebar.workspace/workspace.folder",-483966665),path),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"workspace.folder.root","workspace.folder.root",-1531354287)], null));
});
lt.objs.sidebar.workspace.root_file = (function lt$objs$sidebar$workspace$root_file(path){
return lt.object.add_tags.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.file","lt.objs.sidebar.workspace/workspace.file",-188628499),path),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"workspace.file.root","workspace.file.root",-569371600)], null));
});
lt.objs.sidebar.workspace.remove_child = (function lt$objs$sidebar$workspace$remove_child(p,child){
if(cljs.core.truth_(lt.object.has_tag_QMARK_.call(null,child,new cljs.core.Keyword(null,"workspace.file","workspace.file",-1996295850)))){
return lt.object.update_BANG_.call(null,p,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"files","files",-472457450)], null),(function (cur){
return cljs.core.vec.call(null,cljs.core.remove.call(null,cljs.core.PersistentHashSet.createAsIfByAssoc([child]),cur));
}));
} else {
return lt.object.update_BANG_.call(null,p,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"folders","folders",44248772)], null),(function (cur){
return cljs.core.vec.call(null,cljs.core.remove.call(null,cljs.core.PersistentHashSet.createAsIfByAssoc([child]),cur));
}));
}
});
lt.objs.sidebar.workspace.find_by_path = (function lt$objs$sidebar$workspace$find_by_path(path){
return cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__14496_SHARP_){
return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,p1__14496_SHARP_)),path);
}),lt.object.by_tag.call(null,new cljs.core.Keyword(null,"tree-item","tree-item",1467250318))));
});
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__add_ws_folder = (function lt$objs$sidebar$workspace$__BEH__add_ws_folder(this$,path){
return lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"add.folder!","add.folder!",755480535),path);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","add-ws-folder","lt.objs.sidebar.workspace/add-ws-folder",-1225213429),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"workspace.add.folder!","workspace.add.folder!",-291748281),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__add_ws_folder);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__add_ws_file = (function lt$objs$sidebar$workspace$__BEH__add_ws_file(this$,path){
lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"add.file!","add.file!",-439765985),path);

return lt.object.raise.call(null,cljs.core.first.call(null,lt.object.by_tag.call(null,new cljs.core.Keyword(null,"opener","opener",1027381943))),new cljs.core.Keyword(null,"open!","open!",1145596908),path);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","add-ws-file","lt.objs.sidebar.workspace/add-ws-file",-1314854103),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"workspace.add.file!","workspace.add.file!",-382028482),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__add_ws_file);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_open_ls = (function lt$objs$sidebar$workspace$__BEH__on_open_ls(this$){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open?","open?",1238443125),true], null));

if(cljs.core.truth_(new cljs.core.Keyword(null,"realized?","realized?",-1433302186).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))){
return null;
} else {
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"realized?","realized?",-1433302186),true], null));

lt.object.merge_BANG_.call(null,this$,lt.objs.sidebar.workspace.files_and_folders.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));

var folder = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"ul","ul",-1349521403),lt.object.__GT_content.call(null,this$));
var width = lt.util.dom.scroll_width.call(null,folder);
var seq__14497 = cljs.core.seq.call(null,lt.util.dom.children.call(null,folder));
var chunk__14498 = null;
var count__14499 = (0);
var i__14500 = (0);
while(true){
if((i__14500 < count__14499)){
var child = cljs.core._nth.call(null,chunk__14498,i__14500);
lt.util.dom.css.call(null,child,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),width], null));


var G__14501 = seq__14497;
var G__14502 = chunk__14498;
var G__14503 = count__14499;
var G__14504 = (i__14500 + (1));
seq__14497 = G__14501;
chunk__14498 = G__14502;
count__14499 = G__14503;
i__14500 = G__14504;
continue;
} else {
var temp__5753__auto__ = cljs.core.seq.call(null,seq__14497);
if(temp__5753__auto__){
var seq__14497__$1 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14497__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__14497__$1);
var G__14505 = cljs.core.chunk_rest.call(null,seq__14497__$1);
var G__14506 = c__4591__auto__;
var G__14507 = cljs.core.count.call(null,c__4591__auto__);
var G__14508 = (0);
seq__14497 = G__14505;
chunk__14498 = G__14506;
count__14499 = G__14507;
i__14500 = G__14508;
continue;
} else {
var child = cljs.core.first.call(null,seq__14497__$1);
lt.util.dom.css.call(null,child,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),width], null));


var G__14509 = cljs.core.next.call(null,seq__14497__$1);
var G__14510 = null;
var G__14511 = (0);
var G__14512 = (0);
seq__14497 = G__14509;
chunk__14498 = G__14510;
count__14499 = G__14511;
i__14500 = G__14512;
continue;
}
} else {
return null;
}
}
break;
}
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-open-ls","lt.objs.sidebar.workspace/on-open-ls",1427894438),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open!","open!",1145596908),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_open_ls);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__refresh = (function lt$objs$sidebar$workspace$__BEH__refresh(this$){
var seq__14513_14517 = cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.Keyword(null,"files","files",-472457450).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"folders","folders",44248772).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
var chunk__14514_14518 = null;
var count__14515_14519 = (0);
var i__14516_14520 = (0);
while(true){
if((i__14516_14520 < count__14515_14519)){
var f_14521 = cljs.core._nth.call(null,chunk__14514_14518,i__14516_14520);
lt.object.destroy_BANG_.call(null,f_14521);


var G__14522 = seq__14513_14517;
var G__14523 = chunk__14514_14518;
var G__14524 = count__14515_14519;
var G__14525 = (i__14516_14520 + (1));
seq__14513_14517 = G__14522;
chunk__14514_14518 = G__14523;
count__14515_14519 = G__14524;
i__14516_14520 = G__14525;
continue;
} else {
var temp__5753__auto___14526 = cljs.core.seq.call(null,seq__14513_14517);
if(temp__5753__auto___14526){
var seq__14513_14527__$1 = temp__5753__auto___14526;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14513_14527__$1)){
var c__4591__auto___14528 = cljs.core.chunk_first.call(null,seq__14513_14527__$1);
var G__14529 = cljs.core.chunk_rest.call(null,seq__14513_14527__$1);
var G__14530 = c__4591__auto___14528;
var G__14531 = cljs.core.count.call(null,c__4591__auto___14528);
var G__14532 = (0);
seq__14513_14517 = G__14529;
chunk__14514_14518 = G__14530;
count__14515_14519 = G__14531;
i__14516_14520 = G__14532;
continue;
} else {
var f_14533 = cljs.core.first.call(null,seq__14513_14527__$1);
lt.object.destroy_BANG_.call(null,f_14533);


var G__14534 = cljs.core.next.call(null,seq__14513_14527__$1);
var G__14535 = null;
var G__14536 = (0);
var G__14537 = (0);
seq__14513_14517 = G__14534;
chunk__14514_14518 = G__14535;
count__14515_14519 = G__14536;
i__14516_14520 = G__14537;
continue;
}
} else {
}
}
break;
}

lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"refresh","refresh",1947415525),new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

return lt.object.merge_BANG_.call(null,this$,lt.objs.sidebar.workspace.files_and_folders.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","refresh","lt.objs.sidebar.workspace/refresh",-1613433778),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"refresh!","refresh!",156149341),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__refresh);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_close = (function lt$objs$sidebar$workspace$__BEH__on_close(this$){
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open?","open?",1238443125),false], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-close","lt.objs.sidebar.workspace/on-close",1742738963),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close!","close!",-2079310498),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_close);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_open_file = (function lt$objs$sidebar$workspace$__BEH__on_open_file(this$){
return lt.object.raise.call(null,lt.objs.opener.opener,new cljs.core.Keyword(null,"open!","open!",1145596908),new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-open-file","lt.objs.sidebar.workspace/on-open-file",-2073837269),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open!","open!",1145596908),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_open_file);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_remove = (function lt$objs$sidebar$workspace$__BEH__on_remove(this$,item){
if(cljs.core.truth_(lt.object.has_tag_QMARK_.call(null,item,new cljs.core.Keyword(null,"workspace.folder","workspace.folder",644219274)))){
return lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"remove.folder!","remove.folder!",-153450498),new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,item)));
} else {
return lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"remove.file!","remove.file!",2141287199),new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,item)));
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-remove","lt.objs.sidebar.workspace/on-remove",-1145412986),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"remove!","remove!",1683409659),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_remove);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_clear = (function lt$objs$sidebar$workspace$__BEH__on_clear(this$){
return lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-clear","lt.objs.sidebar.workspace/on-clear",-1274309108),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",-144814418),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_clear);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_ws_add = (function lt$objs$sidebar$workspace$__BEH__on_ws_add(ws,f){
if(cljs.core.truth_(lt.objs.files.file_QMARK_.call(null,f))){
return lt.object.update_BANG_.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"files","files",-472457450)], null),cljs.core.conj,lt.objs.sidebar.workspace.root_file.call(null,f));
} else {
return lt.object.update_BANG_.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"folders","folders",44248772)], null),cljs.core.conj,lt.objs.sidebar.workspace.root_folder.call(null,f));
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-ws-add","lt.objs.sidebar.workspace/on-ws-add",1374554584),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"add","add",235287739),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_ws_add);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_ws_remove = (function lt$objs$sidebar$workspace$__BEH__on_ws_remove(ws,f){
var item = lt.objs.sidebar.workspace.find_by_path.call(null,f);
if(cljs.core.truth_(lt.objs.files.file_QMARK_.call(null,f))){
lt.object.update_BANG_.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"files","files",-472457450)], null),(function (cur){
return cljs.core.vec.call(null,cljs.core.remove.call(null,cljs.core.PersistentHashSet.createAsIfByAssoc([item]),cur));
}));
} else {
lt.object.update_BANG_.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"folders","folders",44248772)], null),(function (cur){
return cljs.core.vec.call(null,cljs.core.remove.call(null,cljs.core.PersistentHashSet.createAsIfByAssoc([item]),cur));
}));
}

return lt.object.destroy_BANG_.call(null,item);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-ws-remove","lt.objs.sidebar.workspace/on-ws-remove",85756965),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"remove","remove",-131428414),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_ws_remove);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_ws_set = (function lt$objs$sidebar$workspace$__BEH__on_ws_set(ws){
var map__14538 = cljs.core.deref.call(null,ws);
var map__14538__$1 = cljs.core.__destructure_map.call(null,map__14538);
var folders = cljs.core.get.call(null,map__14538__$1,new cljs.core.Keyword(null,"folders","folders",44248772));
var files = cljs.core.get.call(null,map__14538__$1,new cljs.core.Keyword(null,"files","files",-472457450));
return lt.object.merge_BANG_.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"files","files",-472457450),cljs.core.mapv.call(null,lt.objs.sidebar.workspace.root_file,files),new cljs.core.Keyword(null,"folders","folders",44248772),cljs.core.mapv.call(null,lt.objs.sidebar.workspace.root_folder,folders),new cljs.core.Keyword(null,"open-dirs","open-dirs",-20403535),cljs.core.PersistentHashSet.EMPTY], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-ws-set","lt.objs.sidebar.workspace/on-ws-set",1697355339),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"set","set",304602554),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_ws_set);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__track_and_watch_open_dirs = (function lt$objs$sidebar$workspace$__BEH__track_and_watch_open_dirs(this$){
lt.objs.workspace.watch_BANG_.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

return lt.object.update_BANG_.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"open-dirs","open-dirs",-20403535)], null),cljs.core.conj,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","track-and-watch-open-dirs","lt.objs.sidebar.workspace/track-and-watch-open-dirs",-621069865),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open!","open!",1145596908),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__track_and_watch_open_dirs);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__untrack_closed_dirs = (function lt$objs$sidebar$workspace$__BEH__untrack_closed_dirs(this$){
return lt.object.update_BANG_.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"open-dirs","open-dirs",-20403535)], null),cljs.core.disj,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","untrack-closed-dirs","lt.objs.sidebar.workspace/untrack-closed-dirs",619231734),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close!","close!",-2079310498),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__untrack_closed_dirs);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__watch_open_dirs_paths = (function lt$objs$sidebar$workspace$__BEH__watch_open_dirs_paths(this$,cur){
return cljs.core.concat.call(null,cur,new cljs.core.Keyword(null,"open-dirs","open-dirs",-20403535).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.sidebar.workspace.tree)));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","watch-open-dirs-paths","lt.objs.sidebar.workspace/watch-open-dirs-paths",-2050005985),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"watch-paths+","watch-paths+",-81342563),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__watch_open_dirs_paths);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__watched__DOT__delete = (function lt$objs$sidebar$workspace$__BEH__watched__DOT__delete(ws,path){
var temp__5753__auto__ = lt.objs.sidebar.workspace.find_by_path.call(null,path);
if(cljs.core.truth_(temp__5753__auto__)){
var child = temp__5753__auto__;
var temp__5753__auto___14539__$1 = lt.objs.sidebar.workspace.find_by_path.call(null,lt.objs.files.parent.call(null,path));
if(cljs.core.truth_(temp__5753__auto___14539__$1)){
var p_14540 = temp__5753__auto___14539__$1;
lt.objs.sidebar.workspace.remove_child.call(null,p_14540,child);
} else {
}

return lt.object.destroy_BANG_.call(null,child);
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","watched.delete","lt.objs.sidebar.workspace/watched.delete",993903507),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"watched.delete","watched.delete",-2013789460),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__watched__DOT__delete);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__watched__DOT__create = (function lt$objs$sidebar$workspace$__BEH__watched__DOT__create(ws,path){
if(cljs.core.truth_((function (){var and__4149__auto__ = lt.objs.sidebar.workspace.find_by_path.call(null,path);
if(cljs.core.truth_(and__4149__auto__)){
return cljs.core.not.call(null,cljs.core.re_seq.call(null,lt.objs.files.ignore_pattern,lt.objs.files.basename.call(null,path)));
} else {
return and__4149__auto__;
}
})())){
return null;
} else {
var temp__5753__auto__ = lt.objs.sidebar.workspace.find_by_path.call(null,lt.objs.files.parent.call(null,path));
if(cljs.core.truth_(temp__5753__auto__)){
var parent = temp__5753__auto__;
if(cljs.core.truth_(new cljs.core.Keyword(null,"realized?","realized?",-1433302186).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,parent)))){
if(cljs.core.truth_(lt.objs.files.dir_QMARK_.call(null,path))){
return lt.object.update_BANG_.call(null,parent,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"folders","folders",44248772)], null),cljs.core.conj,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.folder","lt.objs.sidebar.workspace/workspace.folder",-483966665),path));
} else {
return lt.object.update_BANG_.call(null,parent,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"files","files",-472457450)], null),cljs.core.conj,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.file","lt.objs.sidebar.workspace/workspace.file",-188628499),path));
}
} else {
return null;
}
} else {
return null;
}
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","watched.create","lt.objs.sidebar.workspace/watched.create",-1456875723),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"watched.create","watched.create",1567266238),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__watched__DOT__create);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_drop = (function lt$objs$sidebar$workspace$__BEH__on_drop(this$,e){
var size = e.dataTransfer.files.length;
var i = (0);
while(true){
if((i < size)){
var path_14541 = (e.dataTransfer.files[i]).path;
if(cljs.core.truth_(lt.objs.files.dir_QMARK_.call(null,path_14541))){
lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"add.folder!","add.folder!",755480535),path_14541);
} else {
lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"add.file!","add.file!",-439765985),path_14541);
}

var G__14542 = (i + (1));
i = G__14542;
continue;
} else {
return null;
}
break;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-drop","lt.objs.sidebar.workspace/on-drop",1293166756),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"drop","drop",364481611),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_drop);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_menu = (function lt$objs$sidebar$workspace$__BEH__on_menu(this$,e){
var items = cljs.core.sort_by.call(null,new cljs.core.Keyword(null,"order","order",-1254677256),lt.object.raise_reduce.call(null,this$,new cljs.core.Keyword(null,"menu-items","menu-items",-1870634357),cljs.core.PersistentVector.EMPTY));
return lt.objs.menu.show_menu.call(null,lt.objs.menu.menu.call(null,items));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-menu","lt.objs.sidebar.workspace/on-menu",-2073241183),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu!","menu!",-1593399467),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_menu);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__on_root_menu = (function lt$objs$sidebar$workspace$__BEH__on_root_menu(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"separator",new cljs.core.Keyword(null,"order","order",-1254677256),(9)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Remove from workspace",new cljs.core.Keyword(null,"order","order",-1254677256),(10),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.Keyword(null,"remove!","remove!",1683409659),this$);
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","on-root-menu","lt.objs.sidebar.workspace/on-root-menu",1810226725),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu-items","menu-items",-1870634357),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__on_root_menu);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__subfile_menu = (function lt$objs$sidebar$workspace$__BEH__subfile_menu(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Duplicate",new cljs.core.Keyword(null,"order","order",-1254677256),(1),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"duplicate!","duplicate!",-1916156478));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Rename",new cljs.core.Keyword(null,"order","order",-1254677256),(2),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"start-rename!","start-rename!",335884224));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Delete",new cljs.core.Keyword(null,"order","order",-1254677256),(3),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"delete!","delete!",-593410251));
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","subfile-menu","lt.objs.sidebar.workspace/subfile-menu",-535794464),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu-items","menu-items",-1870634357),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__subfile_menu);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__subfolder_menu = (function lt$objs$sidebar$workspace$__BEH__subfolder_menu(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"New file",new cljs.core.Keyword(null,"order","order",-1254677256),(0),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"new-file!","new-file!",-774606557));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Rename",new cljs.core.Keyword(null,"order","order",-1254677256),(2),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"start-rename!","start-rename!",335884224));
})], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"separator",new cljs.core.Keyword(null,"order","order",-1254677256),(3)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"New folder",new cljs.core.Keyword(null,"order","order",-1254677256),(4),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"new-folder!","new-folder!",-84424674));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Delete folder",new cljs.core.Keyword(null,"order","order",-1254677256),(5),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"delete!","delete!",-593410251));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),"Refresh folder",new cljs.core.Keyword(null,"order","order",-1254677256),(6),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"refresh!","refresh!",156149341));
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","subfolder-menu","lt.objs.sidebar.workspace/subfolder-menu",72994240),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu-items","menu-items",-1870634357),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__subfolder_menu);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__force_delete_file = (function lt$objs$sidebar$workspace$__BEH__force_delete_file(this$){
lt.objs.files.delete_BANG_.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

lt.util.dom.remove.call(null,lt.object.__GT_content.call(null,this$));

lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"watched.delete","watched.delete",-2013789460),new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

return lt.object.destroy_BANG_.call(null,this$);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","force-delete-file","lt.objs.sidebar.workspace/force-delete-file",-664300999),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"force-delete!","force-delete!",-2147117930),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__force_delete_file);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__delete_file = (function lt$objs$sidebar$workspace$__BEH__delete_file(this$){
return lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"header","header",119441134),"Delete this file?",new cljs.core.Keyword(null,"body","body",-2049205669),["This will delete ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))," from disk and cannot be undone."].join(''),new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Delete file",new cljs.core.Keyword(null,"action","action",-811238024),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"force-delete!","force-delete!",-2147117930));
})], null),lt.objs.popup.cancel_button], null)], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","delete-file","lt.objs.sidebar.workspace/delete-file",330730710),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"delete!","delete!",-593410251),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__delete_file);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__force_delete_folder = (function lt$objs$sidebar$workspace$__BEH__force_delete_folder(this$){
lt.objs.files.delete_BANG_.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

lt.util.dom.remove.call(null,lt.object.__GT_content.call(null,this$));

lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"watched.delete","watched.delete",-2013789460),new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

return lt.object.destroy_BANG_.call(null,this$);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","force-delete-folder","lt.objs.sidebar.workspace/force-delete-folder",-974990372),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"force-delete!","force-delete!",-2147117930),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__force_delete_folder);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__delete_folder = (function lt$objs$sidebar$workspace$__BEH__delete_folder(this$){
return lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"header","header",119441134),"Delete this folder?",new cljs.core.Keyword(null,"body","body",-2049205669),["This will delete ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))," from disk and cannot be undone."].join(''),new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Delete folder",new cljs.core.Keyword(null,"action","action",-811238024),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"force-delete!","force-delete!",-2147117930));
})], null),lt.objs.popup.cancel_button], null)], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","delete-folder","lt.objs.sidebar.workspace/delete-folder",-856019611),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"delete!","delete!",-593410251),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__delete_folder);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__new_file_BANG_ = (function lt$objs$sidebar$workspace$__BEH__new_file_BANG_(this$){
var ext = (function (){var temp__5751__auto__ = cljs.core.first.call(null,new cljs.core.Keyword(null,"files","files",-472457450).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
if(cljs.core.truth_(temp__5751__auto__)){
var ffile = temp__5751__auto__;
var temp__5753__auto__ = new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ffile));
if(cljs.core.truth_(temp__5753__auto__)){
var path = temp__5753__auto__;
return lt.objs.files.ext.call(null,path);
} else {
return null;
}
} else {
return "txt";
}
})();
var path = lt.objs.files.join.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),["untitled.",ext].join(''));
var final_path = lt.objs.files.next_available_name.call(null,path);
var folder = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.file","lt.objs.sidebar.workspace/workspace.file",-188628499),final_path);
lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"files","files",-472457450)], null),cljs.core.conj,folder);

lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open?","open?",1238443125),true], null));

lt.objs.files.save.call(null,final_path,"");

lt.object.raise.call(null,lt.objs.opener.opener,new cljs.core.Keyword(null,"open!","open!",1145596908),final_path);

return lt.object.raise.call(null,folder,new cljs.core.Keyword(null,"start-rename!","start-rename!",335884224));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","new-file!","lt.objs.sidebar.workspace/new-file!",496349114),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"new-file!","new-file!",-774606557),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__new_file_BANG_);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__new_folder_BANG_ = (function lt$objs$sidebar$workspace$__BEH__new_folder_BANG_(this$){
var path = lt.objs.files.join.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),"NewFolder");
var final_path = lt.objs.files.next_available_name.call(null,path);
var folder = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.folder","lt.objs.sidebar.workspace/workspace.folder",-483966665),final_path);
lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"folders","folders",44248772)], null),cljs.core.conj,folder);

lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open?","open?",1238443125),true], null));

lt.objs.files.mkdir.call(null,final_path);

return lt.object.raise.call(null,folder,new cljs.core.Keyword(null,"start-rename!","start-rename!",335884224));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","new-folder!","lt.objs.sidebar.workspace/new-folder!",-1497726267),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"new-folder!","new-folder!",-84424674),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__new_folder_BANG_);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__rename_folder = (function lt$objs$sidebar$workspace$__BEH__rename_folder(this$,n){
var path = new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var neue = lt.objs.files.join.call(null,lt.objs.files.parent.call(null,path),n);
if(cljs.core._EQ_.call(null,path,neue)){
return null;
} else {
if(cljs.core.truth_(((cljs.core.not_EQ_.call(null,clojure.string.lower_case.call(null,path),clojure.string.lower_case.call(null,neue)))?lt.objs.files.exists_QMARK_.call(null,neue):false))){
return lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"header","header",119441134),"Folder already exists.",new cljs.core.Keyword(null,"body","body",-2049205669),["The folder ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(neue)," already exists, you'll have to pick a different name."].join(''),new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"ok",new cljs.core.Keyword(null,"post-action","post-action",-542405960),(function (){
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"rename.cancel","rename.cancel",-736696812));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"start-rename!","start-rename!",335884224));
})], null)], null)], null));
} else {
var root_QMARK_ = lt.object.has_tag_QMARK_.call(null,this$,new cljs.core.Keyword(null,"workspace.folder.root","workspace.folder.root",-1531354287));
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"path","path",-188191168),neue,new cljs.core.Keyword(null,"realized?","realized?",-1433302186),false], null));

lt.objs.files.move_BANG_.call(null,path,neue);

lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"refresh!","refresh!",156149341));

var docs_14547 = cljs.core.get_in.call(null,cljs.core.deref.call(null,lt.objs.document.manager),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"files","files",-472457450)], null));
var old_path_14548 = clojure.string.join.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [path,lt.objs.files.separator], null));
var affected_14549 = cljs.core.filter.call(null,(function (x){
return x.startsWith(old_path_14548);
}),cljs.core.keys.call(null,docs_14547));
var seq__14543_14550 = cljs.core.seq.call(null,affected_14549);
var chunk__14544_14551 = null;
var count__14545_14552 = (0);
var i__14546_14553 = (0);
while(true){
if((i__14546_14553 < count__14545_14552)){
var old_fpath_14554 = cljs.core._nth.call(null,chunk__14544_14551,i__14546_14553);
var new_fpath_14555 = clojure.string.replace_first.call(null,old_fpath_14554,path,neue);
lt.objs.document.move_doc.call(null,old_fpath_14554,new_fpath_14555);


var G__14556 = seq__14543_14550;
var G__14557 = chunk__14544_14551;
var G__14558 = count__14545_14552;
var G__14559 = (i__14546_14553 + (1));
seq__14543_14550 = G__14556;
chunk__14544_14551 = G__14557;
count__14545_14552 = G__14558;
i__14546_14553 = G__14559;
continue;
} else {
var temp__5753__auto___14560 = cljs.core.seq.call(null,seq__14543_14550);
if(temp__5753__auto___14560){
var seq__14543_14561__$1 = temp__5753__auto___14560;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14543_14561__$1)){
var c__4591__auto___14562 = cljs.core.chunk_first.call(null,seq__14543_14561__$1);
var G__14563 = cljs.core.chunk_rest.call(null,seq__14543_14561__$1);
var G__14564 = c__4591__auto___14562;
var G__14565 = cljs.core.count.call(null,c__4591__auto___14562);
var G__14566 = (0);
seq__14543_14550 = G__14563;
chunk__14544_14551 = G__14564;
count__14545_14552 = G__14565;
i__14546_14553 = G__14566;
continue;
} else {
var old_fpath_14567 = cljs.core.first.call(null,seq__14543_14561__$1);
var new_fpath_14568 = clojure.string.replace_first.call(null,old_fpath_14567,path,neue);
lt.objs.document.move_doc.call(null,old_fpath_14567,new_fpath_14568);


var G__14569 = cljs.core.next.call(null,seq__14543_14561__$1);
var G__14570 = null;
var G__14571 = (0);
var G__14572 = (0);
seq__14543_14550 = G__14569;
chunk__14544_14551 = G__14570;
count__14545_14552 = G__14571;
i__14546_14553 = G__14572;
continue;
}
} else {
}
}
break;
}

if(cljs.core.truth_(root_QMARK_)){
return lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"rename!","rename!",154389790),path,neue);
} else {
return lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"watched.rename","watched.rename",67923309),path,neue);
}
}
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","rename-folder","lt.objs.sidebar.workspace/rename-folder",576462569),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"rename","rename",1508157613),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__rename_folder);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__rename_file = (function lt$objs$sidebar$workspace$__BEH__rename_file(this$,n){
var path = new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var neue = lt.objs.files.join.call(null,lt.objs.files.parent.call(null,path),n);
if(cljs.core._EQ_.call(null,path,neue)){
return null;
} else {
if(cljs.core.truth_(((cljs.core.not_EQ_.call(null,clojure.string.lower_case.call(null,path),clojure.string.lower_case.call(null,neue)))?lt.objs.files.exists_QMARK_.call(null,neue):false))){
return lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"header","header",119441134),"File already exists.",new cljs.core.Keyword(null,"body","body",-2049205669),["The file",cljs.core.str.cljs$core$IFn$_invoke$arity$1(neue)," already exists, you'll have to pick a different name."].join(''),new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"ok",new cljs.core.Keyword(null,"post-action","post-action",-542405960),(function (){
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"rename.cancel","rename.cancel",-736696812));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"start-rename!","start-rename!",335884224));
})], null)], null)], null));
} else {
if(cljs.core.truth_((function (){var or__4160__auto__ = lt.object.has_tag_QMARK_.call(null,this$,new cljs.core.Keyword(null,"workspace.folder.root","workspace.folder.root",-1531354287));
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return lt.object.has_tag_QMARK_.call(null,this$,new cljs.core.Keyword(null,"workspace.file.root","workspace.file.root",-569371600));
}
})())){
lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"rename!","rename!",154389790),path,neue);
} else {
lt.object.raise.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"watched.rename","watched.rename",67923309),path,neue);
}

lt.objs.files.move_BANG_.call(null,path,neue);

return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"path","path",-188191168),neue], null));
}
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","rename-file","lt.objs.sidebar.workspace/rename-file",1852139957),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"rename","rename",1508157613),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__rename_file);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__start_rename = (function lt$objs$sidebar$workspace$__BEH__start_rename(this$){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"renaming?","renaming?",-692692442),true], null));

var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",556931961),lt.object.__GT_content.call(null,this$));
var len = cljs.core.count.call(null,lt.objs.files.without_ext.call(null,lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))));
var width = lt.util.dom.scroll_width.call(null,lt.util.dom.parent.call(null,input));
lt.util.dom.css.call(null,input,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),width], null));

lt.util.dom.focus.call(null,input);

return lt.util.dom.selection.call(null,input,(0),len,"forward");
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","start-rename","lt.objs.sidebar.workspace/start-rename",-1753183029),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"start-rename!","start-rename!",335884224),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__start_rename);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__rename_focus = (function lt$objs$sidebar$workspace$__BEH__rename_focus(this$){
return lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"tree.rename","tree.rename",1886094939),this$);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","rename-focus","lt.objs.sidebar.workspace/rename-focus",90440283),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"rename.focus","rename.focus",1177600987),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__rename_focus);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__rename_submit = (function lt$objs$sidebar$workspace$__BEH__rename_submit(this$){
var val = lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",556931961),lt.object.__GT_content.call(null,this$)));
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"renaming?","renaming?",-692692442),false], null));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"rename","rename",1508157613),val);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","rename-submit","lt.objs.sidebar.workspace/rename-submit",997611384),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"rename.submit!","rename.submit!",834323059),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__rename_submit);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__rename_blur = (function lt$objs$sidebar$workspace$__BEH__rename_blur(this$){
lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"tree.rename","tree.rename",1886094939));

if(cljs.core.truth_(new cljs.core.Keyword(null,"renaming?","renaming?",-692692442).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"rename.submit!","rename.submit!",834323059));
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","rename-blur","lt.objs.sidebar.workspace/rename-blur",-2103106290),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"rename.blur","rename.blur",-1821157150),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__rename_blur);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__rename_cancel = (function lt$objs$sidebar$workspace$__BEH__rename_cancel(this$){
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"renaming?","renaming?",-692692442),false], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","rename-cancel","lt.objs.sidebar.workspace/rename-cancel",819573265),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"rename.cancel!","rename.cancel!",-1845937529),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__rename_cancel);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__duplicate = (function lt$objs$sidebar$workspace$__BEH__duplicate(this$){
var base_name = lt.objs.files.without_ext.call(null,lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
var new_name = [cljs.core.str.cljs$core$IFn$_invoke$arity$1(base_name)," copy.",lt.objs.files.ext.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))].join('');
var new_path = lt.objs.files.join.call(null,lt.objs.files.parent.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new_name);
return lt.objs.files.copy.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new_path);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","duplicate","lt.objs.sidebar.workspace/duplicate",1178310165),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"duplicate!","duplicate!",-1916156478),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__duplicate);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__destroy_sub_tree = (function lt$objs$sidebar$workspace$__BEH__destroy_sub_tree(this$){
var seq__14573 = cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.Keyword(null,"files","files",-472457450).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"folders","folders",44248772).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
var chunk__14574 = null;
var count__14575 = (0);
var i__14576 = (0);
while(true){
if((i__14576 < count__14575)){
var f = cljs.core._nth.call(null,chunk__14574,i__14576);
lt.object.destroy_BANG_.call(null,f);


var G__14577 = seq__14573;
var G__14578 = chunk__14574;
var G__14579 = count__14575;
var G__14580 = (i__14576 + (1));
seq__14573 = G__14577;
chunk__14574 = G__14578;
count__14575 = G__14579;
i__14576 = G__14580;
continue;
} else {
var temp__5753__auto__ = cljs.core.seq.call(null,seq__14573);
if(temp__5753__auto__){
var seq__14573__$1 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14573__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__14573__$1);
var G__14581 = cljs.core.chunk_rest.call(null,seq__14573__$1);
var G__14582 = c__4591__auto__;
var G__14583 = cljs.core.count.call(null,c__4591__auto__);
var G__14584 = (0);
seq__14573 = G__14581;
chunk__14574 = G__14582;
count__14575 = G__14583;
i__14576 = G__14584;
continue;
} else {
var f = cljs.core.first.call(null,seq__14573__$1);
lt.object.destroy_BANG_.call(null,f);


var G__14585 = cljs.core.next.call(null,seq__14573__$1);
var G__14586 = null;
var G__14587 = (0);
var G__14588 = (0);
seq__14573 = G__14585;
chunk__14574 = G__14586;
count__14575 = G__14587;
i__14576 = G__14588;
continue;
}
} else {
return null;
}
}
break;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","destroy-sub-tree","lt.objs.sidebar.workspace/destroy-sub-tree",-2037994020),new cljs.core.Keyword(null,"trigger","trigger",103466139),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"destroy","destroy",-843660405),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__destroy_sub_tree);
/**
 * 
 */
lt.objs.sidebar.workspace.file_toggle = (function lt$objs$sidebar$workspace$file_toggle(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),singultus.binding.bound.call(null,this$,(function (){
return lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
}))], null));
var seq__14589_14605 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contextmenu","contextmenu",-15887481),((function (e__992__auto__){
return (function (e){
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),e);

lt.util.dom.prevent.call(null,e);

return lt.util.dom.stop_propagation.call(null,e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"dblclick","dblclick",-1821330376),((function (e__992__auto__){
return (function (e){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"dblopen!","dblopen!",-1938022001));
});})(e__992__auto__))
,new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (e){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"open!","open!",1145596908));
});})(e__992__auto__))
], null)));
var chunk__14590_14606 = null;
var count__14591_14607 = (0);
var i__14592_14608 = (0);
while(true){
if((i__14592_14608 < count__14591_14607)){
var vec__14599_14609 = cljs.core._nth.call(null,chunk__14590_14606,i__14592_14608);
var ev__993__auto___14610 = cljs.core.nth.call(null,vec__14599_14609,(0),null);
var func__994__auto___14611 = cljs.core.nth.call(null,vec__14599_14609,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14610,func__994__auto___14611);


var G__14612 = seq__14589_14605;
var G__14613 = chunk__14590_14606;
var G__14614 = count__14591_14607;
var G__14615 = (i__14592_14608 + (1));
seq__14589_14605 = G__14612;
chunk__14590_14606 = G__14613;
count__14591_14607 = G__14614;
i__14592_14608 = G__14615;
continue;
} else {
var temp__5753__auto___14616 = cljs.core.seq.call(null,seq__14589_14605);
if(temp__5753__auto___14616){
var seq__14589_14617__$1 = temp__5753__auto___14616;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14589_14617__$1)){
var c__4591__auto___14618 = cljs.core.chunk_first.call(null,seq__14589_14617__$1);
var G__14619 = cljs.core.chunk_rest.call(null,seq__14589_14617__$1);
var G__14620 = c__4591__auto___14618;
var G__14621 = cljs.core.count.call(null,c__4591__auto___14618);
var G__14622 = (0);
seq__14589_14605 = G__14619;
chunk__14590_14606 = G__14620;
count__14591_14607 = G__14621;
i__14592_14608 = G__14622;
continue;
} else {
var vec__14602_14623 = cljs.core.first.call(null,seq__14589_14617__$1);
var ev__993__auto___14624 = cljs.core.nth.call(null,vec__14602_14623,(0),null);
var func__994__auto___14625 = cljs.core.nth.call(null,vec__14602_14623,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14624,func__994__auto___14625);


var G__14626 = cljs.core.next.call(null,seq__14589_14617__$1);
var G__14627 = null;
var G__14628 = (0);
var G__14629 = (0);
seq__14589_14605 = G__14626;
chunk__14590_14606 = G__14627;
count__14591_14607 = G__14628;
i__14592_14608 = G__14629;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.workspace.folder_toggle = (function lt$objs$sidebar$workspace$folder_toggle(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.folder","p.folder",488856541),singultus.binding.bound.call(null,this$,(function (){
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))),cljs.core.str.cljs$core$IFn$_invoke$arity$1(lt.objs.files.separator)].join('');
}))], null));
var seq__14630_14646 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contextmenu","contextmenu",-15887481),((function (e__992__auto__){
return (function (e){
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),e);

lt.util.dom.prevent.call(null,e);

return lt.util.dom.stop_propagation.call(null,e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
if(cljs.core.not.call(null,new cljs.core.Keyword(null,"open?","open?",1238443125).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"open!","open!",1145596908));
} else {
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"close!","close!",-2079310498));
}
});})(e__992__auto__))
], null)));
var chunk__14631_14647 = null;
var count__14632_14648 = (0);
var i__14633_14649 = (0);
while(true){
if((i__14633_14649 < count__14632_14648)){
var vec__14640_14650 = cljs.core._nth.call(null,chunk__14631_14647,i__14633_14649);
var ev__993__auto___14651 = cljs.core.nth.call(null,vec__14640_14650,(0),null);
var func__994__auto___14652 = cljs.core.nth.call(null,vec__14640_14650,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14651,func__994__auto___14652);


var G__14653 = seq__14630_14646;
var G__14654 = chunk__14631_14647;
var G__14655 = count__14632_14648;
var G__14656 = (i__14633_14649 + (1));
seq__14630_14646 = G__14653;
chunk__14631_14647 = G__14654;
count__14632_14648 = G__14655;
i__14633_14649 = G__14656;
continue;
} else {
var temp__5753__auto___14657 = cljs.core.seq.call(null,seq__14630_14646);
if(temp__5753__auto___14657){
var seq__14630_14658__$1 = temp__5753__auto___14657;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14630_14658__$1)){
var c__4591__auto___14659 = cljs.core.chunk_first.call(null,seq__14630_14658__$1);
var G__14660 = cljs.core.chunk_rest.call(null,seq__14630_14658__$1);
var G__14661 = c__4591__auto___14659;
var G__14662 = cljs.core.count.call(null,c__4591__auto___14659);
var G__14663 = (0);
seq__14630_14646 = G__14660;
chunk__14631_14647 = G__14661;
count__14632_14648 = G__14662;
i__14633_14649 = G__14663;
continue;
} else {
var vec__14643_14664 = cljs.core.first.call(null,seq__14630_14658__$1);
var ev__993__auto___14665 = cljs.core.nth.call(null,vec__14643_14664,(0),null);
var func__994__auto___14666 = cljs.core.nth.call(null,vec__14643_14664,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14665,func__994__auto___14666);


var G__14667 = cljs.core.next.call(null,seq__14630_14658__$1);
var G__14668 = null;
var G__14669 = (0);
var G__14670 = (0);
seq__14630_14646 = G__14667;
chunk__14631_14647 = G__14668;
count__14632_14648 = G__14669;
i__14633_14649 = G__14670;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.workspace.sub_folders = (function lt$objs$sidebar$workspace$sub_folders(p__14673){
var map__14674 = p__14673;
var map__14674__$1 = cljs.core.__destructure_map.call(null,map__14674);
var folders = cljs.core.get.call(null,map__14674__$1,new cljs.core.Keyword(null,"folders","folders",44248772));
var files = cljs.core.get.call(null,map__14674__$1,new cljs.core.Keyword(null,"files","files",-472457450));
var open_QMARK_ = cljs.core.get.call(null,map__14674__$1,new cljs.core.Keyword(null,"open?","open?",1238443125));
var path = cljs.core.get.call(null,map__14674__$1,new cljs.core.Keyword(null,"path","path",-188191168));
var root_QMARK_ = cljs.core.get.call(null,map__14674__$1,new cljs.core.Keyword(null,"root?","root?",-2045639518));
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),[(cljs.core.truth_(root_QMARK_)?null:"sub "),(cljs.core.truth_(open_QMARK_)?"opened":null)].join('')], null),(function (){var iter__4564__auto__ = (function lt$objs$sidebar$workspace$sub_folders_$_iter__14675(s__14676){
return (new cljs.core.LazySeq(null,(function (){
var s__14676__$1 = s__14676;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__14676__$1);
if(temp__5753__auto__){
var s__14676__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__14676__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__14676__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__14678 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__14677 = (0);
while(true){
if((i__14677 < size__4563__auto__)){
var f = cljs.core._nth.call(null,c__4562__auto__,i__14677);
cljs.core.chunk_append.call(null,b__14678,lt.object.__GT_content.call(null,f));

var G__14699 = (i__14677 + (1));
i__14677 = G__14699;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14678),lt$objs$sidebar$workspace$sub_folders_$_iter__14675.call(null,cljs.core.chunk_rest.call(null,s__14676__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14678),null);
}
} else {
var f = cljs.core.first.call(null,s__14676__$2);
return cljs.core.cons.call(null,lt.object.__GT_content.call(null,f),lt$objs$sidebar$workspace$sub_folders_$_iter__14675.call(null,cljs.core.rest.call(null,s__14676__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,cljs.core.sort_by.call(null,(function (p1__14671_SHARP_){
return clojure.string.lower_case.call(null,lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,p1__14671_SHARP_))));
}),folders));
})(),(function (){var iter__4564__auto__ = (function lt$objs$sidebar$workspace$sub_folders_$_iter__14679(s__14680){
return (new cljs.core.LazySeq(null,(function (){
var s__14680__$1 = s__14680;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__14680__$1);
if(temp__5753__auto__){
var s__14680__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__14680__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__14680__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__14682 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__14681 = (0);
while(true){
if((i__14681 < size__4563__auto__)){
var f = cljs.core._nth.call(null,c__4562__auto__,i__14681);
cljs.core.chunk_append.call(null,b__14682,lt.object.__GT_content.call(null,f));

var G__14700 = (i__14681 + (1));
i__14681 = G__14700;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14682),lt$objs$sidebar$workspace$sub_folders_$_iter__14679.call(null,cljs.core.chunk_rest.call(null,s__14680__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14682),null);
}
} else {
var f = cljs.core.first.call(null,s__14680__$2);
return cljs.core.cons.call(null,lt.object.__GT_content.call(null,f),lt$objs$sidebar$workspace$sub_folders_$_iter__14679.call(null,cljs.core.rest.call(null,s__14680__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,cljs.core.sort_by.call(null,(function (p1__14672_SHARP_){
return clojure.string.lower_case.call(null,lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,p1__14672_SHARP_))));
}),files));
})()], null));
var seq__14683_14701 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__14684_14702 = null;
var count__14685_14703 = (0);
var i__14686_14704 = (0);
while(true){
if((i__14686_14704 < count__14685_14703)){
var vec__14693_14705 = cljs.core._nth.call(null,chunk__14684_14702,i__14686_14704);
var ev__993__auto___14706 = cljs.core.nth.call(null,vec__14693_14705,(0),null);
var func__994__auto___14707 = cljs.core.nth.call(null,vec__14693_14705,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14706,func__994__auto___14707);


var G__14708 = seq__14683_14701;
var G__14709 = chunk__14684_14702;
var G__14710 = count__14685_14703;
var G__14711 = (i__14686_14704 + (1));
seq__14683_14701 = G__14708;
chunk__14684_14702 = G__14709;
count__14685_14703 = G__14710;
i__14686_14704 = G__14711;
continue;
} else {
var temp__5753__auto___14712 = cljs.core.seq.call(null,seq__14683_14701);
if(temp__5753__auto___14712){
var seq__14683_14713__$1 = temp__5753__auto___14712;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14683_14713__$1)){
var c__4591__auto___14714 = cljs.core.chunk_first.call(null,seq__14683_14713__$1);
var G__14715 = cljs.core.chunk_rest.call(null,seq__14683_14713__$1);
var G__14716 = c__4591__auto___14714;
var G__14717 = cljs.core.count.call(null,c__4591__auto___14714);
var G__14718 = (0);
seq__14683_14701 = G__14715;
chunk__14684_14702 = G__14716;
count__14685_14703 = G__14717;
i__14686_14704 = G__14718;
continue;
} else {
var vec__14696_14719 = cljs.core.first.call(null,seq__14683_14713__$1);
var ev__993__auto___14720 = cljs.core.nth.call(null,vec__14696_14719,(0),null);
var func__994__auto___14721 = cljs.core.nth.call(null,vec__14696_14719,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14720,func__994__auto___14721);


var G__14722 = cljs.core.next.call(null,seq__14683_14713__$1);
var G__14723 = null;
var G__14724 = (0);
var G__14725 = (0);
seq__14683_14701 = G__14722;
chunk__14684_14702 = G__14723;
count__14685_14703 = G__14724;
i__14686_14704 = G__14725;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.workspace.rename_input = (function lt$objs$sidebar$workspace$rename_input(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.rename","input.rename",156258344),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"value","value",305978217),lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))], null)], null));
var seq__14726_14742 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",234677911),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"rename.focus","rename.focus",1177600987));
});})(e__992__auto__))
,new cljs.core.Keyword(null,"blur","blur",-453500461),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"rename.blur","rename.blur",-1821157150));
});})(e__992__auto__))
], null)));
var chunk__14727_14743 = null;
var count__14728_14744 = (0);
var i__14729_14745 = (0);
while(true){
if((i__14729_14745 < count__14728_14744)){
var vec__14736_14746 = cljs.core._nth.call(null,chunk__14727_14743,i__14729_14745);
var ev__993__auto___14747 = cljs.core.nth.call(null,vec__14736_14746,(0),null);
var func__994__auto___14748 = cljs.core.nth.call(null,vec__14736_14746,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14747,func__994__auto___14748);


var G__14749 = seq__14726_14742;
var G__14750 = chunk__14727_14743;
var G__14751 = count__14728_14744;
var G__14752 = (i__14729_14745 + (1));
seq__14726_14742 = G__14749;
chunk__14727_14743 = G__14750;
count__14728_14744 = G__14751;
i__14729_14745 = G__14752;
continue;
} else {
var temp__5753__auto___14753 = cljs.core.seq.call(null,seq__14726_14742);
if(temp__5753__auto___14753){
var seq__14726_14754__$1 = temp__5753__auto___14753;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14726_14754__$1)){
var c__4591__auto___14755 = cljs.core.chunk_first.call(null,seq__14726_14754__$1);
var G__14756 = cljs.core.chunk_rest.call(null,seq__14726_14754__$1);
var G__14757 = c__4591__auto___14755;
var G__14758 = cljs.core.count.call(null,c__4591__auto___14755);
var G__14759 = (0);
seq__14726_14742 = G__14756;
chunk__14727_14743 = G__14757;
count__14728_14744 = G__14758;
i__14729_14745 = G__14759;
continue;
} else {
var vec__14739_14760 = cljs.core.first.call(null,seq__14726_14754__$1);
var ev__993__auto___14761 = cljs.core.nth.call(null,vec__14739_14760,(0),null);
var func__994__auto___14762 = cljs.core.nth.call(null,vec__14739_14760,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14761,func__994__auto___14762);


var G__14763 = cljs.core.next.call(null,seq__14726_14754__$1);
var G__14764 = null;
var G__14765 = (0);
var G__14766 = (0);
seq__14726_14742 = G__14763;
chunk__14727_14743 = G__14764;
count__14728_14744 = G__14765;
i__14729_14745 = G__14766;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.objs.sidebar.workspace.renameable = (function lt$objs$sidebar$workspace$renameable(this$,cur,content){
if(cljs.core.truth_(cur)){
return lt.objs.sidebar.workspace.rename_input.call(null,this$);
} else {
return content;
}
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.file","lt.objs.sidebar.workspace/workspace.file",-188628499),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"tree-item","tree-item",1467250318),null,new cljs.core.Keyword(null,"workspace.file","workspace.file",-1996295850),null], null), null),new cljs.core.Keyword(null,"path","path",-188191168),"",new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$,path){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"path","path",-188191168),path], null));

return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,this$,(function (p1__14767_SHARP_){
if(cljs.core.truth_(new cljs.core.Keyword(null,"renaming?","renaming?",-692692442).cljs$core$IFn$_invoke$arity$1(p1__14767_SHARP_))){
return "renaming";
} else {
return "";
}
}))], null),lt.objs.sidebar.workspace.rename_input.call(null,this$),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tree-item","div.tree-item",464397449),lt.objs.sidebar.workspace.file_toggle.call(null,this$)], null)], null);
}));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.folder","lt.objs.sidebar.workspace/workspace.folder",-483966665),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"workspace.folder","workspace.folder",644219274),null,new cljs.core.Keyword(null,"tree-item","tree-item",1467250318),null], null), null),new cljs.core.Keyword(null,"path","path",-188191168),"",new cljs.core.Keyword(null,"open?","open?",1238443125),false,new cljs.core.Keyword(null,"realized?","realized?",-1433302186),false,new cljs.core.Keyword(null,"folders","folders",44248772),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"files","files",-472457450),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$,path){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"path","path",-188191168),path], null));

return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,this$,(function (p1__14768_SHARP_){
if(cljs.core.truth_(new cljs.core.Keyword(null,"renaming?","renaming?",-692692442).cljs$core$IFn$_invoke$arity$1(p1__14768_SHARP_))){
return "renaming";
} else {
return "";
}
}))], null),lt.objs.sidebar.workspace.rename_input.call(null,this$),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tree-item","div.tree-item",464397449),(cljs.core.truth_(path)?lt.objs.sidebar.workspace.folder_toggle.call(null,this$):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),singultus.binding.bound.call(null,this$,lt.objs.sidebar.workspace.sub_folders)], null)], null)], null);
}));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.root","lt.objs.sidebar.workspace/workspace.root",1601669621),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"workspace.root","workspace.root",-1145517492),null], null), null),new cljs.core.Keyword(null,"root?","root?",-2045639518),true,new cljs.core.Keyword(null,"open-dirs","open-dirs",-20403535),cljs.core.PersistentHashSet.EMPTY,new cljs.core.Keyword(null,"files","files",-472457450),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"folders","folders",44248772),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"open?","open?",1238443125),true,new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tree-root","div.tree-root",729450401),singultus.binding.bound.call(null,this$,lt.objs.sidebar.workspace.sub_folders)], null);
}));
lt.objs.sidebar.workspace.tree = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.root","lt.objs.sidebar.workspace/workspace.root",1601669621));
/**
 * 
 */
lt.objs.sidebar.workspace.input = (function lt$objs$sidebar$workspace$input(type,event){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.Keyword(null,"type","type",1174270348),"file",type,true,new cljs.core.Keyword(null,"style","style",-496642736),"display:none;"])], null));
var seq__14769_14785 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"change","change",-1163046502),((function (e__992__auto__){
return (function (){
var me = this;
if(cljs.core.empty_QMARK_.call(null,lt.util.dom.val.call(null,me))){
return null;
} else {
return lt.object.raise.call(null,lt.objs.sidebar.workspace.tree,event,lt.util.dom.val.call(null,me));
}
});})(e__992__auto__))
], null)));
var chunk__14770_14786 = null;
var count__14771_14787 = (0);
var i__14772_14788 = (0);
while(true){
if((i__14772_14788 < count__14771_14787)){
var vec__14779_14789 = cljs.core._nth.call(null,chunk__14770_14786,i__14772_14788);
var ev__993__auto___14790 = cljs.core.nth.call(null,vec__14779_14789,(0),null);
var func__994__auto___14791 = cljs.core.nth.call(null,vec__14779_14789,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14790,func__994__auto___14791);


var G__14792 = seq__14769_14785;
var G__14793 = chunk__14770_14786;
var G__14794 = count__14771_14787;
var G__14795 = (i__14772_14788 + (1));
seq__14769_14785 = G__14792;
chunk__14770_14786 = G__14793;
count__14771_14787 = G__14794;
i__14772_14788 = G__14795;
continue;
} else {
var temp__5753__auto___14796 = cljs.core.seq.call(null,seq__14769_14785);
if(temp__5753__auto___14796){
var seq__14769_14797__$1 = temp__5753__auto___14796;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14769_14797__$1)){
var c__4591__auto___14798 = cljs.core.chunk_first.call(null,seq__14769_14797__$1);
var G__14799 = cljs.core.chunk_rest.call(null,seq__14769_14797__$1);
var G__14800 = c__4591__auto___14798;
var G__14801 = cljs.core.count.call(null,c__4591__auto___14798);
var G__14802 = (0);
seq__14769_14785 = G__14799;
chunk__14770_14786 = G__14800;
count__14771_14787 = G__14801;
i__14772_14788 = G__14802;
continue;
} else {
var vec__14782_14803 = cljs.core.first.call(null,seq__14769_14797__$1);
var ev__993__auto___14804 = cljs.core.nth.call(null,vec__14782_14803,(0),null);
var func__994__auto___14805 = cljs.core.nth.call(null,vec__14782_14803,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14804,func__994__auto___14805);


var G__14806 = cljs.core.next.call(null,seq__14769_14797__$1);
var G__14807 = null;
var G__14808 = (0);
var G__14809 = (0);
seq__14769_14785 = G__14806;
chunk__14770_14786 = G__14807;
count__14771_14787 = G__14808;
i__14772_14788 = G__14809;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.objs.sidebar.workspace.open_folder = (function lt$objs$sidebar$workspace$open_folder(){
return lt.objs.dialogs.dir.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.Keyword(null,"workspace.add.folder!","workspace.add.folder!",-291748281));
});
lt.objs.sidebar.workspace.open_file = (function lt$objs$sidebar$workspace$open_file(){
return lt.objs.dialogs.file.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.Keyword(null,"workspace.add.file!","workspace.add.file!",-382028482));
});
/**
 * 
 */
lt.objs.sidebar.workspace.button = (function lt$objs$sidebar$workspace$button(name,action){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),name], null));
var seq__14810_14826 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),action], null)));
var chunk__14811_14827 = null;
var count__14812_14828 = (0);
var i__14813_14829 = (0);
while(true){
if((i__14813_14829 < count__14812_14828)){
var vec__14820_14830 = cljs.core._nth.call(null,chunk__14811_14827,i__14813_14829);
var ev__993__auto___14831 = cljs.core.nth.call(null,vec__14820_14830,(0),null);
var func__994__auto___14832 = cljs.core.nth.call(null,vec__14820_14830,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14831,func__994__auto___14832);


var G__14833 = seq__14810_14826;
var G__14834 = chunk__14811_14827;
var G__14835 = count__14812_14828;
var G__14836 = (i__14813_14829 + (1));
seq__14810_14826 = G__14833;
chunk__14811_14827 = G__14834;
count__14812_14828 = G__14835;
i__14813_14829 = G__14836;
continue;
} else {
var temp__5753__auto___14837 = cljs.core.seq.call(null,seq__14810_14826);
if(temp__5753__auto___14837){
var seq__14810_14838__$1 = temp__5753__auto___14837;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14810_14838__$1)){
var c__4591__auto___14839 = cljs.core.chunk_first.call(null,seq__14810_14838__$1);
var G__14840 = cljs.core.chunk_rest.call(null,seq__14810_14838__$1);
var G__14841 = c__4591__auto___14839;
var G__14842 = cljs.core.count.call(null,c__4591__auto___14839);
var G__14843 = (0);
seq__14810_14826 = G__14840;
chunk__14811_14827 = G__14841;
count__14812_14828 = G__14842;
i__14813_14829 = G__14843;
continue;
} else {
var vec__14823_14844 = cljs.core.first.call(null,seq__14810_14838__$1);
var ev__993__auto___14845 = cljs.core.nth.call(null,vec__14823_14844,(0),null);
var func__994__auto___14846 = cljs.core.nth.call(null,vec__14823_14844,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14845,func__994__auto___14846);


var G__14847 = cljs.core.next.call(null,seq__14810_14838__$1);
var G__14848 = null;
var G__14849 = (0);
var G__14850 = (0);
seq__14810_14826 = G__14847;
chunk__14811_14827 = G__14848;
count__14812_14828 = G__14849;
i__14813_14829 = G__14850;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.objs.sidebar.workspace.recent = (function lt$objs$sidebar$workspace$recent(this$){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"recent!","recent!",-1515777611));
});
/**
 * 
 */
lt.objs.sidebar.workspace.recents_item = (function lt$objs$sidebar$workspace$recents_item(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.folders","ul.folders",-1463452329),(function (){var iter__4564__auto__ = (function lt$objs$sidebar$workspace$recents_item_$_iter__14851(s__14852){
return (new cljs.core.LazySeq(null,(function (){
var s__14852__$1 = s__14852;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__14852__$1);
if(temp__5753__auto__){
var s__14852__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__14852__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__14852__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__14854 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__14853 = (0);
while(true){
if((i__14853 < size__4563__auto__)){
var f = cljs.core._nth.call(null,c__4562__auto__,i__14853);
cljs.core.chunk_append.call(null,b__14854,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),lt.objs.files.basename.call(null,f),lt.objs.files.separator], null));

var G__14875 = (i__14853 + (1));
i__14853 = G__14875;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14854),lt$objs$sidebar$workspace$recents_item_$_iter__14851.call(null,cljs.core.chunk_rest.call(null,s__14852__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14854),null);
}
} else {
var f = cljs.core.first.call(null,s__14852__$2);
return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),lt.objs.files.basename.call(null,f),lt.objs.files.separator], null),lt$objs$sidebar$workspace$recents_item_$_iter__14851.call(null,cljs.core.rest.call(null,s__14852__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,new cljs.core.Keyword(null,"folders","folders",44248772).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
})()], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.files","ul.files",1940783393),(function (){var iter__4564__auto__ = (function lt$objs$sidebar$workspace$recents_item_$_iter__14855(s__14856){
return (new cljs.core.LazySeq(null,(function (){
var s__14856__$1 = s__14856;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__14856__$1);
if(temp__5753__auto__){
var s__14856__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__14856__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__14856__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__14858 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__14857 = (0);
while(true){
if((i__14857 < size__4563__auto__)){
var f = cljs.core._nth.call(null,c__4562__auto__,i__14857);
cljs.core.chunk_append.call(null,b__14858,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),lt.objs.files.basename.call(null,f)], null));

var G__14876 = (i__14857 + (1));
i__14857 = G__14876;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14858),lt$objs$sidebar$workspace$recents_item_$_iter__14855.call(null,cljs.core.chunk_rest.call(null,s__14856__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14858),null);
}
} else {
var f = cljs.core.first.call(null,s__14856__$2);
return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),lt.objs.files.basename.call(null,f)], null),lt$objs$sidebar$workspace$recents_item_$_iter__14855.call(null,cljs.core.rest.call(null,s__14856__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,new cljs.core.Keyword(null,"files","files",-472457450).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
})()], null)], null));
var seq__14859_14877 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contextmenu","contextmenu",-15887481),((function (e__992__auto__){
return (function (e){
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),e);

lt.util.dom.prevent.call(null,e);

return lt.util.dom.stop_propagation.call(null,e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"select!","select!",1013647471));
});})(e__992__auto__))
], null)));
var chunk__14860_14878 = null;
var count__14861_14879 = (0);
var i__14862_14880 = (0);
while(true){
if((i__14862_14880 < count__14861_14879)){
var vec__14869_14881 = cljs.core._nth.call(null,chunk__14860_14878,i__14862_14880);
var ev__993__auto___14882 = cljs.core.nth.call(null,vec__14869_14881,(0),null);
var func__994__auto___14883 = cljs.core.nth.call(null,vec__14869_14881,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14882,func__994__auto___14883);


var G__14884 = seq__14859_14877;
var G__14885 = chunk__14860_14878;
var G__14886 = count__14861_14879;
var G__14887 = (i__14862_14880 + (1));
seq__14859_14877 = G__14884;
chunk__14860_14878 = G__14885;
count__14861_14879 = G__14886;
i__14862_14880 = G__14887;
continue;
} else {
var temp__5753__auto___14888 = cljs.core.seq.call(null,seq__14859_14877);
if(temp__5753__auto___14888){
var seq__14859_14889__$1 = temp__5753__auto___14888;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14859_14889__$1)){
var c__4591__auto___14890 = cljs.core.chunk_first.call(null,seq__14859_14889__$1);
var G__14891 = cljs.core.chunk_rest.call(null,seq__14859_14889__$1);
var G__14892 = c__4591__auto___14890;
var G__14893 = cljs.core.count.call(null,c__4591__auto___14890);
var G__14894 = (0);
seq__14859_14877 = G__14891;
chunk__14860_14878 = G__14892;
count__14861_14879 = G__14893;
i__14862_14880 = G__14894;
continue;
} else {
var vec__14872_14895 = cljs.core.first.call(null,seq__14859_14889__$1);
var ev__993__auto___14896 = cljs.core.nth.call(null,vec__14872_14895,(0),null);
var func__994__auto___14897 = cljs.core.nth.call(null,vec__14872_14895,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14896,func__994__auto___14897);


var G__14898 = cljs.core.next.call(null,seq__14859_14889__$1);
var G__14899 = null;
var G__14900 = (0);
var G__14901 = (0);
seq__14859_14877 = G__14898;
chunk__14860_14878 = G__14899;
count__14861_14879 = G__14900;
i__14862_14880 = G__14901;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.workspace.back_button = (function lt$objs$sidebar$workspace$back_button(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),"Select a workspace"], null));
var seq__14902_14918 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"tree!","tree!",-1706577853));
});})(e__992__auto__))
], null)));
var chunk__14903_14919 = null;
var count__14904_14920 = (0);
var i__14905_14921 = (0);
while(true){
if((i__14905_14921 < count__14904_14920)){
var vec__14912_14922 = cljs.core._nth.call(null,chunk__14903_14919,i__14905_14921);
var ev__993__auto___14923 = cljs.core.nth.call(null,vec__14912_14922,(0),null);
var func__994__auto___14924 = cljs.core.nth.call(null,vec__14912_14922,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14923,func__994__auto___14924);


var G__14925 = seq__14902_14918;
var G__14926 = chunk__14903_14919;
var G__14927 = count__14904_14920;
var G__14928 = (i__14905_14921 + (1));
seq__14902_14918 = G__14925;
chunk__14903_14919 = G__14926;
count__14904_14920 = G__14927;
i__14905_14921 = G__14928;
continue;
} else {
var temp__5753__auto___14929 = cljs.core.seq.call(null,seq__14902_14918);
if(temp__5753__auto___14929){
var seq__14902_14930__$1 = temp__5753__auto___14929;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14902_14930__$1)){
var c__4591__auto___14931 = cljs.core.chunk_first.call(null,seq__14902_14930__$1);
var G__14932 = cljs.core.chunk_rest.call(null,seq__14902_14930__$1);
var G__14933 = c__4591__auto___14931;
var G__14934 = cljs.core.count.call(null,c__4591__auto___14931);
var G__14935 = (0);
seq__14902_14918 = G__14932;
chunk__14903_14919 = G__14933;
count__14904_14920 = G__14934;
i__14905_14921 = G__14935;
continue;
} else {
var vec__14915_14936 = cljs.core.first.call(null,seq__14902_14930__$1);
var ev__993__auto___14937 = cljs.core.nth.call(null,vec__14915_14936,(0),null);
var func__994__auto___14938 = cljs.core.nth.call(null,vec__14915_14936,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14937,func__994__auto___14938);


var G__14939 = cljs.core.next.call(null,seq__14902_14930__$1);
var G__14940 = null;
var G__14941 = (0);
var G__14942 = (0);
seq__14902_14918 = G__14939;
chunk__14903_14919 = G__14940;
count__14904_14920 = G__14941;
i__14905_14921 = G__14942;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.workspace.recents = (function lt$objs$sidebar$workspace$recents(this$,rs){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),lt.objs.sidebar.workspace.back_button.call(null,this$),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),(function (){var iter__4564__auto__ = (function lt$objs$sidebar$workspace$recents_$_iter__14943(s__14944){
return (new cljs.core.LazySeq(null,(function (){
var s__14944__$1 = s__14944;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__14944__$1);
if(temp__5753__auto__){
var s__14944__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__14944__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__14944__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__14946 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__14945 = (0);
while(true){
if((i__14945 < size__4563__auto__)){
var r = cljs.core._nth.call(null,c__4562__auto__,i__14945);
cljs.core.chunk_append.call(null,b__14946,lt.object.__GT_content.call(null,r));

var G__14963 = (i__14945 + (1));
i__14945 = G__14963;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14946),lt$objs$sidebar$workspace$recents_$_iter__14943.call(null,cljs.core.chunk_rest.call(null,s__14944__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__14946),null);
}
} else {
var r = cljs.core.first.call(null,s__14944__$2);
return cljs.core.cons.call(null,lt.object.__GT_content.call(null,r),lt$objs$sidebar$workspace$recents_$_iter__14943.call(null,cljs.core.rest.call(null,s__14944__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,rs);
})()], null)], null));
var seq__14947_14964 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__14948_14965 = null;
var count__14949_14966 = (0);
var i__14950_14967 = (0);
while(true){
if((i__14950_14967 < count__14949_14966)){
var vec__14957_14968 = cljs.core._nth.call(null,chunk__14948_14965,i__14950_14967);
var ev__993__auto___14969 = cljs.core.nth.call(null,vec__14957_14968,(0),null);
var func__994__auto___14970 = cljs.core.nth.call(null,vec__14957_14968,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14969,func__994__auto___14970);


var G__14971 = seq__14947_14964;
var G__14972 = chunk__14948_14965;
var G__14973 = count__14949_14966;
var G__14974 = (i__14950_14967 + (1));
seq__14947_14964 = G__14971;
chunk__14948_14965 = G__14972;
count__14949_14966 = G__14973;
i__14950_14967 = G__14974;
continue;
} else {
var temp__5753__auto___14975 = cljs.core.seq.call(null,seq__14947_14964);
if(temp__5753__auto___14975){
var seq__14947_14976__$1 = temp__5753__auto___14975;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14947_14976__$1)){
var c__4591__auto___14977 = cljs.core.chunk_first.call(null,seq__14947_14976__$1);
var G__14978 = cljs.core.chunk_rest.call(null,seq__14947_14976__$1);
var G__14979 = c__4591__auto___14977;
var G__14980 = cljs.core.count.call(null,c__4591__auto___14977);
var G__14981 = (0);
seq__14947_14964 = G__14978;
chunk__14948_14965 = G__14979;
count__14949_14966 = G__14980;
i__14950_14967 = G__14981;
continue;
} else {
var vec__14960_14982 = cljs.core.first.call(null,seq__14947_14976__$1);
var ev__993__auto___14983 = cljs.core.nth.call(null,vec__14960_14982,(0),null);
var func__994__auto___14984 = cljs.core.nth.call(null,vec__14960_14982,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14983,func__994__auto___14984);


var G__14985 = cljs.core.next.call(null,seq__14947_14976__$1);
var G__14986 = null;
var G__14987 = (0);
var G__14988 = (0);
seq__14947_14964 = G__14985;
chunk__14948_14965 = G__14986;
count__14949_14966 = G__14987;
i__14950_14967 = G__14988;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__recent_BANG_ = (function lt$objs$sidebar$workspace$__BEH__recent_BANG_(this$){
var seq__14990_14994 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"recents","recents",1354038854).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
var chunk__14991_14995 = null;
var count__14992_14996 = (0);
var i__14993_14997 = (0);
while(true){
if((i__14993_14997 < count__14992_14996)){
var r_14998 = cljs.core._nth.call(null,chunk__14991_14995,i__14993_14997);
lt.object.destroy_BANG_.call(null,r_14998);


var G__14999 = seq__14990_14994;
var G__15000 = chunk__14991_14995;
var G__15001 = count__14992_14996;
var G__15002 = (i__14993_14997 + (1));
seq__14990_14994 = G__14999;
chunk__14991_14995 = G__15000;
count__14992_14996 = G__15001;
i__14993_14997 = G__15002;
continue;
} else {
var temp__5753__auto___15003 = cljs.core.seq.call(null,seq__14990_14994);
if(temp__5753__auto___15003){
var seq__14990_15004__$1 = temp__5753__auto___15003;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14990_15004__$1)){
var c__4591__auto___15005 = cljs.core.chunk_first.call(null,seq__14990_15004__$1);
var G__15006 = cljs.core.chunk_rest.call(null,seq__14990_15004__$1);
var G__15007 = c__4591__auto___15005;
var G__15008 = cljs.core.count.call(null,c__4591__auto___15005);
var G__15009 = (0);
seq__14990_14994 = G__15006;
chunk__14991_14995 = G__15007;
count__14992_14996 = G__15008;
i__14993_14997 = G__15009;
continue;
} else {
var r_15010 = cljs.core.first.call(null,seq__14990_15004__$1);
lt.object.destroy_BANG_.call(null,r_15010);


var G__15011 = cljs.core.next.call(null,seq__14990_15004__$1);
var G__15012 = null;
var G__15013 = (0);
var G__15014 = (0);
seq__14990_14994 = G__15011;
chunk__14991_14995 = G__15012;
count__14992_14996 = G__15013;
i__14993_14997 = G__15014;
continue;
}
} else {
}
}
break;
}

return lt.object.merge_BANG_.call(null,this$,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"recents","recents",1354038854)],[cljs.core.map.call(null,(function (p1__14989_SHARP_){
return lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","recent-workspace","lt.objs.sidebar.workspace/recent-workspace",1678198322),p1__14989_SHARP_);
}),lt.objs.workspace.all.call(null))]));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","recent!","lt.objs.sidebar.workspace/recent!",-104279772),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"recent!","recent!",-1515777611),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__recent_BANG_);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__tree_BANG_ = (function lt$objs$sidebar$workspace$__BEH__tree_BANG_(this$){
var seq__15015_15019 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"recents","recents",1354038854).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
var chunk__15016_15020 = null;
var count__15017_15021 = (0);
var i__15018_15022 = (0);
while(true){
if((i__15018_15022 < count__15017_15021)){
var r_15023 = cljs.core._nth.call(null,chunk__15016_15020,i__15018_15022);
lt.object.destroy_BANG_.call(null,r_15023);


var G__15024 = seq__15015_15019;
var G__15025 = chunk__15016_15020;
var G__15026 = count__15017_15021;
var G__15027 = (i__15018_15022 + (1));
seq__15015_15019 = G__15024;
chunk__15016_15020 = G__15025;
count__15017_15021 = G__15026;
i__15018_15022 = G__15027;
continue;
} else {
var temp__5753__auto___15028 = cljs.core.seq.call(null,seq__15015_15019);
if(temp__5753__auto___15028){
var seq__15015_15029__$1 = temp__5753__auto___15028;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__15015_15029__$1)){
var c__4591__auto___15030 = cljs.core.chunk_first.call(null,seq__15015_15029__$1);
var G__15031 = cljs.core.chunk_rest.call(null,seq__15015_15029__$1);
var G__15032 = c__4591__auto___15030;
var G__15033 = cljs.core.count.call(null,c__4591__auto___15030);
var G__15034 = (0);
seq__15015_15019 = G__15031;
chunk__15016_15020 = G__15032;
count__15017_15021 = G__15033;
i__15018_15022 = G__15034;
continue;
} else {
var r_15035 = cljs.core.first.call(null,seq__15015_15029__$1);
lt.object.destroy_BANG_.call(null,r_15035);


var G__15036 = cljs.core.next.call(null,seq__15015_15029__$1);
var G__15037 = null;
var G__15038 = (0);
var G__15039 = (0);
seq__15015_15019 = G__15036;
chunk__15016_15020 = G__15037;
count__15017_15021 = G__15038;
i__15018_15022 = G__15039;
continue;
}
} else {
}
}
break;
}

return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"recents","recents",1354038854),null], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","tree!","lt.objs.sidebar.workspace/tree!",-561057842),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tree!","tree!",-1706577853),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__tree_BANG_);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__recent__DOT__select_BANG_ = (function lt$objs$sidebar$workspace$__BEH__recent__DOT__select_BANG_(this$){
lt.objs.workspace.open.call(null,lt.objs.workspace.current_ws,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

return lt.object.raise.call(null,lt.objs.sidebar.workspace.sidebar_workspace,new cljs.core.Keyword(null,"tree!","tree!",-1706577853));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","recent.select!","lt.objs.sidebar.workspace/recent.select!",-1679936993),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select!","select!",1013647471),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__recent__DOT__select_BANG_);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__recent__DOT__delete_BANG_ = (function lt$objs$sidebar$workspace$__BEH__recent__DOT__delete_BANG_(this$){
if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"file","file",-1269645878).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.workspace.current_ws)),lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))){
lt.object.raise.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
} else {
}

lt.objs.files.delete_BANG_.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));

return lt.object.raise.call(null,lt.objs.sidebar.workspace.sidebar_workspace,new cljs.core.Keyword(null,"recent!","recent!",-1515777611));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","recent.delete!","lt.objs.sidebar.workspace/recent.delete!",2058129523),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"delete!","delete!",-593410251),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__recent__DOT__delete_BANG_);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","recent-workspace","lt.objs.sidebar.workspace/recent-workspace",1678198322),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"recent-workspace","recent-workspace",1472497289),null], null), null),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$,r){
lt.object.merge_BANG_.call(null,this$,r);

return lt.objs.sidebar.workspace.recents_item.call(null,this$);
}));
lt.objs.sidebar.workspace.ws_class = (function lt$objs$sidebar$workspace$ws_class(ws){
return ["workspace",(cljs.core.truth_(new cljs.core.Keyword(null,"recents","recents",1354038854).cljs$core$IFn$_invoke$arity$1(ws))?" recents":null)].join('');
});
/**
 * 
 */
lt.objs.sidebar.workspace.workspace_ui = (function lt$objs$sidebar$workspace$workspace_ui(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),singultus.binding.bound.call(null,this$,lt.objs.sidebar.workspace.ws_class)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.wstree","div.wstree",965087796),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.buttons","ul.buttons",165942935),lt.objs.sidebar.workspace.button.call(null,"folder",lt.objs.sidebar.workspace.open_folder),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.sep","li.sep",-1432904837),"|"], null),lt.objs.sidebar.workspace.button.call(null,"file",lt.objs.sidebar.workspace.open_file),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.sep","li.sep",-1432904837),"|"], null),lt.objs.sidebar.workspace.button.call(null,"recent",(function (){
return lt.objs.sidebar.workspace.recent.call(null,this$);
}))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.root","ul.root",1170273099),lt.object.__GT_content.call(null,lt.objs.sidebar.workspace.tree)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.recent","div.recent",2058400800),singultus.binding.bound.call(null,this$,(function (sw){
return lt.objs.sidebar.workspace.recents.call(null,this$,new cljs.core.Keyword(null,"recents","recents",1354038854).cljs$core$IFn$_invoke$arity$1(sw));
}))], null)], null));
var seq__15040_15056 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dragover","dragover",-1169536926),((function (e__992__auto__){
return (function (e){
(e.dataTransfer.dropEffect = "move");

lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"dragover","dragover",-1169536926),e);

lt.util.dom.prevent.call(null,e);

return false;
});})(e__992__auto__))
,new cljs.core.Keyword(null,"drop","drop",364481611),((function (e__992__auto__){
return (function (e){
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"drop","drop",364481611),e);

lt.util.dom.stop_propagation.call(null,e);

return lt.util.dom.prevent.call(null,e);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"contextmenu","contextmenu",-15887481),((function (e__992__auto__){
return (function (e){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",-1593399467),e);
});})(e__992__auto__))
], null)));
var chunk__15041_15057 = null;
var count__15042_15058 = (0);
var i__15043_15059 = (0);
while(true){
if((i__15043_15059 < count__15042_15058)){
var vec__15050_15060 = cljs.core._nth.call(null,chunk__15041_15057,i__15043_15059);
var ev__993__auto___15061 = cljs.core.nth.call(null,vec__15050_15060,(0),null);
var func__994__auto___15062 = cljs.core.nth.call(null,vec__15050_15060,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___15061,func__994__auto___15062);


var G__15063 = seq__15040_15056;
var G__15064 = chunk__15041_15057;
var G__15065 = count__15042_15058;
var G__15066 = (i__15043_15059 + (1));
seq__15040_15056 = G__15063;
chunk__15041_15057 = G__15064;
count__15042_15058 = G__15065;
i__15043_15059 = G__15066;
continue;
} else {
var temp__5753__auto___15067 = cljs.core.seq.call(null,seq__15040_15056);
if(temp__5753__auto___15067){
var seq__15040_15068__$1 = temp__5753__auto___15067;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__15040_15068__$1)){
var c__4591__auto___15069 = cljs.core.chunk_first.call(null,seq__15040_15068__$1);
var G__15070 = cljs.core.chunk_rest.call(null,seq__15040_15068__$1);
var G__15071 = c__4591__auto___15069;
var G__15072 = cljs.core.count.call(null,c__4591__auto___15069);
var G__15073 = (0);
seq__15040_15056 = G__15070;
chunk__15041_15057 = G__15071;
count__15042_15058 = G__15072;
i__15043_15059 = G__15073;
continue;
} else {
var vec__15053_15074 = cljs.core.first.call(null,seq__15040_15068__$1);
var ev__993__auto___15075 = cljs.core.nth.call(null,vec__15053_15074,(0),null);
var func__994__auto___15076 = cljs.core.nth.call(null,vec__15053_15074,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___15075,func__994__auto___15076);


var G__15077 = cljs.core.next.call(null,seq__15040_15068__$1);
var G__15078 = null;
var G__15079 = (0);
var G__15080 = (0);
seq__15040_15056 = G__15077;
chunk__15041_15057 = G__15078;
count__15042_15058 = G__15079;
i__15043_15059 = G__15080;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","sidebar.workspace","lt.objs.sidebar.workspace/sidebar.workspace",717389989),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"sidebar.workspace","sidebar.workspace",1585561596),null], null), null),new cljs.core.Keyword(null,"label","label",1718410804),"workspace",new cljs.core.Keyword(null,"order","order",-1254677256),(-7),new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
return lt.objs.sidebar.workspace.workspace_ui.call(null,this$);
}));
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__sidebar_menu = (function lt$objs$sidebar$workspace$__BEH__sidebar_menu(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Add folder",new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"workspace.add-folder","workspace.add-folder",-1962688089));
})], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Add file",new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"workspace.add-file","workspace.add-file",-685410938));
})], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Open recent workspace",new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"workspace.show-recents","workspace.show-recents",1671442122));
})], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"type","type",1174270348),"separator"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Clear workspace",new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,lt.objs.sidebar.workspace.tree,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","sidebar-menu","lt.objs.sidebar.workspace/sidebar-menu",-1724111606),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu-items","menu-items",-1870634357),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__sidebar_menu);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__recent_menu = (function lt$objs$sidebar$workspace$__BEH__recent_menu(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),"Delete Workspace",new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"delete!","delete!",-593410251));
})], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","recent-menu","lt.objs.sidebar.workspace/recent-menu",908450826),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu-items","menu-items",-1870634357),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__recent_menu);
/**
 * 
 */
lt.objs.sidebar.workspace.__BEH__workspace__DOT__open_on_start = (function lt$objs$sidebar$workspace$__BEH__workspace__DOT__open_on_start(this$){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"workspace.show","workspace.show",-1449362332));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","workspace.open-on-start","lt.objs.sidebar.workspace/workspace.open-on-start",-689547786),new cljs.core.Keyword(null,"desc","desc",2093485764),"Workspace: Show workspace on start",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",-1875481434),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.objs.sidebar.workspace.__BEH__workspace__DOT__open_on_start);
lt.objs.sidebar.workspace.sidebar_workspace = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.sidebar.workspace","sidebar.workspace","lt.objs.sidebar.workspace/sidebar.workspace",717389989));
lt.objs.sidebar.add_item.call(null,lt.objs.sidebar.sidebar,lt.objs.sidebar.workspace.sidebar_workspace);
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"workspace.add-folder","workspace.add-folder",-1962688089),new cljs.core.Keyword(null,"desc","desc",2093485764),"Workspace: add folder",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
return lt.objs.sidebar.workspace.open_folder.call(null);
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"workspace.add-file","workspace.add-file",-685410938),new cljs.core.Keyword(null,"desc","desc",2093485764),"Workspace: add file",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
return lt.objs.sidebar.workspace.open_file.call(null);
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"workspace.show","workspace.show",-1449362332),new cljs.core.Keyword(null,"desc","desc",2093485764),"Workspace: Toggle workspace tree",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (force_QMARK_){
return lt.object.raise.call(null,lt.objs.sidebar.sidebar,new cljs.core.Keyword(null,"toggle","toggle",1291842030),lt.objs.sidebar.workspace.sidebar_workspace,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"transient?","transient?",1694525927),false,new cljs.core.Keyword(null,"force?","force?",1839038675),force_QMARK_], null));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"workspace.rename.cancel!","workspace.rename.cancel!",2062060048),new cljs.core.Keyword(null,"desc","desc",2093485764),"Workspace: Cancel rename",new cljs.core.Keyword(null,"hidden","hidden",-312506092),true,new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tree.rename","tree.rename",1886094939));
if(cljs.core.truth_(temp__5753__auto__)){
var c = temp__5753__auto__;
return lt.object.raise.call(null,c,new cljs.core.Keyword(null,"rename.cancel!","rename.cancel!",-1845937529));
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"workspace.rename.submit!","workspace.rename.submit!",-775635686),new cljs.core.Keyword(null,"desc","desc",2093485764),"Workspace: Submit rename",new cljs.core.Keyword(null,"hidden","hidden",-312506092),true,new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tree.rename","tree.rename",1886094939));
if(cljs.core.truth_(temp__5753__auto__)){
var c = temp__5753__auto__;
return lt.object.raise.call(null,c,new cljs.core.Keyword(null,"rename.submit!","rename.submit!",834323059));
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"workspace.show-recents","workspace.show-recents",1671442122),new cljs.core.Keyword(null,"desc","desc",2093485764),"Workspace: Open recent workspace",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"workspace.show","workspace.show",-1449362332),new cljs.core.Keyword(null,"force","force",781957286));

return lt.objs.sidebar.workspace.recent.call(null,lt.objs.sidebar.workspace.sidebar_workspace);
})], null));
