// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.plugins.doc');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.context');
goog.require('lt.objs.clients');
goog.require('lt.objs.notifos');
goog.require('lt.objs.editor');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.sidebar');
goog.require('lt.util.dom');
goog.require('lt.util.cljs');
goog.require('clojure.set');
goog.require('lt.objs.command');
lt.plugins.doc.doc_on_line_QMARK_ = (function lt$plugins$doc$doc_on_line_QMARK_(editor,line){
var line__$1 = lt.objs.editor.line_handle.call(null,editor,line);
return cljs.core.get_in.call(null,cljs.core.deref.call(null,editor),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",-159098978),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line__$1,new cljs.core.Keyword(null,"underline","underline",2018066703)], null)], null));
});
lt.plugins.doc.remove_BANG_ = (function lt$plugins$doc$remove_BANG_(editor,cur){
lt.object.update_BANG_.call(null,editor,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",-159098978)], null),cljs.core.dissoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur)),new cljs.core.Keyword(null,"underline","underline",2018066703)], null));

return lt.object.raise.call(null,cur,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
});
/**
 * 
 */
lt.plugins.doc.__BEH__clear = (function lt$plugins$doc$__BEH__clear(this$){
return lt.object.update_BANG_.call(null,new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",-159098978)], null),cljs.core.dissoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"underline","underline",2018066703)], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","clear","lt.plugins.doc/clear",2066619075),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear","clear",1877104959),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__clear);
lt.plugins.doc.inline_doc = (function lt$plugins$doc$inline_doc(this$,res,opts,loc){
var ed = new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var type = new cljs.core.Keyword(null,"underline","underline",2018066703);
var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc));
var res_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","underline-result","lt.objs.eval/underline-result",285332309),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"ed","ed",436294224),this$,new cljs.core.Keyword(null,"class","class",-2030961996),cljs.core.name.call(null,type),new cljs.core.Keyword(null,"opts","opts",155075701),opts,new cljs.core.Keyword(null,"result","result",1415092211),res,new cljs.core.Keyword(null,"loc","loc",-584284901),loc,new cljs.core.Keyword(null,"line","line",212345235),line], null));
lt.object.add_tags.call(null,res_obj,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"inline.doc","inline.doc",629094558)], null));

lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",-159098978)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",2018066703)], null),res_obj);

return res_obj;
});
/**
 * 
 */
lt.plugins.doc.__BEH__doc_menu_PLUS_ = (function lt$plugins$doc$__BEH__doc_menu_PLUS_(this$,items){
return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"label","label",1718410804),"Toggle docs",new cljs.core.Keyword(null,"order","order",-1254677256),0.1,new cljs.core.Keyword(null,"enabled","enabled",1195909756),cljs.core.not.call(null,lt.objs.editor.selection_QMARK_.call(null,this$)),new cljs.core.Keyword(null,"click","click",1912301393),(function (){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"editor.doc.toggle","editor.doc.toggle",1846705788));
})], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"separator",new cljs.core.Keyword(null,"order","order",-1254677256),0.2], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","doc-menu+","lt.plugins.doc/doc-menu+",339295038),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",276559402),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__doc_menu_PLUS_);
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"editor.doc.toggle","editor.doc.toggle",1846705788),new cljs.core.Keyword(null,"desc","desc",2093485764),"Docs: Toggle documentation at cursor",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
var loc = lt.objs.editor.__GT_cursor.call(null,ed);
var temp__5751__auto__ = lt.plugins.doc.doc_on_line_QMARK_.call(null,ed,new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc));
if(cljs.core.truth_(temp__5751__auto__)){
var cur = temp__5751__auto__;
return lt.plugins.doc.remove_BANG_.call(null,ed,cur);
} else {
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"editor.doc","editor.doc",1362020278));
}
} else {
return null;
}
})], null));
/**
 * 
 */
lt.plugins.doc.doc_ui = (function lt$plugins$doc$doc_ui(doc){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.inline-doc","div.inline-doc",-266998265),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h1","h1",-1896887462),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(doc)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),new cljs.core.Keyword(null,"ns","ns",441598760).cljs$core$IFn$_invoke$arity$1(doc)], null),(cljs.core.truth_((function (){var and__4149__auto__ = new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(doc);
if(cljs.core.truth_(and__4149__auto__)){
return cljs.core.not_EQ_.call(null,new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(doc),"nil");
} else {
return and__4149__auto__;
}
})())?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3","h3",2067611163),new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(doc)], null):null),(cljs.core.truth_((function (){var and__4149__auto__ = new cljs.core.Keyword(null,"labels","labels",-626734591).cljs$core$IFn$_invoke$arity$1(doc);
if(cljs.core.truth_(and__4149__auto__)){
return cljs.core.not_EQ_.call(null,new cljs.core.Keyword(null,"labels","labels",-626734591).cljs$core$IFn$_invoke$arity$1(doc),"");
} else {
return and__4149__auto__;
}
})())?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3","h3",2067611163),["[",cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"labels","labels",-626734591).cljs$core$IFn$_invoke$arity$1(doc)),"]"].join('')], null):null),(cljs.core.truth_((function (){var and__4149__auto__ = new cljs.core.Keyword(null,"doc","doc",1913296891).cljs$core$IFn$_invoke$arity$1(doc);
if(cljs.core.truth_(and__4149__auto__)){
return cljs.core.not_EQ_.call(null,new cljs.core.Keyword(null,"doc","doc",1913296891).cljs$core$IFn$_invoke$arity$1(doc),"nil");
} else {
return and__4149__auto__;
}
})())?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",2118456869),new cljs.core.Keyword(null,"doc","doc",1913296891).cljs$core$IFn$_invoke$arity$1(doc)], null):null)], null));
var seq__14149_14165 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__14150_14166 = null;
var count__14151_14167 = (0);
var i__14152_14168 = (0);
while(true){
if((i__14152_14168 < count__14151_14167)){
var vec__14159_14169 = cljs.core._nth.call(null,chunk__14150_14166,i__14152_14168);
var ev__993__auto___14170 = cljs.core.nth.call(null,vec__14159_14169,(0),null);
var func__994__auto___14171 = cljs.core.nth.call(null,vec__14159_14169,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14170,func__994__auto___14171);


var G__14172 = seq__14149_14165;
var G__14173 = chunk__14150_14166;
var G__14174 = count__14151_14167;
var G__14175 = (i__14152_14168 + (1));
seq__14149_14165 = G__14172;
chunk__14150_14166 = G__14173;
count__14151_14167 = G__14174;
i__14152_14168 = G__14175;
continue;
} else {
var temp__5753__auto___14176 = cljs.core.seq.call(null,seq__14149_14165);
if(temp__5753__auto___14176){
var seq__14149_14177__$1 = temp__5753__auto___14176;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14149_14177__$1)){
var c__4591__auto___14178 = cljs.core.chunk_first.call(null,seq__14149_14177__$1);
var G__14179 = cljs.core.chunk_rest.call(null,seq__14149_14177__$1);
var G__14180 = c__4591__auto___14178;
var G__14181 = cljs.core.count.call(null,c__4591__auto___14178);
var G__14182 = (0);
seq__14149_14165 = G__14179;
chunk__14150_14166 = G__14180;
count__14151_14167 = G__14181;
i__14152_14168 = G__14182;
continue;
} else {
var vec__14162_14183 = cljs.core.first.call(null,seq__14149_14177__$1);
var ev__993__auto___14184 = cljs.core.nth.call(null,vec__14162_14183,(0),null);
var func__994__auto___14185 = cljs.core.nth.call(null,vec__14162_14183,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14184,func__994__auto___14185);


var G__14186 = cljs.core.next.call(null,seq__14149_14177__$1);
var G__14187 = null;
var G__14188 = (0);
var G__14189 = (0);
seq__14149_14165 = G__14186;
chunk__14150_14166 = G__14187;
count__14151_14167 = G__14188;
i__14152_14168 = G__14189;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * Helper method for behavior `editor.doc.show!` to determine if the given `ns` and `name`
 *   match existing behaviors.
 * 
 *   Returns found behavior or `nil`.
 */
lt.plugins.doc.retrieve_behavior = (function lt$plugins$doc$retrieve_behavior(ns,name){
return cljs.core.deref.call(null,lt.object.behaviors).call(null,cljs.core.keyword.call(null,[cljs.core.str.cljs$core$IFn$_invoke$arity$1(ns),"/",cljs.core.subs.call(null,name,(2))].join('')));
});
/**
 * Helper method for behavior `editor.doc.show!` to determine if the given `ns` and `name`
 *   match existing object defs. Not recommended to print whole object def... use destructuring.
 * 
 *   Returns found object def or `nil`.
 */
lt.plugins.doc.retrieve_object_def = (function lt$plugins$doc$retrieve_object_def(ns,name){
return cljs.core.deref.call(null,lt.object.object_defs).call(null,cljs.core.keyword.call(null,[cljs.core.str.cljs$core$IFn$_invoke$arity$1(ns),"/",cljs.core.subs.call(null,name,(2))].join('')));
});
lt.plugins.doc.retrieve = (function lt$plugins$doc$retrieve(ns,name){
var or__4160__auto__ = lt.plugins.doc.retrieve_behavior.call(null,ns,name);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return lt.plugins.doc.retrieve_object_def.call(null,ns,name);
}
});
/**
 * Helper method for behavior `editor.doc.show!` that returns the docstring for a matching
 *   object or behavior. If `:doc` is not found, then `:desc` is used. Otherwise `nil`.
 */
lt.plugins.doc.retrieve_docstring = (function lt$plugins$doc$retrieve_docstring(ns,name){
var o = lt.plugins.doc.retrieve.call(null,ns,name);
var or__4160__auto__ = new cljs.core.Keyword(null,"doc","doc",1913296891).cljs$core$IFn$_invoke$arity$1(o);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return new cljs.core.Keyword(null,"desc","desc",2093485764).cljs$core$IFn$_invoke$arity$1(o);
}
});
lt.plugins.doc.retrieve_labels = (function lt$plugins$doc$retrieve_labels(ns,name){
var o = lt.plugins.doc.retrieve.call(null,ns,name);
return clojure.string.join.call(null,", ",cljs.core.map.call(null,(function (p1__14190_SHARP_){
return cljs.core.get.call(null,p1__14190_SHARP_,new cljs.core.Keyword(null,"label","label",1718410804));
}),new cljs.core.Keyword(null,"params","params",710516235).cljs$core$IFn$_invoke$arity$2(o,cljs.core.PersistentVector.EMPTY)));
});
/**
 * 
 */
lt.plugins.doc.__BEH__editor__DOT__doc__DOT__show_BANG_ = (function lt$plugins$doc$__BEH__editor__DOT__doc__DOT__show_BANG_(editor,doc){
if(cljs.core.not_EQ_.call(null,new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(doc),"")){
var doc__$1 = (((((new cljs.core.Keyword(null,"file","file",-1269645878).cljs$core$IFn$_invoke$arity$1(doc) == null)) && ((new cljs.core.Keyword(null,"doc","doc",1913296891).cljs$core$IFn$_invoke$arity$1(doc) == null))))?cljs.core.merge.call(null,doc,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"doc","doc",1913296891),lt.plugins.doc.retrieve_docstring.call(null,new cljs.core.Keyword(null,"ns","ns",441598760).cljs$core$IFn$_invoke$arity$1(doc),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(doc)),new cljs.core.Keyword(null,"labels","labels",-626734591),lt.plugins.doc.retrieve_labels.call(null,new cljs.core.Keyword(null,"ns","ns",441598760).cljs$core$IFn$_invoke$arity$1(doc),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(doc))], null)):doc);
return lt.plugins.doc.inline_doc.call(null,editor,lt.plugins.doc.doc_ui.call(null,doc__$1),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"loc","loc",-584284901).cljs$core$IFn$_invoke$arity$1(doc__$1));
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","editor.doc.show!","lt.plugins.doc/editor.doc.show!",-1451914470),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.doc.show!","editor.doc.show!",345610910),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__editor__DOT__doc__DOT__show_BANG_);
/**
 * 
 */
lt.plugins.doc.search_item = (function lt$plugins$doc$search_item(item){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3","h3",2067611163),new cljs.core.Keyword(null,"ns","ns",441598760).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",2118456869),cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(item))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",2118456869),new cljs.core.Keyword(null,"doc","doc",1913296891).cljs$core$IFn$_invoke$arity$1(item)], null)], null));
var seq__14191_14207 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__14192_14208 = null;
var count__14193_14209 = (0);
var i__14194_14210 = (0);
while(true){
if((i__14194_14210 < count__14193_14209)){
var vec__14201_14211 = cljs.core._nth.call(null,chunk__14192_14208,i__14194_14210);
var ev__993__auto___14212 = cljs.core.nth.call(null,vec__14201_14211,(0),null);
var func__994__auto___14213 = cljs.core.nth.call(null,vec__14201_14211,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14212,func__994__auto___14213);


var G__14214 = seq__14191_14207;
var G__14215 = chunk__14192_14208;
var G__14216 = count__14193_14209;
var G__14217 = (i__14194_14210 + (1));
seq__14191_14207 = G__14214;
chunk__14192_14208 = G__14215;
count__14193_14209 = G__14216;
i__14194_14210 = G__14217;
continue;
} else {
var temp__5753__auto___14218 = cljs.core.seq.call(null,seq__14191_14207);
if(temp__5753__auto___14218){
var seq__14191_14219__$1 = temp__5753__auto___14218;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14191_14219__$1)){
var c__4591__auto___14220 = cljs.core.chunk_first.call(null,seq__14191_14219__$1);
var G__14221 = cljs.core.chunk_rest.call(null,seq__14191_14219__$1);
var G__14222 = c__4591__auto___14220;
var G__14223 = cljs.core.count.call(null,c__4591__auto___14220);
var G__14224 = (0);
seq__14191_14207 = G__14221;
chunk__14192_14208 = G__14222;
count__14193_14209 = G__14223;
i__14194_14210 = G__14224;
continue;
} else {
var vec__14204_14225 = cljs.core.first.call(null,seq__14191_14219__$1);
var ev__993__auto___14226 = cljs.core.nth.call(null,vec__14204_14225,(0),null);
var func__994__auto___14227 = cljs.core.nth.call(null,vec__14204_14225,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14226,func__994__auto___14227);


var G__14228 = cljs.core.next.call(null,seq__14191_14219__$1);
var G__14229 = null;
var G__14230 = (0);
var G__14231 = (0);
seq__14191_14207 = G__14228;
chunk__14192_14208 = G__14229;
count__14193_14209 = G__14230;
i__14194_14210 = G__14231;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.plugins.doc.search_input = (function lt$plugins$doc$search_input(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.search","input.search",-420752064),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"search docs"], null)], null));
var seq__14232_14248 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",234677911),((function (e__992__auto__){
return (function (){
return lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"sidebar.doc.search.input","sidebar.doc.search.input",-2136594248),this$);
});})(e__992__auto__))
,new cljs.core.Keyword(null,"blur","blur",-453500461),((function (e__992__auto__){
return (function (){
return lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"sidebar.doc.search.input","sidebar.doc.search.input",-2136594248));
});})(e__992__auto__))
], null)));
var chunk__14233_14249 = null;
var count__14234_14250 = (0);
var i__14235_14251 = (0);
while(true){
if((i__14235_14251 < count__14234_14250)){
var vec__14242_14252 = cljs.core._nth.call(null,chunk__14233_14249,i__14235_14251);
var ev__993__auto___14253 = cljs.core.nth.call(null,vec__14242_14252,(0),null);
var func__994__auto___14254 = cljs.core.nth.call(null,vec__14242_14252,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14253,func__994__auto___14254);


var G__14255 = seq__14232_14248;
var G__14256 = chunk__14233_14249;
var G__14257 = count__14234_14250;
var G__14258 = (i__14235_14251 + (1));
seq__14232_14248 = G__14255;
chunk__14233_14249 = G__14256;
count__14234_14250 = G__14257;
i__14235_14251 = G__14258;
continue;
} else {
var temp__5753__auto___14259 = cljs.core.seq.call(null,seq__14232_14248);
if(temp__5753__auto___14259){
var seq__14232_14260__$1 = temp__5753__auto___14259;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14232_14260__$1)){
var c__4591__auto___14261 = cljs.core.chunk_first.call(null,seq__14232_14260__$1);
var G__14262 = cljs.core.chunk_rest.call(null,seq__14232_14260__$1);
var G__14263 = c__4591__auto___14261;
var G__14264 = cljs.core.count.call(null,c__4591__auto___14261);
var G__14265 = (0);
seq__14232_14248 = G__14262;
chunk__14233_14249 = G__14263;
count__14234_14250 = G__14264;
i__14235_14251 = G__14265;
continue;
} else {
var vec__14245_14266 = cljs.core.first.call(null,seq__14232_14260__$1);
var ev__993__auto___14267 = cljs.core.nth.call(null,vec__14245_14266,(0),null);
var func__994__auto___14268 = cljs.core.nth.call(null,vec__14245_14266,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14267,func__994__auto___14268);


var G__14269 = cljs.core.next.call(null,seq__14232_14260__$1);
var G__14270 = null;
var G__14271 = (0);
var G__14272 = (0);
seq__14232_14248 = G__14269;
chunk__14233_14249 = G__14270;
count__14234_14250 = G__14271;
i__14235_14251 = G__14272;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.plugins.doc.type_item = (function lt$plugins$doc$type_item(this$,i){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.Keyword(null,"label","label",1718410804).cljs$core$IFn$_invoke$arity$1(i)], null));
var seq__14273_14289 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"set-item!","set-item!",-2069575582),i);
});})(e__992__auto__))
], null)));
var chunk__14274_14290 = null;
var count__14275_14291 = (0);
var i__14276_14292 = (0);
while(true){
if((i__14276_14292 < count__14275_14291)){
var vec__14283_14293 = cljs.core._nth.call(null,chunk__14274_14290,i__14276_14292);
var ev__993__auto___14294 = cljs.core.nth.call(null,vec__14283_14293,(0),null);
var func__994__auto___14295 = cljs.core.nth.call(null,vec__14283_14293,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14294,func__994__auto___14295);


var G__14296 = seq__14273_14289;
var G__14297 = chunk__14274_14290;
var G__14298 = count__14275_14291;
var G__14299 = (i__14276_14292 + (1));
seq__14273_14289 = G__14296;
chunk__14274_14290 = G__14297;
count__14275_14291 = G__14298;
i__14276_14292 = G__14299;
continue;
} else {
var temp__5753__auto___14300 = cljs.core.seq.call(null,seq__14273_14289);
if(temp__5753__auto___14300){
var seq__14273_14301__$1 = temp__5753__auto___14300;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14273_14301__$1)){
var c__4591__auto___14302 = cljs.core.chunk_first.call(null,seq__14273_14301__$1);
var G__14303 = cljs.core.chunk_rest.call(null,seq__14273_14301__$1);
var G__14304 = c__4591__auto___14302;
var G__14305 = cljs.core.count.call(null,c__4591__auto___14302);
var G__14306 = (0);
seq__14273_14289 = G__14303;
chunk__14274_14290 = G__14304;
count__14275_14291 = G__14305;
i__14276_14292 = G__14306;
continue;
} else {
var vec__14286_14307 = cljs.core.first.call(null,seq__14273_14301__$1);
var ev__993__auto___14308 = cljs.core.nth.call(null,vec__14286_14307,(0),null);
var func__994__auto___14309 = cljs.core.nth.call(null,vec__14286_14307,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14308,func__994__auto___14309);


var G__14310 = cljs.core.next.call(null,seq__14273_14301__$1);
var G__14311 = null;
var G__14312 = (0);
var G__14313 = (0);
seq__14273_14289 = G__14310;
chunk__14274_14290 = G__14311;
count__14275_14291 = G__14312;
i__14276_14292 = G__14313;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.plugins.doc.type_list = (function lt$plugins$doc$type_list(this$){
var e__992__auto__ = singultus.core.html.call(null,(function (){var types = lt.object.raise_reduce.call(null,this$,new cljs.core.Keyword(null,"types+","types+",590378171),cljs.core.PersistentVector.EMPTY);
var cur = (function (){var or__4160__auto__ = new cljs.core.Keyword(null,"cur","cur",1153190599).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return cljs.core.first.call(null,types);
}
})();
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.types","div.types",2043608691),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.Keyword(null,"label","label",1718410804).cljs$core$IFn$_invoke$arity$1(cur)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.types","ul.types",-281400801),cljs.core.map.call(null,cljs.core.partial.call(null,lt.plugins.doc.type_item,this$),types)], null)], null);
})());
var seq__14314_14330 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__14315_14331 = null;
var count__14316_14332 = (0);
var i__14317_14333 = (0);
while(true){
if((i__14317_14333 < count__14316_14332)){
var vec__14324_14334 = cljs.core._nth.call(null,chunk__14315_14331,i__14317_14333);
var ev__993__auto___14335 = cljs.core.nth.call(null,vec__14324_14334,(0),null);
var func__994__auto___14336 = cljs.core.nth.call(null,vec__14324_14334,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14335,func__994__auto___14336);


var G__14337 = seq__14314_14330;
var G__14338 = chunk__14315_14331;
var G__14339 = count__14316_14332;
var G__14340 = (i__14317_14333 + (1));
seq__14314_14330 = G__14337;
chunk__14315_14331 = G__14338;
count__14316_14332 = G__14339;
i__14317_14333 = G__14340;
continue;
} else {
var temp__5753__auto___14341 = cljs.core.seq.call(null,seq__14314_14330);
if(temp__5753__auto___14341){
var seq__14314_14342__$1 = temp__5753__auto___14341;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14314_14342__$1)){
var c__4591__auto___14343 = cljs.core.chunk_first.call(null,seq__14314_14342__$1);
var G__14344 = cljs.core.chunk_rest.call(null,seq__14314_14342__$1);
var G__14345 = c__4591__auto___14343;
var G__14346 = cljs.core.count.call(null,c__4591__auto___14343);
var G__14347 = (0);
seq__14314_14330 = G__14344;
chunk__14315_14331 = G__14345;
count__14316_14332 = G__14346;
i__14317_14333 = G__14347;
continue;
} else {
var vec__14327_14348 = cljs.core.first.call(null,seq__14314_14342__$1);
var ev__993__auto___14349 = cljs.core.nth.call(null,vec__14327_14348,(0),null);
var func__994__auto___14350 = cljs.core.nth.call(null,vec__14327_14348,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14349,func__994__auto___14350);


var G__14351 = cljs.core.next.call(null,seq__14314_14342__$1);
var G__14352 = null;
var G__14353 = (0);
var G__14354 = (0);
seq__14314_14330 = G__14351;
chunk__14315_14331 = G__14352;
count__14316_14332 = G__14353;
i__14317_14333 = G__14354;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.plugins.doc.connect_button = (function lt$plugins$doc$connect_button(){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",1456579943),"Connect"], null));
var seq__14355_14371 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1912301393),((function (e__992__auto__){
return (function (){
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"show-add-connection","show-add-connection",652692070));
});})(e__992__auto__))
], null)));
var chunk__14356_14372 = null;
var count__14357_14373 = (0);
var i__14358_14374 = (0);
while(true){
if((i__14358_14374 < count__14357_14373)){
var vec__14365_14375 = cljs.core._nth.call(null,chunk__14356_14372,i__14358_14374);
var ev__993__auto___14376 = cljs.core.nth.call(null,vec__14365_14375,(0),null);
var func__994__auto___14377 = cljs.core.nth.call(null,vec__14365_14375,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14376,func__994__auto___14377);


var G__14378 = seq__14355_14371;
var G__14379 = chunk__14356_14372;
var G__14380 = count__14357_14373;
var G__14381 = (i__14358_14374 + (1));
seq__14355_14371 = G__14378;
chunk__14356_14372 = G__14379;
count__14357_14373 = G__14380;
i__14358_14374 = G__14381;
continue;
} else {
var temp__5753__auto___14382 = cljs.core.seq.call(null,seq__14355_14371);
if(temp__5753__auto___14382){
var seq__14355_14383__$1 = temp__5753__auto___14382;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14355_14383__$1)){
var c__4591__auto___14384 = cljs.core.chunk_first.call(null,seq__14355_14383__$1);
var G__14385 = cljs.core.chunk_rest.call(null,seq__14355_14383__$1);
var G__14386 = c__4591__auto___14384;
var G__14387 = cljs.core.count.call(null,c__4591__auto___14384);
var G__14388 = (0);
seq__14355_14371 = G__14385;
chunk__14356_14372 = G__14386;
count__14357_14373 = G__14387;
i__14358_14374 = G__14388;
continue;
} else {
var vec__14368_14389 = cljs.core.first.call(null,seq__14355_14383__$1);
var ev__993__auto___14390 = cljs.core.nth.call(null,vec__14368_14389,(0),null);
var func__994__auto___14391 = cljs.core.nth.call(null,vec__14368_14389,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14390,func__994__auto___14391);


var G__14392 = cljs.core.next.call(null,seq__14355_14383__$1);
var G__14393 = null;
var G__14394 = (0);
var G__14395 = (0);
seq__14355_14371 = G__14392;
chunk__14356_14372 = G__14393;
count__14357_14373 = G__14394;
i__14358_14374 = G__14395;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
/**
 * 
 */
lt.plugins.doc.no_client_ui = (function lt$plugins$doc$no_client_ui(this$){
var e__992__auto__ = singultus.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.no-client","div.no-client",167474811),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),"There's no client for us to use to search for these kinds of docs. "], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),lt.plugins.doc.connect_button.call(null)," to one."], null)], null));
var seq__14396_14412 = cljs.core.seq.call(null,cljs.core.partition.call(null,(2),cljs.core.PersistentVector.EMPTY));
var chunk__14397_14413 = null;
var count__14398_14414 = (0);
var i__14399_14415 = (0);
while(true){
if((i__14399_14415 < count__14398_14414)){
var vec__14406_14416 = cljs.core._nth.call(null,chunk__14397_14413,i__14399_14415);
var ev__993__auto___14417 = cljs.core.nth.call(null,vec__14406_14416,(0),null);
var func__994__auto___14418 = cljs.core.nth.call(null,vec__14406_14416,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14417,func__994__auto___14418);


var G__14419 = seq__14396_14412;
var G__14420 = chunk__14397_14413;
var G__14421 = count__14398_14414;
var G__14422 = (i__14399_14415 + (1));
seq__14396_14412 = G__14419;
chunk__14397_14413 = G__14420;
count__14398_14414 = G__14421;
i__14399_14415 = G__14422;
continue;
} else {
var temp__5753__auto___14423 = cljs.core.seq.call(null,seq__14396_14412);
if(temp__5753__auto___14423){
var seq__14396_14424__$1 = temp__5753__auto___14423;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14396_14424__$1)){
var c__4591__auto___14425 = cljs.core.chunk_first.call(null,seq__14396_14424__$1);
var G__14426 = cljs.core.chunk_rest.call(null,seq__14396_14424__$1);
var G__14427 = c__4591__auto___14425;
var G__14428 = cljs.core.count.call(null,c__4591__auto___14425);
var G__14429 = (0);
seq__14396_14412 = G__14426;
chunk__14397_14413 = G__14427;
count__14398_14414 = G__14428;
i__14399_14415 = G__14429;
continue;
} else {
var vec__14409_14430 = cljs.core.first.call(null,seq__14396_14424__$1);
var ev__993__auto___14431 = cljs.core.nth.call(null,vec__14409_14430,(0),null);
var func__994__auto___14432 = cljs.core.nth.call(null,vec__14409_14430,(1),null);
lt.util.dom.on.call(null,e__992__auto__,ev__993__auto___14431,func__994__auto___14432);


var G__14433 = cljs.core.next.call(null,seq__14396_14424__$1);
var G__14434 = null;
var G__14435 = (0);
var G__14436 = (0);
seq__14396_14412 = G__14433;
chunk__14397_14413 = G__14434;
count__14398_14414 = G__14435;
i__14399_14415 = G__14436;
continue;
}
} else {
}
}
break;
}

return e__992__auto__;
});
lt.plugins.doc.try_trigger = (function lt$plugins$doc$try_trigger(this$,cur,v){
var cs = lt.objs.clients.discover_STAR_.call(null,new cljs.core.Keyword(null,"trigger","trigger",103466139).cljs$core$IFn$_invoke$arity$1(cur));
if(cljs.core.not.call(null,cljs.core.seq.call(null,cs))){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"no-client","no-client",-373374621));
} else {
var temp__5753__auto___14441 = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".no-client",".no-client",1487117657),lt.object.__GT_content.call(null,this$));
if(cljs.core.truth_(temp__5753__auto___14441)){
var nc_14442 = temp__5753__auto___14441;
lt.util.dom.remove.call(null,nc_14442);
} else {
}

lt.objs.notifos.set_msg_BANG_.call(null,"Searching for docs...");

var seq__14437 = cljs.core.seq.call(null,cs);
var chunk__14438 = null;
var count__14439 = (0);
var i__14440 = (0);
while(true){
if((i__14440 < count__14439)){
var c = cljs.core._nth.call(null,chunk__14438,i__14440);
lt.objs.notifos.working.call(null);

lt.objs.clients.send.call(null,c,new cljs.core.Keyword(null,"trigger","trigger",103466139).cljs$core$IFn$_invoke$arity$1(cur),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"search","search",1564939822),v], null),new cljs.core.Keyword(null,"only","only",1907811652),this$);


var G__14443 = seq__14437;
var G__14444 = chunk__14438;
var G__14445 = count__14439;
var G__14446 = (i__14440 + (1));
seq__14437 = G__14443;
chunk__14438 = G__14444;
count__14439 = G__14445;
i__14440 = G__14446;
continue;
} else {
var temp__5753__auto__ = cljs.core.seq.call(null,seq__14437);
if(temp__5753__auto__){
var seq__14437__$1 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14437__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__14437__$1);
var G__14447 = cljs.core.chunk_rest.call(null,seq__14437__$1);
var G__14448 = c__4591__auto__;
var G__14449 = cljs.core.count.call(null,c__4591__auto__);
var G__14450 = (0);
seq__14437 = G__14447;
chunk__14438 = G__14448;
count__14439 = G__14449;
i__14440 = G__14450;
continue;
} else {
var c = cljs.core.first.call(null,seq__14437__$1);
lt.objs.notifos.working.call(null);

lt.objs.clients.send.call(null,c,new cljs.core.Keyword(null,"trigger","trigger",103466139).cljs$core$IFn$_invoke$arity$1(cur),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"search","search",1564939822),v], null),new cljs.core.Keyword(null,"only","only",1907811652),this$);


var G__14451 = cljs.core.next.call(null,seq__14437__$1);
var G__14452 = null;
var G__14453 = (0);
var G__14454 = (0);
seq__14437 = G__14451;
chunk__14438 = G__14452;
count__14439 = G__14453;
i__14440 = G__14454;
continue;
}
} else {
return null;
}
}
break;
}
}
});
lt.plugins.doc.__GT_val = (function lt$plugins$doc$__GT_val(this$){
return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input.search","input.search",-420752064),lt.object.__GT_content.call(null,this$)));
});
lt.plugins.doc.grouped_items = (function lt$plugins$doc$grouped_items(results,v,prev){
var normal = lt.util.dom.fragment.call(null,cljs.core.PersistentVector.EMPTY);
var exact = lt.util.dom.fragment.call(null,cljs.core.PersistentVector.EMPTY);
var seq__14455_14461 = cljs.core.seq.call(null,results);
var chunk__14457_14462 = null;
var count__14458_14463 = (0);
var i__14459_14464 = (0);
while(true){
if((i__14459_14464 < count__14458_14463)){
var r_14465 = cljs.core._nth.call(null,chunk__14457_14462,i__14459_14464);
if(cljs.core.not.call(null,prev.call(null,r_14465))){
if(lt.util.cljs.str_contains_QMARK_.call(null,cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(r_14465)),v)){
lt.util.dom.append.call(null,exact,lt.plugins.doc.search_item.call(null,r_14465));
} else {
lt.util.dom.append.call(null,normal,lt.plugins.doc.search_item.call(null,r_14465));
}


var G__14466 = seq__14455_14461;
var G__14467 = chunk__14457_14462;
var G__14468 = count__14458_14463;
var G__14469 = (i__14459_14464 + (1));
seq__14455_14461 = G__14466;
chunk__14457_14462 = G__14467;
count__14458_14463 = G__14468;
i__14459_14464 = G__14469;
continue;
} else {
var G__14470 = seq__14455_14461;
var G__14471 = chunk__14457_14462;
var G__14472 = count__14458_14463;
var G__14473 = (i__14459_14464 + (1));
seq__14455_14461 = G__14470;
chunk__14457_14462 = G__14471;
count__14458_14463 = G__14472;
i__14459_14464 = G__14473;
continue;
}
} else {
var temp__5753__auto___14474 = cljs.core.seq.call(null,seq__14455_14461);
if(temp__5753__auto___14474){
var seq__14455_14475__$1 = temp__5753__auto___14474;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__14455_14475__$1)){
var c__4591__auto___14476 = cljs.core.chunk_first.call(null,seq__14455_14475__$1);
var G__14477 = cljs.core.chunk_rest.call(null,seq__14455_14475__$1);
var G__14478 = c__4591__auto___14476;
var G__14479 = cljs.core.count.call(null,c__4591__auto___14476);
var G__14480 = (0);
seq__14455_14461 = G__14477;
chunk__14457_14462 = G__14478;
count__14458_14463 = G__14479;
i__14459_14464 = G__14480;
continue;
} else {
var r_14481 = cljs.core.first.call(null,seq__14455_14475__$1);
if(cljs.core.not.call(null,prev.call(null,r_14481))){
if(lt.util.cljs.str_contains_QMARK_.call(null,cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(r_14481)),v)){
lt.util.dom.append.call(null,exact,lt.plugins.doc.search_item.call(null,r_14481));
} else {
lt.util.dom.append.call(null,normal,lt.plugins.doc.search_item.call(null,r_14481));
}


var G__14482 = cljs.core.next.call(null,seq__14455_14475__$1);
var G__14483 = null;
var G__14484 = (0);
var G__14485 = (0);
seq__14455_14461 = G__14482;
chunk__14457_14462 = G__14483;
count__14458_14463 = G__14484;
i__14459_14464 = G__14485;
continue;
} else {
var G__14486 = cljs.core.next.call(null,seq__14455_14475__$1);
var G__14487 = null;
var G__14488 = (0);
var G__14489 = (0);
seq__14455_14461 = G__14486;
chunk__14457_14462 = G__14487;
count__14458_14463 = G__14488;
i__14459_14464 = G__14489;
continue;
}
}
} else {
}
}
break;
}

return new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"normal","normal",-1519123858),normal,new cljs.core.Keyword(null,"exact","exact",1438022323),exact], null);
});
/**
 * 
 */
lt.plugins.doc.__BEH__set_item = (function lt$plugins$doc$__BEH__set_item(this$,i){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cur","cur",1153190599),i], null));

lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",-144814418));

lt.util.dom.replace_with.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,".types",".types",-727535595),lt.object.__GT_content.call(null,this$)),lt.plugins.doc.type_list.call(null,this$));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"focus!","focus!",-1344984927));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","set-item","lt.plugins.doc/set-item",1723582074),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"set-item!","set-item!",-2069575582),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__set_item);
/**
 * 
 */
lt.plugins.doc.__BEH__clear_BANG_ = (function lt$plugins$doc$__BEH__clear_BANG_(this$){
lt.util.dom.empty.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,".results",".results",-1665293795),lt.object.__GT_content.call(null,this$)));

return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"results","results",-1134170113),cljs.core.PersistentHashSet.EMPTY], null));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","clear!","lt.plugins.doc/clear!",-493771470),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",-144814418),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__clear_BANG_);
/**
 * 
 */
lt.plugins.doc.__BEH__no_client = (function lt$plugins$doc$__BEH__no_client(this$){
if(cljs.core.truth_(lt.util.dom.$.call(null,new cljs.core.Keyword(null,".no-client",".no-client",1487117657),lt.object.__GT_content.call(null,this$)))){
return null;
} else {
return lt.util.dom.before.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,".results",".results",-1665293795),lt.object.__GT_content.call(null,this$)),lt.plugins.doc.no_client_ui.call(null,this$));
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","no-client","lt.plugins.doc/no-client",-544067569),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"no-client","no-client",-373374621),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__no_client);
/**
 * 
 */
lt.plugins.doc.__BEH__cur_from_last_editor = (function lt$plugins$doc$__BEH__cur_from_last_editor(this$){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
var ed_type = new cljs.core.Keyword(null,"type-name","type-name",1911633753).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"info","info",-317069002).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));
if(cljs.core.truth_(cljs.core.get.call(null,new cljs.core.Keyword(null,"file-types","file-types",457827029).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"cur","cur",1153190599).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),ed_type))){
return null;
} else {
var temp__5753__auto____$1 = cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__14490_SHARP_){
return cljs.core.get.call(null,new cljs.core.Keyword(null,"file-types","file-types",457827029).cljs$core$IFn$_invoke$arity$1(p1__14490_SHARP_),ed_type);
}),lt.object.raise_reduce.call(null,this$,new cljs.core.Keyword(null,"types+","types+",590378171),cljs.core.PersistentVector.EMPTY)));
if(cljs.core.truth_(temp__5753__auto____$1)){
var neue = temp__5753__auto____$1;
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"set-item!","set-item!",-2069575582),neue);
} else {
return null;
}
}
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","cur-from-last-editor","lt.plugins.doc/cur-from-last-editor",885322832),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show","show",-576705889),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__cur_from_last_editor);
/**
 * 
 */
lt.plugins.doc.__BEH__sidebar__DOT__doc__DOT__search__DOT__exec = (function lt$plugins$doc$__BEH__sidebar__DOT__doc__DOT__search__DOT__exec(this$){
var v = lt.plugins.doc.__GT_val.call(null,this$);
var trigger = new cljs.core.Keyword(null,"trigger","trigger",103466139).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"cur","cur",1153190599).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",-144814418));

if(cljs.core.empty_QMARK_.call(null,v)){
return null;
} else {
if(cljs.core.fn_QMARK_.call(null,trigger)){
return trigger.call(null,v);
} else {
return lt.plugins.doc.try_trigger.call(null,this$,new cljs.core.Keyword(null,"cur","cur",1153190599).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),v);
}
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","sidebar.doc.search.exec","lt.plugins.doc/sidebar.doc.search.exec",1325976483),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"sidebar.doc.search.exec","sidebar.doc.search.exec",1286922527),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__sidebar__DOT__doc__DOT__search__DOT__exec);
/**
 * 
 */
lt.plugins.doc.__BEH__doc__DOT__search__DOT__results = (function lt$plugins$doc$__BEH__doc__DOT__search__DOT__results(this$,results){
var v = lt.plugins.doc.__GT_val.call(null,this$);
var map__14491 = lt.plugins.doc.grouped_items.call(null,results,v,new cljs.core.Keyword(null,"results","results",-1134170113).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
var map__14491__$1 = cljs.core.__destructure_map.call(null,map__14491);
var normal = cljs.core.get.call(null,map__14491__$1,new cljs.core.Keyword(null,"normal","normal",-1519123858));
var exact = cljs.core.get.call(null,map__14491__$1,new cljs.core.Keyword(null,"exact","exact",1438022323));
var old = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".results",".results",-1665293795),lt.object.__GT_content.call(null,this$));
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"results","results",-1134170113),cljs.core.into.call(null,new cljs.core.Keyword(null,"results","results",-1134170113).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),results)], null));

lt.objs.notifos.done_working.call(null,["Found ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.count.call(null,new cljs.core.Keyword(null,"results","results",-1134170113).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))," doc results."].join(''));

lt.util.dom.prepend.call(null,old,exact);

return lt.util.dom.append.call(null,old,normal);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","doc.search.results","lt.plugins.doc/doc.search.results",-1978301708),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"doc.search.results","doc.search.results",2126623352),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__doc__DOT__search__DOT__results);
/**
 * 
 */
lt.plugins.doc.__BEH__focus_on_show = (function lt$plugins$doc$__BEH__focus_on_show(this$){
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"focus!","focus!",-1344984927));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","focus-on-show","lt.plugins.doc/focus-on-show",-290022059),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show","show",-576705889),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__focus_on_show);
/**
 * 
 */
lt.plugins.doc.__BEH__focus_BANG_ = (function lt$plugins$doc$__BEH__focus_BANG_(this$){
if(cljs.core.not.call(null,new cljs.core.Keyword(null,"active","active",1895962068).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))){
var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",556931961),lt.object.__GT_content.call(null,this$));
lt.util.dom.focus.call(null,input);

return input.select();
} else {
return lt.object.raise.call(null,new cljs.core.Keyword(null,"options","options",99638489).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"active","active",1895962068).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new cljs.core.Keyword(null,"focus!","focus!",-1344984927));
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","focus!","lt.plugins.doc/focus!",-1384049115),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",-1344984927),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__focus_BANG_);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","sidebar.doc.search","lt.plugins.doc/sidebar.doc.search",-379319221),new cljs.core.Keyword(null,"tags","tags",1771418977),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"sidebar.docs.search","sidebar.docs.search",-1175510939),null], null), null),new cljs.core.Keyword(null,"label","label",1718410804),"Doc search",new cljs.core.Keyword(null,"init","init",-1875481434),(function (this$){
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cur","cur",1153190599),cljs.core.first.call(null,lt.object.raise_reduce.call(null,this$,new cljs.core.Keyword(null,"types+","types+",590378171),cljs.core.PersistentVector.EMPTY))], null));

return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.docs-search.filter-list","div.docs-search.filter-list",-686952299),lt.plugins.doc.search_input.call(null,this$),lt.plugins.doc.type_list.call(null,this$),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.results","ul.results",73752218)], null)], null);
}));
lt.plugins.doc.doc_search = null;
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"docs.search.exec","docs.search.exec",377976273),new cljs.core.Keyword(null,"desc","desc",2093485764),"Docs: Execute sidebar search",new cljs.core.Keyword(null,"hidden","hidden",-312506092),true,new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
if(cljs.core.truth_(lt.plugins.doc.doc_search)){
return lt.object.raise.call(null,lt.plugins.doc.doc_search,new cljs.core.Keyword(null,"sidebar.doc.search.exec","sidebar.doc.search.exec",1286922527));
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"docs.search.show","docs.search.show",-659879847),new cljs.core.Keyword(null,"desc","desc",2093485764),"Docs: Search language docs",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (force_QMARK_){
if(cljs.core.truth_(lt.plugins.doc.doc_search)){
return lt.object.raise.call(null,lt.objs.sidebar.rightbar,new cljs.core.Keyword(null,"toggle","toggle",1291842030),lt.plugins.doc.doc_search,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"force?","force?",1839038675),force_QMARK_], null));
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"docs.search.hide","docs.search.hide",-1928947334),new cljs.core.Keyword(null,"desc","desc",2093485764),"Docs: hide language docs",new cljs.core.Keyword(null,"hidden","hidden",-312506092),true,new cljs.core.Keyword(null,"exec","exec",1625568743),(function (force_QMARK_){
if(cljs.core.truth_(lt.plugins.doc.doc_search)){
return lt.object.raise.call(null,lt.objs.sidebar.rightbar,new cljs.core.Keyword(null,"close!","close!",-2079310498));
} else {
return null;
}
})], null));
/**
 * 
 */
lt.plugins.doc.__BEH__init_doc_search = (function lt$plugins$doc$__BEH__init_doc_search(this$){
(lt.plugins.doc.doc_search = lt.object.create.call(null,new cljs.core.Keyword("lt.plugins.doc","sidebar.doc.search","lt.plugins.doc/sidebar.doc.search",-379319221)));

return lt.objs.sidebar.add_item.call(null,lt.objs.sidebar.rightbar,lt.plugins.doc.doc_search);
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.doc","init-doc-search","lt.plugins.doc/init-doc-search",1412884991),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",-1875481434),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.doc.__BEH__init_doc_search);
