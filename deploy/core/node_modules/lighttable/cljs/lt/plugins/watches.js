// Compiled by ClojureScript 1.10.844 {}
goog.provide('lt.plugins.watches');
goog.require('cljs.core');
goog.require('lt.object');
goog.require('lt.objs.command');
goog.require('lt.objs.editor');
goog.require('lt.objs.editor.pool');
lt.plugins.watches.inline = (function lt$plugins$watches$inline(this$,opts,loc){
var ed = new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));
var type = (function (){var or__4160__auto__ = new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(opts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return new cljs.core.Keyword(null,"inline","inline",1399884222);
}
})();
var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(loc));
var res_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1129209318),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"ed","ed",436294224),this$,new cljs.core.Keyword(null,"class","class",-2030961996),(function (){var or__4160__auto__ = new cljs.core.Keyword(null,"class","class",-2030961996).cljs$core$IFn$_invoke$arity$1(opts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return cljs.core.name.call(null,type);
}
})(),new cljs.core.Keyword(null,"opts","opts",155075701),opts,new cljs.core.Keyword(null,"loc","loc",-584284901),loc,new cljs.core.Keyword(null,"line","line",212345235),line], null));
lt.object.add_tags.call(null,res_obj,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"inline.watch","inline.watch",1080031393)], null));

lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",-159098978)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,type], null),res_obj);

return res_obj;
});
lt.plugins.watches.watched_range = (function lt$plugins$watches$watched_range(ed,start,end,src__GT_watch){
var doc = CodeMirror.Doc(lt.objs.editor.__GT_val.call(null,ed));
var range = (cljs.core.truth_(start)?lt.objs.editor.mark.call(null,doc,start,cljs.core.update_in.call(null,end,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ch","ch",-554717905)], null),cljs.core.inc),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inclusiveLeft","inclusiveLeft",-1187110354),true,new cljs.core.Keyword(null,"inclusiveRight","inclusiveRight",2017191646),true], null)):null);
var watches = cljs.core.doall.call(null,cljs.core.filter.call(null,cljs.core.identity,(function (){var iter__4564__auto__ = (function lt$plugins$watches$watched_range_$_iter__13163(s__13164){
return (new cljs.core.LazySeq(null,(function (){
var s__13164__$1 = s__13164;
while(true){
var temp__5753__auto__ = cljs.core.seq.call(null,s__13164__$1);
if(temp__5753__auto__){
var s__13164__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__13164__$2)){
var c__4562__auto__ = cljs.core.chunk_first.call(null,s__13164__$2);
var size__4563__auto__ = cljs.core.count.call(null,c__4562__auto__);
var b__13166 = cljs.core.chunk_buffer.call(null,size__4563__auto__);
if((function (){var i__13165 = (0);
while(true){
if((i__13165 < size__4563__auto__)){
var vec__13167 = cljs.core._nth.call(null,c__4562__auto__,i__13165);
var id = cljs.core.nth.call(null,vec__13167,(0),null);
var watch = cljs.core.nth.call(null,vec__13167,(1),null);
var watch__$1 = new cljs.core.Keyword(null,"mark","mark",-373816345).cljs$core$IFn$_invoke$arity$1(watch);
var pos = watch__$1.find();
var mark = (cljs.core.truth_(pos)?lt.objs.editor.mark.call(null,doc,pos.from,pos.to,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"watched"], null)):null);
cljs.core.chunk_append.call(null,b__13166,(cljs.core.truth_(mark)?(function (){
(mark.custom = watch__$1.custom);

(mark.ltwatchid = id);

return mark;
})()
:null));

var G__13179 = (i__13165 + (1));
i__13165 = G__13179;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__13166),lt$plugins$watches$watched_range_$_iter__13163.call(null,cljs.core.chunk_rest.call(null,s__13164__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__13166),null);
}
} else {
var vec__13170 = cljs.core.first.call(null,s__13164__$2);
var id = cljs.core.nth.call(null,vec__13170,(0),null);
var watch = cljs.core.nth.call(null,vec__13170,(1),null);
var watch__$1 = new cljs.core.Keyword(null,"mark","mark",-373816345).cljs$core$IFn$_invoke$arity$1(watch);
var pos = watch__$1.find();
var mark = (cljs.core.truth_(pos)?lt.objs.editor.mark.call(null,doc,pos.from,pos.to,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"watched"], null)):null);
return cljs.core.cons.call(null,(cljs.core.truth_(mark)?(function (){
(mark.custom = watch__$1.custom);

(mark.ltwatchid = id);

return mark;
})()
:null),lt$plugins$watches$watched_range_$_iter__13163.call(null,cljs.core.rest.call(null,s__13164__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4564__auto__.call(null,new cljs.core.Keyword(null,"watches","watches",-273097535).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));
})()));
var seq__13173_13180 = cljs.core.seq.call(null,watches);
var chunk__13175_13181 = null;
var count__13176_13182 = (0);
var i__13177_13183 = (0);
while(true){
if((i__13177_13183 < count__13176_13182)){
var watch_13184 = cljs.core._nth.call(null,chunk__13175_13181,i__13177_13183);
var pos_13185 = watch_13184.find();
var text_13186 = lt.objs.editor.range.call(null,doc,pos_13185.from,pos_13185.to);
var meta_13187 = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"obj","obj",981763962),lt.object.__GT_id.call(null,ed),new cljs.core.Keyword(null,"id","id",-1388402092),watch_13184.ltwatchid], null);
var v_13188 = ((cljs.core.not.call(null,watch_13184.custom))?lt.object.raise_reduce.call(null,ed,new cljs.core.Keyword(null,"watch.src+","watch.src+",1763720835),text_13186,meta_13187,text_13186):lt.object.raise_reduce.call(null,ed,new cljs.core.Keyword(null,"watch.custom.src+","watch.custom.src+",1708609044),text_13186,meta_13187,watch_13184.custom,text_13186));
lt.objs.editor.replace.call(null,doc,pos_13185.from,pos_13185.to,v_13188);


var G__13189 = seq__13173_13180;
var G__13190 = chunk__13175_13181;
var G__13191 = count__13176_13182;
var G__13192 = (i__13177_13183 + (1));
seq__13173_13180 = G__13189;
chunk__13175_13181 = G__13190;
count__13176_13182 = G__13191;
i__13177_13183 = G__13192;
continue;
} else {
var temp__5753__auto___13193 = cljs.core.seq.call(null,seq__13173_13180);
if(temp__5753__auto___13193){
var seq__13173_13194__$1 = temp__5753__auto___13193;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__13173_13194__$1)){
var c__4591__auto___13195 = cljs.core.chunk_first.call(null,seq__13173_13194__$1);
var G__13196 = cljs.core.chunk_rest.call(null,seq__13173_13194__$1);
var G__13197 = c__4591__auto___13195;
var G__13198 = cljs.core.count.call(null,c__4591__auto___13195);
var G__13199 = (0);
seq__13173_13180 = G__13196;
chunk__13175_13181 = G__13197;
count__13176_13182 = G__13198;
i__13177_13183 = G__13199;
continue;
} else {
var watch_13200 = cljs.core.first.call(null,seq__13173_13194__$1);
var pos_13201 = watch_13200.find();
var text_13202 = lt.objs.editor.range.call(null,doc,pos_13201.from,pos_13201.to);
var meta_13203 = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"obj","obj",981763962),lt.object.__GT_id.call(null,ed),new cljs.core.Keyword(null,"id","id",-1388402092),watch_13200.ltwatchid], null);
var v_13204 = ((cljs.core.not.call(null,watch_13200.custom))?lt.object.raise_reduce.call(null,ed,new cljs.core.Keyword(null,"watch.src+","watch.src+",1763720835),text_13202,meta_13203,text_13202):lt.object.raise_reduce.call(null,ed,new cljs.core.Keyword(null,"watch.custom.src+","watch.custom.src+",1708609044),text_13202,meta_13203,watch_13200.custom,text_13202));
lt.objs.editor.replace.call(null,doc,pos_13201.from,pos_13201.to,v_13204);


var G__13205 = cljs.core.next.call(null,seq__13173_13194__$1);
var G__13206 = null;
var G__13207 = (0);
var G__13208 = (0);
seq__13173_13180 = G__13205;
chunk__13175_13181 = G__13206;
count__13176_13182 = G__13207;
i__13177_13183 = G__13208;
continue;
}
} else {
}
}
break;
}

if(cljs.core.truth_(range)){
var pos = range.find();
return lt.objs.editor.range.call(null,doc,pos.from,pos.to);
} else {
return lt.objs.editor.__GT_val.call(null,doc);
}
});
/**
 * 
 */
lt.plugins.watches.__BEH__clear_BANG_ = (function lt$plugins$watches$__BEH__clear_BANG_(inline_watch){
var ed = new cljs.core.Keyword(null,"ed","ed",436294224).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,inline_watch));
var id = new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"opts","opts",155075701).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,inline_watch)));
new cljs.core.Keyword(null,"mark","mark",-373816345).cljs$core$IFn$_invoke$arity$1(cljs.core.get.call(null,new cljs.core.Keyword(null,"watches","watches",-273097535).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)),id)).clear();

lt.object.update_BANG_.call(null,ed,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"watches","watches",-273097535)], null),cljs.core.dissoc,id);

return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"unwatch","unwatch",617992621));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.watches","clear!","lt.plugins.watches/clear!",797963191),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear","clear",1877104959),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.watches.__BEH__clear_BANG_);
/**
 * 
 */
lt.plugins.watches.__BEH__watch_BANG_ = (function lt$plugins$watches$__BEH__watch_BANG_(this$,opts){
var temp__5753__auto__ = lt.objs.editor.selection_bounds.call(null,this$);
if(cljs.core.truth_(temp__5753__auto__)){
var sel = temp__5753__auto__;
var id = cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.gensym.call(null,"watch"));
var mark = lt.objs.editor.mark.call(null,this$,new cljs.core.Keyword(null,"from","from",1815293044).cljs$core$IFn$_invoke$arity$1(sel),new cljs.core.Keyword(null,"to","to",192099007).cljs$core$IFn$_invoke$arity$1(sel),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"className","className",-1983287057),(function (){var or__4160__auto__ = new cljs.core.Keyword(null,"class","class",-2030961996).cljs$core$IFn$_invoke$arity$1(opts);
if(cljs.core.truth_(or__4160__auto__)){
return or__4160__auto__;
} else {
return "watched";
}
})(),new cljs.core.Keyword(null,"inclusiveLeft","inclusiveLeft",-1187110354),false,new cljs.core.Keyword(null,"inclusiveRight","inclusiveRight",2017191646),false], null));
var res = lt.plugins.watches.inline.call(null,this$,cljs.core.merge.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"watch","watch",380988277),new cljs.core.Keyword(null,"id","id",-1388402092),id], null),opts),new cljs.core.Keyword(null,"to","to",192099007).cljs$core$IFn$_invoke$arity$1(sel));
mark.on("hide",(function (){
return lt.object.raise.call(null,res,new cljs.core.Keyword(null,"clear!","clear!",-144814418));
}));

(mark.custom = (cljs.core.truth_(new cljs.core.Keyword(null,"exp","exp",-261706262).cljs$core$IFn$_invoke$arity$1(opts))?opts:null));

(mark.lttype = new cljs.core.Keyword(null,"watch","watch",380988277));

(mark.ltwatchid = id);

lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"watches","watches",-273097535)], null),cljs.core.assoc,id,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"mark","mark",-373816345),mark,new cljs.core.Keyword(null,"inline-result","inline-result",2067285486),res], null));

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"watch","watch",380988277));
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.watches","watch!","lt.plugins.watches/watch!",-158153155),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"watch!","watch!",-1344124092),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.watches.__BEH__watch_BANG_);
/**
 * 
 */
lt.plugins.watches.__BEH__unwatch_BANG_ = (function lt$plugins$watches$__BEH__unwatch_BANG_(this$){
var temp__5753__auto__ = lt.objs.editor.__GT_cursor.call(null,this$);
if(cljs.core.truth_(temp__5753__auto__)){
var cur = temp__5753__auto__;
var seq__13209 = cljs.core.seq.call(null,lt.objs.editor.find_marks.call(null,this$,cur));
var chunk__13211 = null;
var count__13212 = (0);
var i__13213 = (0);
while(true){
if((i__13213 < count__13212)){
var mark = cljs.core._nth.call(null,chunk__13211,i__13213);
if(cljs.core._EQ_.call(null,mark.lttype,new cljs.core.Keyword(null,"watch","watch",380988277))){
lt.object.raise.call(null,new cljs.core.Keyword(null,"inline-result","inline-result",2067285486).cljs$core$IFn$_invoke$arity$1(cljs.core.get.call(null,new cljs.core.Keyword(null,"watches","watches",-273097535).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),mark.ltwatchid)),new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__13215 = seq__13209;
var G__13216 = chunk__13211;
var G__13217 = count__13212;
var G__13218 = (i__13213 + (1));
seq__13209 = G__13215;
chunk__13211 = G__13216;
count__13212 = G__13217;
i__13213 = G__13218;
continue;
} else {
var G__13219 = seq__13209;
var G__13220 = chunk__13211;
var G__13221 = count__13212;
var G__13222 = (i__13213 + (1));
seq__13209 = G__13219;
chunk__13211 = G__13220;
count__13212 = G__13221;
i__13213 = G__13222;
continue;
}
} else {
var temp__5753__auto____$1 = cljs.core.seq.call(null,seq__13209);
if(temp__5753__auto____$1){
var seq__13209__$1 = temp__5753__auto____$1;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__13209__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__13209__$1);
var G__13223 = cljs.core.chunk_rest.call(null,seq__13209__$1);
var G__13224 = c__4591__auto__;
var G__13225 = cljs.core.count.call(null,c__4591__auto__);
var G__13226 = (0);
seq__13209 = G__13223;
chunk__13211 = G__13224;
count__13212 = G__13225;
i__13213 = G__13226;
continue;
} else {
var mark = cljs.core.first.call(null,seq__13209__$1);
if(cljs.core._EQ_.call(null,mark.lttype,new cljs.core.Keyword(null,"watch","watch",380988277))){
lt.object.raise.call(null,new cljs.core.Keyword(null,"inline-result","inline-result",2067285486).cljs$core$IFn$_invoke$arity$1(cljs.core.get.call(null,new cljs.core.Keyword(null,"watches","watches",-273097535).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),mark.ltwatchid)),new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__13227 = cljs.core.next.call(null,seq__13209__$1);
var G__13228 = null;
var G__13229 = (0);
var G__13230 = (0);
seq__13209 = G__13227;
chunk__13211 = G__13228;
count__13212 = G__13229;
i__13213 = G__13230;
continue;
} else {
var G__13231 = cljs.core.next.call(null,seq__13209__$1);
var G__13232 = null;
var G__13233 = (0);
var G__13234 = (0);
seq__13209 = G__13231;
chunk__13211 = G__13232;
count__13212 = G__13233;
i__13213 = G__13234;
continue;
}
}
} else {
return null;
}
}
break;
}
} else {
return null;
}
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.watches","unwatch!","lt.plugins.watches/unwatch!",1349485034),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"unwatch!","unwatch!",-1465440015),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.watches.__BEH__unwatch_BANG_);
/**
 * 
 */
lt.plugins.watches.__BEH__eval_on_watch_or_unwatch = (function lt$plugins$watches$__BEH__eval_on_watch_or_unwatch(this$){
if(cljs.core.truth_(lt.objs.editor.selection_QMARK_.call(null,this$))){
var cursor_13235 = lt.objs.editor.__GT_cursor.call(null,this$);
lt.objs.editor.set_selection.call(null,this$,cursor_13235,cursor_13235);
} else {
}

return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"eval.one","eval.one",-520903538));
});

lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.plugins.watches","eval-on-watch-or-unwatch","lt.plugins.watches/eval-on-watch-or-unwatch",-1351340450),new cljs.core.Keyword(null,"triggers","triggers",-1443678770),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"unwatch","unwatch",617992621),null,new cljs.core.Keyword(null,"watch","watch",380988277),null], null), null),new cljs.core.Keyword(null,"reaction","reaction",490869788),lt.plugins.watches.__BEH__eval_on_watch_or_unwatch);
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"editor.watch.watch-selection","editor.watch.watch-selection",1173472485),new cljs.core.Keyword(null,"desc","desc",2093485764),"Editor: Watch selection",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"watch!","watch!",-1344124092));
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"editor.watch.custom-watch-selection","editor.watch.custom-watch-selection",227830635),new cljs.core.Keyword(null,"desc","desc",2093485764),"Editor: Custom watch selection",new cljs.core.Keyword(null,"hidden","hidden",-312506092),true,new cljs.core.Keyword(null,"exec","exec",1625568743),(function (exp,opts){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"watch!","watch!",-1344124092),cljs.core.assoc.call(null,opts,new cljs.core.Keyword(null,"exp","exp",-261706262),exp));
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"editor.watch.unwatch","editor.watch.unwatch",492472278),new cljs.core.Keyword(null,"desc","desc",2093485764),"Editor: Remove watch under cursor",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"unwatch!","unwatch!",-1465440015));
} else {
return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",-894540724),new cljs.core.Keyword(null,"editor.watch.remove-all","editor.watch.remove-all",1269101748),new cljs.core.Keyword(null,"desc","desc",2093485764),"Editor: Clear all watches",new cljs.core.Keyword(null,"exec","exec",1625568743),(function (){
var temp__5753__auto__ = lt.objs.editor.pool.last_active.call(null);
if(cljs.core.truth_(temp__5753__auto__)){
var ed = temp__5753__auto__;
var seq__13236 = cljs.core.seq.call(null,cljs.core.vals.call(null,new cljs.core.Keyword(null,"watches","watches",-273097535).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))));
var chunk__13237 = null;
var count__13238 = (0);
var i__13239 = (0);
while(true){
if((i__13239 < count__13238)){
var w = cljs.core._nth.call(null,chunk__13237,i__13239);
lt.object.raise.call(null,new cljs.core.Keyword(null,"inline-result","inline-result",2067285486).cljs$core$IFn$_invoke$arity$1(w),new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__13240 = seq__13236;
var G__13241 = chunk__13237;
var G__13242 = count__13238;
var G__13243 = (i__13239 + (1));
seq__13236 = G__13240;
chunk__13237 = G__13241;
count__13238 = G__13242;
i__13239 = G__13243;
continue;
} else {
var temp__5753__auto____$1 = cljs.core.seq.call(null,seq__13236);
if(temp__5753__auto____$1){
var seq__13236__$1 = temp__5753__auto____$1;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__13236__$1)){
var c__4591__auto__ = cljs.core.chunk_first.call(null,seq__13236__$1);
var G__13244 = cljs.core.chunk_rest.call(null,seq__13236__$1);
var G__13245 = c__4591__auto__;
var G__13246 = cljs.core.count.call(null,c__4591__auto__);
var G__13247 = (0);
seq__13236 = G__13244;
chunk__13237 = G__13245;
count__13238 = G__13246;
i__13239 = G__13247;
continue;
} else {
var w = cljs.core.first.call(null,seq__13236__$1);
lt.object.raise.call(null,new cljs.core.Keyword(null,"inline-result","inline-result",2067285486).cljs$core$IFn$_invoke$arity$1(w),new cljs.core.Keyword(null,"clear!","clear!",-144814418));


var G__13248 = cljs.core.next.call(null,seq__13236__$1);
var G__13249 = null;
var G__13250 = (0);
var G__13251 = (0);
seq__13236 = G__13248;
chunk__13237 = G__13249;
count__13238 = G__13250;
i__13239 = G__13251;
continue;
}
} else {
return null;
}
}
break;
}
} else {
return null;
}
})], null));
